var KL=Object.defineProperty;var YL=(e,t,n)=>t in e?KL(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Km=(e,t,n)=>YL(e,typeof t!="symbol"?t+"":t,n);function MO(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function wr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function cu(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var Ym={exports:{}},Rl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cT;function JL(){if(cT)return Rl;cT=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,o){var l=null;if(o!==void 0&&(l=""+o),i.key!==void 0&&(l=""+i.key),"key"in i){o={};for(var u in i)u!=="key"&&(o[u]=i[u])}else o=i;return i=o.ref,{$$typeof:e,type:r,key:l,ref:i!==void 0?i:null,props:o}}return Rl.Fragment=t,Rl.jsx=n,Rl.jsxs=n,Rl}var fT;function WL(){return fT||(fT=1,Ym.exports=JL()),Ym.exports}var k=WL(),Jm={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dT;function XL(){if(dT)return Re;dT=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),y=Symbol.iterator;function b(L){return L===null||typeof L!="object"?null:(L=y&&L[y]||L["@@iterator"],typeof L=="function"?L:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,T={};function x(L,K,ne){this.props=L,this.context=K,this.refs=T,this.updater=ne||w}x.prototype.isReactComponent={},x.prototype.setState=function(L,K){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,K,"setState")},x.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function O(){}O.prototype=x.prototype;function R(L,K,ne){this.props=L,this.context=K,this.refs=T,this.updater=ne||w}var M=R.prototype=new O;M.constructor=R,E(M,x.prototype),M.isPureReactComponent=!0;var I=Array.isArray;function N(){}var U={H:null,A:null,T:null,S:null},X=Object.prototype.hasOwnProperty;function G(L,K,ne){var ae=ne.ref;return{$$typeof:e,type:L,key:K,ref:ae!==void 0?ae:null,props:ne}}function ie(L,K){return G(L.type,K,L.props)}function W(L){return typeof L=="object"&&L!==null&&L.$$typeof===e}function te(L){var K={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(ne){return K[ne]})}var se=/\/+/g;function he(L,K){return typeof L=="object"&&L!==null&&L.key!=null?te(""+L.key):K.toString(36)}function Ae(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(N,N):(L.status="pending",L.then(function(K){L.status==="pending"&&(L.status="fulfilled",L.value=K)},function(K){L.status==="pending"&&(L.status="rejected",L.reason=K)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function z(L,K,ne,ae,ve){var be=typeof L;(be==="undefined"||be==="boolean")&&(L=null);var xe=!1;if(L===null)xe=!0;else switch(be){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(L.$$typeof){case e:case t:xe=!0;break;case h:return xe=L._init,z(xe(L._payload),K,ne,ae,ve)}}if(xe)return ve=ve(L),xe=ae===""?"."+he(L,0):ae,I(ve)?(ne="",xe!=null&&(ne=xe.replace(se,"$&/")+"/"),z(ve,K,ne,"",function(we){return we})):ve!=null&&(W(ve)&&(ve=ie(ve,ne+(ve.key==null||L&&L.key===ve.key?"":(""+ve.key).replace(se,"$&/")+"/")+xe)),K.push(ve)),1;xe=0;var He=ae===""?".":ae+":";if(I(L))for(var Y=0;Y<L.length;Y++)ae=L[Y],be=He+he(ae,Y),xe+=z(ae,K,ne,be,ve);else if(Y=b(L),typeof Y=="function")for(L=Y.call(L),Y=0;!(ae=L.next()).done;)ae=ae.value,be=He+he(ae,Y++),xe+=z(ae,K,ne,be,ve);else if(be==="object"){if(typeof L.then=="function")return z(Ae(L),K,ne,ae,ve);throw K=String(L),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return xe}function Z(L,K,ne){if(L==null)return L;var ae=[],ve=0;return z(L,ae,"","",function(be){return K.call(ne,be,ve++)}),ae}function oe(L){if(L._status===-1){var K=L._result;K=K(),K.then(function(ne){(L._status===0||L._status===-1)&&(L._status=1,L._result=ne)},function(ne){(L._status===0||L._status===-1)&&(L._status=2,L._result=ne)}),L._status===-1&&(L._status=0,L._result=K)}if(L._status===1)return L._result.default;throw L._result}var ue=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},Ce={map:Z,forEach:function(L,K,ne){Z(L,function(){K.apply(this,arguments)},ne)},count:function(L){var K=0;return Z(L,function(){K++}),K},toArray:function(L){return Z(L,function(K){return K})||[]},only:function(L){if(!W(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return Re.Activity=m,Re.Children=Ce,Re.Component=x,Re.Fragment=n,Re.Profiler=i,Re.PureComponent=R,Re.StrictMode=r,Re.Suspense=f,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=U,Re.__COMPILER_RUNTIME={__proto__:null,c:function(L){return U.H.useMemoCache(L)}},Re.cache=function(L){return function(){return L.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(L,K,ne){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var ae=E({},L.props),ve=L.key;if(K!=null)for(be in K.key!==void 0&&(ve=""+K.key),K)!X.call(K,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&K.ref===void 0||(ae[be]=K[be]);var be=arguments.length-2;if(be===1)ae.children=ne;else if(1<be){for(var xe=Array(be),He=0;He<be;He++)xe[He]=arguments[He+2];ae.children=xe}return G(L.type,ve,ae)},Re.createContext=function(L){return L={$$typeof:l,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:o,_context:L},L},Re.createElement=function(L,K,ne){var ae,ve={},be=null;if(K!=null)for(ae in K.key!==void 0&&(be=""+K.key),K)X.call(K,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(ve[ae]=K[ae]);var xe=arguments.length-2;if(xe===1)ve.children=ne;else if(1<xe){for(var He=Array(xe),Y=0;Y<xe;Y++)He[Y]=arguments[Y+2];ve.children=He}if(L&&L.defaultProps)for(ae in xe=L.defaultProps,xe)ve[ae]===void 0&&(ve[ae]=xe[ae]);return G(L,be,ve)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(L){return{$$typeof:u,render:L}},Re.isValidElement=W,Re.lazy=function(L){return{$$typeof:h,_payload:{_status:-1,_result:L},_init:oe}},Re.memo=function(L,K){return{$$typeof:d,type:L,compare:K===void 0?null:K}},Re.startTransition=function(L){var K=U.T,ne={};U.T=ne;try{var ae=L(),ve=U.S;ve!==null&&ve(ne,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(N,ue)}catch(be){ue(be)}finally{K!==null&&ne.types!==null&&(K.types=ne.types),U.T=K}},Re.unstable_useCacheRefresh=function(){return U.H.useCacheRefresh()},Re.use=function(L){return U.H.use(L)},Re.useActionState=function(L,K,ne){return U.H.useActionState(L,K,ne)},Re.useCallback=function(L,K){return U.H.useCallback(L,K)},Re.useContext=function(L){return U.H.useContext(L)},Re.useDebugValue=function(){},Re.useDeferredValue=function(L,K){return U.H.useDeferredValue(L,K)},Re.useEffect=function(L,K){return U.H.useEffect(L,K)},Re.useEffectEvent=function(L){return U.H.useEffectEvent(L)},Re.useId=function(){return U.H.useId()},Re.useImperativeHandle=function(L,K,ne){return U.H.useImperativeHandle(L,K,ne)},Re.useInsertionEffect=function(L,K){return U.H.useInsertionEffect(L,K)},Re.useLayoutEffect=function(L,K){return U.H.useLayoutEffect(L,K)},Re.useMemo=function(L,K){return U.H.useMemo(L,K)},Re.useOptimistic=function(L,K){return U.H.useOptimistic(L,K)},Re.useReducer=function(L,K,ne){return U.H.useReducer(L,K,ne)},Re.useRef=function(L){return U.H.useRef(L)},Re.useState=function(L){return U.H.useState(L)},Re.useSyncExternalStore=function(L,K,ne){return U.H.useSyncExternalStore(L,K,ne)},Re.useTransition=function(){return U.H.useTransition()},Re.version="19.2.1",Re}var hT;function Ss(){return hT||(hT=1,Jm.exports=XL()),Jm.exports}var C=Ss();const NO=wr(C),QL=MO({__proto__:null,default:NO},[C]);var Wm={exports:{}},Ol={},Xm={exports:{}},Qm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pT;function ZL(){return pT||(pT=1,(function(e){function t(z,Z){var oe=z.length;z.push(Z);e:for(;0<oe;){var ue=oe-1>>>1,Ce=z[ue];if(0<i(Ce,Z))z[ue]=Z,z[oe]=Ce,oe=ue;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var Z=z[0],oe=z.pop();if(oe!==Z){z[0]=oe;e:for(var ue=0,Ce=z.length,L=Ce>>>1;ue<L;){var K=2*(ue+1)-1,ne=z[K],ae=K+1,ve=z[ae];if(0>i(ne,oe))ae<Ce&&0>i(ve,ne)?(z[ue]=ve,z[ae]=oe,ue=ae):(z[ue]=ne,z[K]=oe,ue=K);else if(ae<Ce&&0>i(ve,oe))z[ue]=ve,z[ae]=oe,ue=ae;else break e}}return Z}function i(z,Z){var oe=z.sortIndex-Z.sortIndex;return oe!==0?oe:z.id-Z.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var f=[],d=[],h=1,m=null,y=3,b=!1,w=!1,E=!1,T=!1,x=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function M(z){for(var Z=n(d);Z!==null;){if(Z.callback===null)r(d);else if(Z.startTime<=z)r(d),Z.sortIndex=Z.expirationTime,t(f,Z);else break;Z=n(d)}}function I(z){if(E=!1,M(z),!w)if(n(f)!==null)w=!0,N||(N=!0,te());else{var Z=n(d);Z!==null&&Ae(I,Z.startTime-z)}}var N=!1,U=-1,X=5,G=-1;function ie(){return T?!0:!(e.unstable_now()-G<X)}function W(){if(T=!1,N){var z=e.unstable_now();G=z;var Z=!0;try{e:{w=!1,E&&(E=!1,O(U),U=-1),b=!0;var oe=y;try{t:{for(M(z),m=n(f);m!==null&&!(m.expirationTime>z&&ie());){var ue=m.callback;if(typeof ue=="function"){m.callback=null,y=m.priorityLevel;var Ce=ue(m.expirationTime<=z);if(z=e.unstable_now(),typeof Ce=="function"){m.callback=Ce,M(z),Z=!0;break t}m===n(f)&&r(f),M(z)}else r(f);m=n(f)}if(m!==null)Z=!0;else{var L=n(d);L!==null&&Ae(I,L.startTime-z),Z=!1}}break e}finally{m=null,y=oe,b=!1}Z=void 0}}finally{Z?te():N=!1}}}var te;if(typeof R=="function")te=function(){R(W)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,he=se.port2;se.port1.onmessage=W,te=function(){he.postMessage(null)}}else te=function(){x(W,0)};function Ae(z,Z){U=x(function(){z(e.unstable_now())},Z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_next=function(z){switch(y){case 1:case 2:case 3:var Z=3;break;default:Z=y}var oe=y;y=Z;try{return z()}finally{y=oe}},e.unstable_requestPaint=function(){T=!0},e.unstable_runWithPriority=function(z,Z){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var oe=y;y=z;try{return Z()}finally{y=oe}},e.unstable_scheduleCallback=function(z,Z,oe){var ue=e.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?ue+oe:ue):oe=ue,z){case 1:var Ce=-1;break;case 2:Ce=250;break;case 5:Ce=1073741823;break;case 4:Ce=1e4;break;default:Ce=5e3}return Ce=oe+Ce,z={id:h++,callback:Z,priorityLevel:z,startTime:oe,expirationTime:Ce,sortIndex:-1},oe>ue?(z.sortIndex=oe,t(d,z),n(f)===null&&z===n(d)&&(E?(O(U),U=-1):E=!0,Ae(I,oe-ue))):(z.sortIndex=Ce,t(f,z),w||b||(w=!0,N||(N=!0,te()))),z},e.unstable_shouldYield=ie,e.unstable_wrapCallback=function(z){var Z=y;return function(){var oe=y;y=Z;try{return z.apply(this,arguments)}finally{y=oe}}}})(Qm)),Qm}var mT;function eq(){return mT||(mT=1,Xm.exports=ZL()),Xm.exports}var Zm={exports:{}},en={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gT;function tq(){if(gT)return en;gT=1;var e=Ss();function t(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(f,d,h){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:f,containerInfo:d,implementation:h}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,en.createPortal=function(f,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return o(f,d,null,h)},en.flushSync=function(f){var d=l.T,h=r.p;try{if(l.T=null,r.p=2,f)return f()}finally{l.T=d,r.p=h,r.d.f()}},en.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(f,d))},en.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},en.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var h=d.as,m=u(h,d.crossOrigin),y=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?r.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:m,integrity:y,fetchPriority:b}):h==="script"&&r.d.X(f,{crossOrigin:m,integrity:y,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},en.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=u(d.as,d.crossOrigin);r.d.M(f,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(f)},en.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,m=u(h,d.crossOrigin);r.d.L(f,h,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},en.preloadModule=function(f,d){if(typeof f=="string")if(d){var h=u(d.as,d.crossOrigin);r.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(f)},en.requestFormReset=function(f){r.d.r(f)},en.unstable_batchedUpdates=function(f,d){return f(d)},en.useFormState=function(f,d,h){return l.H.useFormState(f,d,h)},en.useFormStatus=function(){return l.H.useHostTransitionStatus()},en.version="19.2.1",en}var vT;function kO(){if(vT)return Zm.exports;vT=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Zm.exports=tq(),Zm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yT;function nq(){if(yT)return Ol;yT=1;var e=eq(),t=Ss(),n=kO();function r(a){var s="https://react.dev/errors/"+a;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)s+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+a+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var s=a,c=a;if(a.alternate)for(;s.return;)s=s.return;else{a=s;do s=a,(s.flags&4098)!==0&&(c=s.return),a=s.return;while(a)}return s.tag===3?c:null}function l(a){if(a.tag===13){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function u(a){if(a.tag===31){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function f(a){if(o(a)!==a)throw Error(r(188))}function d(a){var s=a.alternate;if(!s){if(s=o(a),s===null)throw Error(r(188));return s!==a?null:a}for(var c=a,p=s;;){var _=c.return;if(_===null)break;var S=_.alternate;if(S===null){if(p=_.return,p!==null){c=p;continue}break}if(_.child===S.child){for(S=_.child;S;){if(S===c)return f(_),a;if(S===p)return f(_),s;S=S.sibling}throw Error(r(188))}if(c.return!==p.return)c=_,p=S;else{for(var A=!1,P=_.child;P;){if(P===c){A=!0,c=_,p=S;break}if(P===p){A=!0,p=_,c=S;break}P=P.sibling}if(!A){for(P=S.child;P;){if(P===c){A=!0,c=S,p=_;break}if(P===p){A=!0,p=S,c=_;break}P=P.sibling}if(!A)throw Error(r(189))}}if(c.alternate!==p)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?a:s}function h(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a;for(a=a.child;a!==null;){if(s=h(a),s!==null)return s;a=a.sibling}return null}var m=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),R=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),G=Symbol.for("react.activity"),ie=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function te(a){return a===null||typeof a!="object"?null:(a=W&&a[W]||a["@@iterator"],typeof a=="function"?a:null)}var se=Symbol.for("react.client.reference");function he(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===se?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case E:return"Fragment";case x:return"Profiler";case T:return"StrictMode";case I:return"Suspense";case N:return"SuspenseList";case G:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case w:return"Portal";case R:return a.displayName||"Context";case O:return(a._context.displayName||"Context")+".Consumer";case M:var s=a.render;return a=a.displayName,a||(a=s.displayName||s.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case U:return s=a.displayName||null,s!==null?s:he(a.type)||"Memo";case X:s=a._payload,a=a._init;try{return he(a(s))}catch{}}return null}var Ae=Array.isArray,z=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},ue=[],Ce=-1;function L(a){return{current:a}}function K(a){0>Ce||(a.current=ue[Ce],ue[Ce]=null,Ce--)}function ne(a,s){Ce++,ue[Ce]=a.current,a.current=s}var ae=L(null),ve=L(null),be=L(null),xe=L(null);function He(a,s){switch(ne(be,s),ne(ve,a),ne(ae,null),s.nodeType){case 9:case 11:a=(a=s.documentElement)&&(a=a.namespaceURI)?NE(a):0;break;default:if(a=s.tagName,s=s.namespaceURI)s=NE(s),a=kE(s,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}K(ae),ne(ae,a)}function Y(){K(ae),K(ve),K(be)}function we(a){a.memoizedState!==null&&ne(xe,a);var s=ae.current,c=kE(s,a.type);s!==c&&(ne(ve,a),ne(ae,c))}function Te(a){ve.current===a&&(K(ae),K(ve)),xe.current===a&&(K(xe),Tl._currentValue=oe)}var re,$t;function Le(a){if(re===void 0)try{throw Error()}catch(c){var s=c.stack.trim().match(/\n( *(at )?)/);re=s&&s[1]||"",$t=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+re+a+$t}var Ht=!1;function jt(a,s){if(!a||Ht)return"";Ht=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(s){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(F){var j=F}Reflect.construct(a,[],ee)}else{try{ee.call()}catch(F){j=F}a.call(ee.prototype)}}else{try{throw Error()}catch(F){j=F}(ee=a())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(F){if(F&&j&&typeof F.stack=="string")return[F.stack,j.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var _=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");_&&_.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=p.DetermineComponentFrameRoot(),A=S[0],P=S[1];if(A&&P){var D=A.split(`
`),H=P.split(`
`);for(_=p=0;p<D.length&&!D[p].includes("DetermineComponentFrameRoot");)p++;for(;_<H.length&&!H[_].includes("DetermineComponentFrameRoot");)_++;if(p===D.length||_===H.length)for(p=D.length-1,_=H.length-1;1<=p&&0<=_&&D[p]!==H[_];)_--;for(;1<=p&&0<=_;p--,_--)if(D[p]!==H[_]){if(p!==1||_!==1)do if(p--,_--,0>_||D[p]!==H[_]){var J=`
`+D[p].replace(" at new "," at ");return a.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",a.displayName)),J}while(1<=p&&0<=_);break}}}finally{Ht=!1,Error.prepareStackTrace=c}return(c=a?a.displayName||a.name:"")?Le(c):""}function Dr(a,s){switch(a.tag){case 26:case 27:case 5:return Le(a.type);case 16:return Le("Lazy");case 13:return a.child!==s&&s!==null?Le("Suspense Fallback"):Le("Suspense");case 19:return Le("SuspenseList");case 0:case 15:return jt(a.type,!1);case 11:return jt(a.type.render,!1);case 1:return jt(a.type,!0);case 31:return Le("Activity");default:return""}}function Ds(a){try{var s="",c=null;do s+=Dr(a,c),c=a,a=a.return;while(a);return s}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var Mh=Object.prototype.hasOwnProperty,Nh=e.unstable_scheduleCallback,kh=e.unstable_cancelCallback,A2=e.unstable_shouldYield,x2=e.unstable_requestPaint,Cn=e.unstable_now,C2=e.unstable_getCurrentPriorityLevel,fb=e.unstable_ImmediatePriority,db=e.unstable_UserBlockingPriority,Du=e.unstable_NormalPriority,R2=e.unstable_LowPriority,hb=e.unstable_IdlePriority,O2=e.log,P2=e.unstable_setDisableYieldValue,Us=null,Rn=null;function Pi(a){if(typeof O2=="function"&&P2(a),Rn&&typeof Rn.setStrictMode=="function")try{Rn.setStrictMode(Us,a)}catch{}}var On=Math.clz32?Math.clz32:N2,I2=Math.log,M2=Math.LN2;function N2(a){return a>>>=0,a===0?32:31-(I2(a)/M2|0)|0}var Uu=256,Lu=262144,qu=4194304;function da(a){var s=a&42;if(s!==0)return s;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Bu(a,s,c){var p=a.pendingLanes;if(p===0)return 0;var _=0,S=a.suspendedLanes,A=a.pingedLanes;a=a.warmLanes;var P=p&134217727;return P!==0?(p=P&~S,p!==0?_=da(p):(A&=P,A!==0?_=da(A):c||(c=P&~a,c!==0&&(_=da(c))))):(P=p&~S,P!==0?_=da(P):A!==0?_=da(A):c||(c=p&~a,c!==0&&(_=da(c)))),_===0?0:s!==0&&s!==_&&(s&S)===0&&(S=_&-_,c=s&-s,S>=c||S===32&&(c&4194048)!==0)?s:_}function Ls(a,s){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&s)===0}function k2(a,s){switch(a){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pb(){var a=qu;return qu<<=1,(qu&62914560)===0&&(qu=4194304),a}function Dh(a){for(var s=[],c=0;31>c;c++)s.push(a);return s}function qs(a,s){a.pendingLanes|=s,s!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function D2(a,s,c,p,_,S){var A=a.pendingLanes;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=c,a.entangledLanes&=c,a.errorRecoveryDisabledLanes&=c,a.shellSuspendCounter=0;var P=a.entanglements,D=a.expirationTimes,H=a.hiddenUpdates;for(c=A&~c;0<c;){var J=31-On(c),ee=1<<J;P[J]=0,D[J]=-1;var j=H[J];if(j!==null)for(H[J]=null,J=0;J<j.length;J++){var F=j[J];F!==null&&(F.lane&=-536870913)}c&=~ee}p!==0&&mb(a,p,0),S!==0&&_===0&&a.tag!==0&&(a.suspendedLanes|=S&~(A&~s))}function mb(a,s,c){a.pendingLanes|=s,a.suspendedLanes&=~s;var p=31-On(s);a.entangledLanes|=s,a.entanglements[p]=a.entanglements[p]|1073741824|c&261930}function gb(a,s){var c=a.entangledLanes|=s;for(a=a.entanglements;c;){var p=31-On(c),_=1<<p;_&s|a[p]&s&&(a[p]|=s),c&=~_}}function vb(a,s){var c=s&-s;return c=(c&42)!==0?1:Uh(c),(c&(a.suspendedLanes|s))!==0?0:c}function Uh(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Lh(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function yb(){var a=Z.p;return a!==0?a:(a=window.event,a===void 0?32:rT(a.type))}function _b(a,s){var c=Z.p;try{return Z.p=a,s()}finally{Z.p=c}}var Ii=Math.random().toString(36).slice(2),Gt="__reactFiber$"+Ii,hn="__reactProps$"+Ii,ro="__reactContainer$"+Ii,qh="__reactEvents$"+Ii,U2="__reactListeners$"+Ii,L2="__reactHandles$"+Ii,bb="__reactResources$"+Ii,Bs="__reactMarker$"+Ii;function Bh(a){delete a[Gt],delete a[hn],delete a[qh],delete a[U2],delete a[L2]}function io(a){var s=a[Gt];if(s)return s;for(var c=a.parentNode;c;){if(s=c[ro]||c[Gt]){if(c=s.alternate,s.child!==null||c!==null&&c.child!==null)for(a=$E(a);a!==null;){if(c=a[Gt])return c;a=$E(a)}return s}a=c,c=a.parentNode}return null}function ao(a){if(a=a[Gt]||a[ro]){var s=a.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return a}return null}function zs(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a.stateNode;throw Error(r(33))}function oo(a){var s=a[bb];return s||(s=a[bb]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Nt(a){a[Bs]=!0}var Sb=new Set,wb={};function ha(a,s){so(a,s),so(a+"Capture",s)}function so(a,s){for(wb[a]=s,a=0;a<s.length;a++)Sb.add(s[a])}var q2=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Eb={},Tb={};function B2(a){return Mh.call(Tb,a)?!0:Mh.call(Eb,a)?!1:q2.test(a)?Tb[a]=!0:(Eb[a]=!0,!1)}function zu(a,s,c){if(B2(s))if(c===null)a.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":a.removeAttribute(s);return;case"boolean":var p=s.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){a.removeAttribute(s);return}}a.setAttribute(s,""+c)}}function $u(a,s,c){if(c===null)a.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(s);return}a.setAttribute(s,""+c)}}function Ur(a,s,c,p){if(p===null)a.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttributeNS(s,c,""+p)}}function Gn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Ab(a){var s=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function z2(a,s,c){var p=Object.getOwnPropertyDescriptor(a.constructor.prototype,s);if(!a.hasOwnProperty(s)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var _=p.get,S=p.set;return Object.defineProperty(a,s,{configurable:!0,get:function(){return _.call(this)},set:function(A){c=""+A,S.call(this,A)}}),Object.defineProperty(a,s,{enumerable:p.enumerable}),{getValue:function(){return c},setValue:function(A){c=""+A},stopTracking:function(){a._valueTracker=null,delete a[s]}}}}function zh(a){if(!a._valueTracker){var s=Ab(a)?"checked":"value";a._valueTracker=z2(a,s,""+a[s])}}function xb(a){if(!a)return!1;var s=a._valueTracker;if(!s)return!0;var c=s.getValue(),p="";return a&&(p=Ab(a)?a.checked?"true":"false":a.value),a=p,a!==c?(s.setValue(a),!0):!1}function Hu(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var $2=/[\n"\\]/g;function Fn(a){return a.replace($2,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function $h(a,s,c,p,_,S,A,P){a.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?a.type=A:a.removeAttribute("type"),s!=null?A==="number"?(s===0&&a.value===""||a.value!=s)&&(a.value=""+Gn(s)):a.value!==""+Gn(s)&&(a.value=""+Gn(s)):A!=="submit"&&A!=="reset"||a.removeAttribute("value"),s!=null?Hh(a,A,Gn(s)):c!=null?Hh(a,A,Gn(c)):p!=null&&a.removeAttribute("value"),_==null&&S!=null&&(a.defaultChecked=!!S),_!=null&&(a.checked=_&&typeof _!="function"&&typeof _!="symbol"),P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?a.name=""+Gn(P):a.removeAttribute("name")}function Cb(a,s,c,p,_,S,A,P){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(a.type=S),s!=null||c!=null){if(!(S!=="submit"&&S!=="reset"||s!=null)){zh(a);return}c=c!=null?""+Gn(c):"",s=s!=null?""+Gn(s):c,P||s===a.value||(a.value=s),a.defaultValue=s}p=p??_,p=typeof p!="function"&&typeof p!="symbol"&&!!p,a.checked=P?a.checked:!!p,a.defaultChecked=!!p,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(a.name=A),zh(a)}function Hh(a,s,c){s==="number"&&Hu(a.ownerDocument)===a||a.defaultValue===""+c||(a.defaultValue=""+c)}function lo(a,s,c,p){if(a=a.options,s){s={};for(var _=0;_<c.length;_++)s["$"+c[_]]=!0;for(c=0;c<a.length;c++)_=s.hasOwnProperty("$"+a[c].value),a[c].selected!==_&&(a[c].selected=_),_&&p&&(a[c].defaultSelected=!0)}else{for(c=""+Gn(c),s=null,_=0;_<a.length;_++){if(a[_].value===c){a[_].selected=!0,p&&(a[_].defaultSelected=!0);return}s!==null||a[_].disabled||(s=a[_])}s!==null&&(s.selected=!0)}}function Rb(a,s,c){if(s!=null&&(s=""+Gn(s),s!==a.value&&(a.value=s),c==null)){a.defaultValue!==s&&(a.defaultValue=s);return}a.defaultValue=c!=null?""+Gn(c):""}function Ob(a,s,c,p){if(s==null){if(p!=null){if(c!=null)throw Error(r(92));if(Ae(p)){if(1<p.length)throw Error(r(93));p=p[0]}c=p}c==null&&(c=""),s=c}c=Gn(s),a.defaultValue=c,p=a.textContent,p===c&&p!==""&&p!==null&&(a.value=p),zh(a)}function uo(a,s){if(s){var c=a.firstChild;if(c&&c===a.lastChild&&c.nodeType===3){c.nodeValue=s;return}}a.textContent=s}var H2=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Pb(a,s,c){var p=s.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?p?a.setProperty(s,""):s==="float"?a.cssFloat="":a[s]="":p?a.setProperty(s,c):typeof c!="number"||c===0||H2.has(s)?s==="float"?a.cssFloat=c:a[s]=(""+c).trim():a[s]=c+"px"}function Ib(a,s,c){if(s!=null&&typeof s!="object")throw Error(r(62));if(a=a.style,c!=null){for(var p in c)!c.hasOwnProperty(p)||s!=null&&s.hasOwnProperty(p)||(p.indexOf("--")===0?a.setProperty(p,""):p==="float"?a.cssFloat="":a[p]="");for(var _ in s)p=s[_],s.hasOwnProperty(_)&&c[_]!==p&&Pb(a,_,p)}else for(var S in s)s.hasOwnProperty(S)&&Pb(a,S,s[S])}function jh(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var j2=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),G2=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ju(a){return G2.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Lr(){}var Gh=null;function Fh(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var co=null,fo=null;function Mb(a){var s=ao(a);if(s&&(a=s.stateNode)){var c=a[hn]||null;e:switch(a=s.stateNode,s.type){case"input":if($h(a,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),s=c.name,c.type==="radio"&&s!=null){for(c=a;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Fn(""+s)+'"][type="radio"]'),s=0;s<c.length;s++){var p=c[s];if(p!==a&&p.form===a.form){var _=p[hn]||null;if(!_)throw Error(r(90));$h(p,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name)}}for(s=0;s<c.length;s++)p=c[s],p.form===a.form&&xb(p)}break e;case"textarea":Rb(a,c.value,c.defaultValue);break e;case"select":s=c.value,s!=null&&lo(a,!!c.multiple,s,!1)}}}var Vh=!1;function Nb(a,s,c){if(Vh)return a(s,c);Vh=!0;try{var p=a(s);return p}finally{if(Vh=!1,(co!==null||fo!==null)&&(Pc(),co&&(s=co,a=fo,fo=co=null,Mb(s),a)))for(s=0;s<a.length;s++)Mb(a[s])}}function $s(a,s){var c=a.stateNode;if(c===null)return null;var p=c[hn]||null;if(p===null)return null;c=p[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(a=a.type,p=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!p;break e;default:a=!1}if(a)return null;if(c&&typeof c!="function")throw Error(r(231,s,typeof c));return c}var qr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Kh=!1;if(qr)try{var Hs={};Object.defineProperty(Hs,"passive",{get:function(){Kh=!0}}),window.addEventListener("test",Hs,Hs),window.removeEventListener("test",Hs,Hs)}catch{Kh=!1}var Mi=null,Yh=null,Gu=null;function kb(){if(Gu)return Gu;var a,s=Yh,c=s.length,p,_="value"in Mi?Mi.value:Mi.textContent,S=_.length;for(a=0;a<c&&s[a]===_[a];a++);var A=c-a;for(p=1;p<=A&&s[c-p]===_[S-p];p++);return Gu=_.slice(a,1<p?1-p:void 0)}function Fu(a){var s=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&s===13&&(a=13)):a=s,a===10&&(a=13),32<=a||a===13?a:0}function Vu(){return!0}function Db(){return!1}function pn(a){function s(c,p,_,S,A){this._reactName=c,this._targetInst=_,this.type=p,this.nativeEvent=S,this.target=A,this.currentTarget=null;for(var P in a)a.hasOwnProperty(P)&&(c=a[P],this[P]=c?c(S):S[P]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?Vu:Db,this.isPropagationStopped=Db,this}return m(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Vu)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Vu)},persist:function(){},isPersistent:Vu}),s}var pa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ku=pn(pa),js=m({},pa,{view:0,detail:0}),F2=pn(js),Jh,Wh,Gs,Yu=m({},js,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qh,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Gs&&(Gs&&a.type==="mousemove"?(Jh=a.screenX-Gs.screenX,Wh=a.screenY-Gs.screenY):Wh=Jh=0,Gs=a),Jh)},movementY:function(a){return"movementY"in a?a.movementY:Wh}}),Ub=pn(Yu),V2=m({},Yu,{dataTransfer:0}),K2=pn(V2),Y2=m({},js,{relatedTarget:0}),Xh=pn(Y2),J2=m({},pa,{animationName:0,elapsedTime:0,pseudoElement:0}),W2=pn(J2),X2=m({},pa,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Q2=pn(X2),Z2=m({},pa,{data:0}),Lb=pn(Z2),eU={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tU={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nU={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rU(a){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(a):(a=nU[a])?!!s[a]:!1}function Qh(){return rU}var iU=m({},js,{key:function(a){if(a.key){var s=eU[a.key]||a.key;if(s!=="Unidentified")return s}return a.type==="keypress"?(a=Fu(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?tU[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qh,charCode:function(a){return a.type==="keypress"?Fu(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Fu(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),aU=pn(iU),oU=m({},Yu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qb=pn(oU),sU=m({},js,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qh}),lU=pn(sU),uU=m({},pa,{propertyName:0,elapsedTime:0,pseudoElement:0}),cU=pn(uU),fU=m({},Yu,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),dU=pn(fU),hU=m({},pa,{newState:0,oldState:0}),pU=pn(hU),mU=[9,13,27,32],Zh=qr&&"CompositionEvent"in window,Fs=null;qr&&"documentMode"in document&&(Fs=document.documentMode);var gU=qr&&"TextEvent"in window&&!Fs,Bb=qr&&(!Zh||Fs&&8<Fs&&11>=Fs),zb=" ",$b=!1;function Hb(a,s){switch(a){case"keyup":return mU.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jb(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var ho=!1;function vU(a,s){switch(a){case"compositionend":return jb(s);case"keypress":return s.which!==32?null:($b=!0,zb);case"textInput":return a=s.data,a===zb&&$b?null:a;default:return null}}function yU(a,s){if(ho)return a==="compositionend"||!Zh&&Hb(a,s)?(a=kb(),Gu=Yh=Mi=null,ho=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Bb&&s.locale!=="ko"?null:s.data;default:return null}}var _U={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gb(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s==="input"?!!_U[a.type]:s==="textarea"}function Fb(a,s,c,p){co?fo?fo.push(p):fo=[p]:co=p,s=Lc(s,"onChange"),0<s.length&&(c=new Ku("onChange","change",null,c,p),a.push({event:c,listeners:s}))}var Vs=null,Ks=null;function bU(a){CE(a,0)}function Ju(a){var s=zs(a);if(xb(s))return a}function Vb(a,s){if(a==="change")return s}var Kb=!1;if(qr){var ep;if(qr){var tp="oninput"in document;if(!tp){var Yb=document.createElement("div");Yb.setAttribute("oninput","return;"),tp=typeof Yb.oninput=="function"}ep=tp}else ep=!1;Kb=ep&&(!document.documentMode||9<document.documentMode)}function Jb(){Vs&&(Vs.detachEvent("onpropertychange",Wb),Ks=Vs=null)}function Wb(a){if(a.propertyName==="value"&&Ju(Ks)){var s=[];Fb(s,Ks,a,Fh(a)),Nb(bU,s)}}function SU(a,s,c){a==="focusin"?(Jb(),Vs=s,Ks=c,Vs.attachEvent("onpropertychange",Wb)):a==="focusout"&&Jb()}function wU(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Ju(Ks)}function EU(a,s){if(a==="click")return Ju(s)}function TU(a,s){if(a==="input"||a==="change")return Ju(s)}function AU(a,s){return a===s&&(a!==0||1/a===1/s)||a!==a&&s!==s}var Pn=typeof Object.is=="function"?Object.is:AU;function Ys(a,s){if(Pn(a,s))return!0;if(typeof a!="object"||a===null||typeof s!="object"||s===null)return!1;var c=Object.keys(a),p=Object.keys(s);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var _=c[p];if(!Mh.call(s,_)||!Pn(a[_],s[_]))return!1}return!0}function Xb(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Qb(a,s){var c=Xb(a);a=0;for(var p;c;){if(c.nodeType===3){if(p=a+c.textContent.length,a<=s&&p>=s)return{node:c,offset:s-a};a=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Xb(c)}}function Zb(a,s){return a&&s?a===s?!0:a&&a.nodeType===3?!1:s&&s.nodeType===3?Zb(a,s.parentNode):"contains"in a?a.contains(s):a.compareDocumentPosition?!!(a.compareDocumentPosition(s)&16):!1:!1}function eS(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var s=Hu(a.document);s instanceof a.HTMLIFrameElement;){try{var c=typeof s.contentWindow.location.href=="string"}catch{c=!1}if(c)a=s.contentWindow;else break;s=Hu(a.document)}return s}function np(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s&&(s==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||s==="textarea"||a.contentEditable==="true")}var xU=qr&&"documentMode"in document&&11>=document.documentMode,po=null,rp=null,Js=null,ip=!1;function tS(a,s,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;ip||po==null||po!==Hu(p)||(p=po,"selectionStart"in p&&np(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Js&&Ys(Js,p)||(Js=p,p=Lc(rp,"onSelect"),0<p.length&&(s=new Ku("onSelect","select",null,s,c),a.push({event:s,listeners:p}),s.target=po)))}function ma(a,s){var c={};return c[a.toLowerCase()]=s.toLowerCase(),c["Webkit"+a]="webkit"+s,c["Moz"+a]="moz"+s,c}var mo={animationend:ma("Animation","AnimationEnd"),animationiteration:ma("Animation","AnimationIteration"),animationstart:ma("Animation","AnimationStart"),transitionrun:ma("Transition","TransitionRun"),transitionstart:ma("Transition","TransitionStart"),transitioncancel:ma("Transition","TransitionCancel"),transitionend:ma("Transition","TransitionEnd")},ap={},nS={};qr&&(nS=document.createElement("div").style,"AnimationEvent"in window||(delete mo.animationend.animation,delete mo.animationiteration.animation,delete mo.animationstart.animation),"TransitionEvent"in window||delete mo.transitionend.transition);function ga(a){if(ap[a])return ap[a];if(!mo[a])return a;var s=mo[a],c;for(c in s)if(s.hasOwnProperty(c)&&c in nS)return ap[a]=s[c];return a}var rS=ga("animationend"),iS=ga("animationiteration"),aS=ga("animationstart"),CU=ga("transitionrun"),RU=ga("transitionstart"),OU=ga("transitioncancel"),oS=ga("transitionend"),sS=new Map,op="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");op.push("scrollEnd");function ur(a,s){sS.set(a,s),ha(s,[a])}var Wu=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},Vn=[],go=0,sp=0;function Xu(){for(var a=go,s=sp=go=0;s<a;){var c=Vn[s];Vn[s++]=null;var p=Vn[s];Vn[s++]=null;var _=Vn[s];Vn[s++]=null;var S=Vn[s];if(Vn[s++]=null,p!==null&&_!==null){var A=p.pending;A===null?_.next=_:(_.next=A.next,A.next=_),p.pending=_}S!==0&&lS(c,_,S)}}function Qu(a,s,c,p){Vn[go++]=a,Vn[go++]=s,Vn[go++]=c,Vn[go++]=p,sp|=p,a.lanes|=p,a=a.alternate,a!==null&&(a.lanes|=p)}function lp(a,s,c,p){return Qu(a,s,c,p),Zu(a)}function va(a,s){return Qu(a,null,null,s),Zu(a)}function lS(a,s,c){a.lanes|=c;var p=a.alternate;p!==null&&(p.lanes|=c);for(var _=!1,S=a.return;S!==null;)S.childLanes|=c,p=S.alternate,p!==null&&(p.childLanes|=c),S.tag===22&&(a=S.stateNode,a===null||a._visibility&1||(_=!0)),a=S,S=S.return;return a.tag===3?(S=a.stateNode,_&&s!==null&&(_=31-On(c),a=S.hiddenUpdates,p=a[_],p===null?a[_]=[s]:p.push(s),s.lane=c|536870912),S):null}function Zu(a){if(50<vl)throw vl=0,vm=null,Error(r(185));for(var s=a.return;s!==null;)a=s,s=a.return;return a.tag===3?a.stateNode:null}var vo={};function PU(a,s,c,p){this.tag=a,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(a,s,c,p){return new PU(a,s,c,p)}function up(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Br(a,s){var c=a.alternate;return c===null?(c=In(a.tag,s,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=s,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=a.flags&65011712,c.childLanes=a.childLanes,c.lanes=a.lanes,c.child=a.child,c.memoizedProps=a.memoizedProps,c.memoizedState=a.memoizedState,c.updateQueue=a.updateQueue,s=a.dependencies,c.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},c.sibling=a.sibling,c.index=a.index,c.ref=a.ref,c.refCleanup=a.refCleanup,c}function uS(a,s){a.flags&=65011714;var c=a.alternate;return c===null?(a.childLanes=0,a.lanes=s,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,s=c.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),a}function ec(a,s,c,p,_,S){var A=0;if(p=a,typeof a=="function")up(a)&&(A=1);else if(typeof a=="string")A=DL(a,c,ae.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case G:return a=In(31,c,s,_),a.elementType=G,a.lanes=S,a;case E:return ya(c.children,_,S,s);case T:A=8,_|=24;break;case x:return a=In(12,c,s,_|2),a.elementType=x,a.lanes=S,a;case I:return a=In(13,c,s,_),a.elementType=I,a.lanes=S,a;case N:return a=In(19,c,s,_),a.elementType=N,a.lanes=S,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case R:A=10;break e;case O:A=9;break e;case M:A=11;break e;case U:A=14;break e;case X:A=16,p=null;break e}A=29,c=Error(r(130,a===null?"null":typeof a,"")),p=null}return s=In(A,c,s,_),s.elementType=a,s.type=p,s.lanes=S,s}function ya(a,s,c,p){return a=In(7,a,p,s),a.lanes=c,a}function cp(a,s,c){return a=In(6,a,null,s),a.lanes=c,a}function cS(a){var s=In(18,null,null,0);return s.stateNode=a,s}function fp(a,s,c){return s=In(4,a.children!==null?a.children:[],a.key,s),s.lanes=c,s.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},s}var fS=new WeakMap;function Kn(a,s){if(typeof a=="object"&&a!==null){var c=fS.get(a);return c!==void 0?c:(s={value:a,source:s,stack:Ds(s)},fS.set(a,s),s)}return{value:a,source:s,stack:Ds(s)}}var yo=[],_o=0,tc=null,Ws=0,Yn=[],Jn=0,Ni=null,Ar=1,xr="";function zr(a,s){yo[_o++]=Ws,yo[_o++]=tc,tc=a,Ws=s}function dS(a,s,c){Yn[Jn++]=Ar,Yn[Jn++]=xr,Yn[Jn++]=Ni,Ni=a;var p=Ar;a=xr;var _=32-On(p)-1;p&=~(1<<_),c+=1;var S=32-On(s)+_;if(30<S){var A=_-_%5;S=(p&(1<<A)-1).toString(32),p>>=A,_-=A,Ar=1<<32-On(s)+_|c<<_|p,xr=S+a}else Ar=1<<S|c<<_|p,xr=a}function dp(a){a.return!==null&&(zr(a,1),dS(a,1,0))}function hp(a){for(;a===tc;)tc=yo[--_o],yo[_o]=null,Ws=yo[--_o],yo[_o]=null;for(;a===Ni;)Ni=Yn[--Jn],Yn[Jn]=null,xr=Yn[--Jn],Yn[Jn]=null,Ar=Yn[--Jn],Yn[Jn]=null}function hS(a,s){Yn[Jn++]=Ar,Yn[Jn++]=xr,Yn[Jn++]=Ni,Ar=s.id,xr=s.overflow,Ni=a}var Ft=null,nt=null,Ue=!1,ki=null,Wn=!1,pp=Error(r(519));function Di(a){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Xs(Kn(s,a)),pp}function pS(a){var s=a.stateNode,c=a.type,p=a.memoizedProps;switch(s[Gt]=a,s[hn]=p,c){case"dialog":Ne("cancel",s),Ne("close",s);break;case"iframe":case"object":case"embed":Ne("load",s);break;case"video":case"audio":for(c=0;c<_l.length;c++)Ne(_l[c],s);break;case"source":Ne("error",s);break;case"img":case"image":case"link":Ne("error",s),Ne("load",s);break;case"details":Ne("toggle",s);break;case"input":Ne("invalid",s),Cb(s,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":Ne("invalid",s);break;case"textarea":Ne("invalid",s),Ob(s,p.value,p.defaultValue,p.children)}c=p.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||s.textContent===""+c||p.suppressHydrationWarning===!0||IE(s.textContent,c)?(p.popover!=null&&(Ne("beforetoggle",s),Ne("toggle",s)),p.onScroll!=null&&Ne("scroll",s),p.onScrollEnd!=null&&Ne("scrollend",s),p.onClick!=null&&(s.onclick=Lr),s=!0):s=!1,s||Di(a,!0)}function mS(a){for(Ft=a.return;Ft;)switch(Ft.tag){case 5:case 31:case 13:Wn=!1;return;case 27:case 3:Wn=!0;return;default:Ft=Ft.return}}function bo(a){if(a!==Ft)return!1;if(!Ue)return mS(a),Ue=!0,!1;var s=a.tag,c;if((c=s!==3&&s!==27)&&((c=s===5)&&(c=a.type,c=!(c!=="form"&&c!=="button")||Mm(a.type,a.memoizedProps)),c=!c),c&&nt&&Di(a),mS(a),s===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));nt=zE(a)}else if(s===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));nt=zE(a)}else s===27?(s=nt,Ji(a.type)?(a=Lm,Lm=null,nt=a):nt=s):nt=Ft?Qn(a.stateNode.nextSibling):null;return!0}function _a(){nt=Ft=null,Ue=!1}function mp(){var a=ki;return a!==null&&(yn===null?yn=a:yn.push.apply(yn,a),ki=null),a}function Xs(a){ki===null?ki=[a]:ki.push(a)}var gp=L(null),ba=null,$r=null;function Ui(a,s,c){ne(gp,s._currentValue),s._currentValue=c}function Hr(a){a._currentValue=gp.current,K(gp)}function vp(a,s,c){for(;a!==null;){var p=a.alternate;if((a.childLanes&s)!==s?(a.childLanes|=s,p!==null&&(p.childLanes|=s)):p!==null&&(p.childLanes&s)!==s&&(p.childLanes|=s),a===c)break;a=a.return}}function yp(a,s,c,p){var _=a.child;for(_!==null&&(_.return=a);_!==null;){var S=_.dependencies;if(S!==null){var A=_.child;S=S.firstContext;e:for(;S!==null;){var P=S;S=_;for(var D=0;D<s.length;D++)if(P.context===s[D]){S.lanes|=c,P=S.alternate,P!==null&&(P.lanes|=c),vp(S.return,c,a),p||(A=null);break e}S=P.next}}else if(_.tag===18){if(A=_.return,A===null)throw Error(r(341));A.lanes|=c,S=A.alternate,S!==null&&(S.lanes|=c),vp(A,c,a),A=null}else A=_.child;if(A!==null)A.return=_;else for(A=_;A!==null;){if(A===a){A=null;break}if(_=A.sibling,_!==null){_.return=A.return,A=_;break}A=A.return}_=A}}function So(a,s,c,p){a=null;for(var _=s,S=!1;_!==null;){if(!S){if((_.flags&524288)!==0)S=!0;else if((_.flags&262144)!==0)break}if(_.tag===10){var A=_.alternate;if(A===null)throw Error(r(387));if(A=A.memoizedProps,A!==null){var P=_.type;Pn(_.pendingProps.value,A.value)||(a!==null?a.push(P):a=[P])}}else if(_===xe.current){if(A=_.alternate,A===null)throw Error(r(387));A.memoizedState.memoizedState!==_.memoizedState.memoizedState&&(a!==null?a.push(Tl):a=[Tl])}_=_.return}a!==null&&yp(s,a,c,p),s.flags|=262144}function nc(a){for(a=a.firstContext;a!==null;){if(!Pn(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Sa(a){ba=a,$r=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Vt(a){return gS(ba,a)}function rc(a,s){return ba===null&&Sa(a),gS(a,s)}function gS(a,s){var c=s._currentValue;if(s={context:s,memoizedValue:c,next:null},$r===null){if(a===null)throw Error(r(308));$r=s,a.dependencies={lanes:0,firstContext:s},a.flags|=524288}else $r=$r.next=s;return c}var IU=typeof AbortController<"u"?AbortController:function(){var a=[],s=this.signal={aborted:!1,addEventListener:function(c,p){a.push(p)}};this.abort=function(){s.aborted=!0,a.forEach(function(c){return c()})}},MU=e.unstable_scheduleCallback,NU=e.unstable_NormalPriority,_t={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _p(){return{controller:new IU,data:new Map,refCount:0}}function Qs(a){a.refCount--,a.refCount===0&&MU(NU,function(){a.controller.abort()})}var Zs=null,bp=0,wo=0,Eo=null;function kU(a,s){if(Zs===null){var c=Zs=[];bp=0,wo=Em(),Eo={status:"pending",value:void 0,then:function(p){c.push(p)}}}return bp++,s.then(vS,vS),s}function vS(){if(--bp===0&&Zs!==null){Eo!==null&&(Eo.status="fulfilled");var a=Zs;Zs=null,wo=0,Eo=null;for(var s=0;s<a.length;s++)(0,a[s])()}}function DU(a,s){var c=[],p={status:"pending",value:null,reason:null,then:function(_){c.push(_)}};return a.then(function(){p.status="fulfilled",p.value=s;for(var _=0;_<c.length;_++)(0,c[_])(s)},function(_){for(p.status="rejected",p.reason=_,_=0;_<c.length;_++)(0,c[_])(void 0)}),p}var yS=z.S;z.S=function(a,s){tE=Cn(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&kU(a,s),yS!==null&&yS(a,s)};var wa=L(null);function Sp(){var a=wa.current;return a!==null?a:Qe.pooledCache}function ic(a,s){s===null?ne(wa,wa.current):ne(wa,s.pool)}function _S(){var a=Sp();return a===null?null:{parent:_t._currentValue,pool:a}}var To=Error(r(460)),wp=Error(r(474)),ac=Error(r(542)),oc={then:function(){}};function bS(a){return a=a.status,a==="fulfilled"||a==="rejected"}function SS(a,s,c){switch(c=a[c],c===void 0?a.push(s):c!==s&&(s.then(Lr,Lr),s=c),s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,ES(a),a;default:if(typeof s.status=="string")s.then(Lr,Lr);else{if(a=Qe,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=s,a.status="pending",a.then(function(p){if(s.status==="pending"){var _=s;_.status="fulfilled",_.value=p}},function(p){if(s.status==="pending"){var _=s;_.status="rejected",_.reason=p}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,ES(a),a}throw Ta=s,To}}function Ea(a){try{var s=a._init;return s(a._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(Ta=c,To):c}}var Ta=null;function wS(){if(Ta===null)throw Error(r(459));var a=Ta;return Ta=null,a}function ES(a){if(a===To||a===ac)throw Error(r(483))}var Ao=null,el=0;function sc(a){var s=el;return el+=1,Ao===null&&(Ao=[]),SS(Ao,a,s)}function tl(a,s){s=s.props.ref,a.ref=s!==void 0?s:null}function lc(a,s){throw s.$$typeof===y?Error(r(525)):(a=Object.prototype.toString.call(s),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":a)))}function TS(a){function s(B,q){if(a){var $=B.deletions;$===null?(B.deletions=[q],B.flags|=16):$.push(q)}}function c(B,q){if(!a)return null;for(;q!==null;)s(B,q),q=q.sibling;return null}function p(B){for(var q=new Map;B!==null;)B.key!==null?q.set(B.key,B):q.set(B.index,B),B=B.sibling;return q}function _(B,q){return B=Br(B,q),B.index=0,B.sibling=null,B}function S(B,q,$){return B.index=$,a?($=B.alternate,$!==null?($=$.index,$<q?(B.flags|=67108866,q):$):(B.flags|=67108866,q)):(B.flags|=1048576,q)}function A(B){return a&&B.alternate===null&&(B.flags|=67108866),B}function P(B,q,$,Q){return q===null||q.tag!==6?(q=cp($,B.mode,Q),q.return=B,q):(q=_(q,$),q.return=B,q)}function D(B,q,$,Q){var ye=$.type;return ye===E?J(B,q,$.props.children,Q,$.key):q!==null&&(q.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===X&&Ea(ye)===q.type)?(q=_(q,$.props),tl(q,$),q.return=B,q):(q=ec($.type,$.key,$.props,null,B.mode,Q),tl(q,$),q.return=B,q)}function H(B,q,$,Q){return q===null||q.tag!==4||q.stateNode.containerInfo!==$.containerInfo||q.stateNode.implementation!==$.implementation?(q=fp($,B.mode,Q),q.return=B,q):(q=_(q,$.children||[]),q.return=B,q)}function J(B,q,$,Q,ye){return q===null||q.tag!==7?(q=ya($,B.mode,Q,ye),q.return=B,q):(q=_(q,$),q.return=B,q)}function ee(B,q,$){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=cp(""+q,B.mode,$),q.return=B,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case b:return $=ec(q.type,q.key,q.props,null,B.mode,$),tl($,q),$.return=B,$;case w:return q=fp(q,B.mode,$),q.return=B,q;case X:return q=Ea(q),ee(B,q,$)}if(Ae(q)||te(q))return q=ya(q,B.mode,$,null),q.return=B,q;if(typeof q.then=="function")return ee(B,sc(q),$);if(q.$$typeof===R)return ee(B,rc(B,q),$);lc(B,q)}return null}function j(B,q,$,Q){var ye=q!==null?q.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return ye!==null?null:P(B,q,""+$,Q);if(typeof $=="object"&&$!==null){switch($.$$typeof){case b:return $.key===ye?D(B,q,$,Q):null;case w:return $.key===ye?H(B,q,$,Q):null;case X:return $=Ea($),j(B,q,$,Q)}if(Ae($)||te($))return ye!==null?null:J(B,q,$,Q,null);if(typeof $.then=="function")return j(B,q,sc($),Q);if($.$$typeof===R)return j(B,q,rc(B,$),Q);lc(B,$)}return null}function F(B,q,$,Q,ye){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return B=B.get($)||null,P(q,B,""+Q,ye);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case b:return B=B.get(Q.key===null?$:Q.key)||null,D(q,B,Q,ye);case w:return B=B.get(Q.key===null?$:Q.key)||null,H(q,B,Q,ye);case X:return Q=Ea(Q),F(B,q,$,Q,ye)}if(Ae(Q)||te(Q))return B=B.get($)||null,J(q,B,Q,ye,null);if(typeof Q.then=="function")return F(B,q,$,sc(Q),ye);if(Q.$$typeof===R)return F(B,q,$,rc(q,Q),ye);lc(q,Q)}return null}function de(B,q,$,Q){for(var ye=null,qe=null,pe=q,Pe=q=0,De=null;pe!==null&&Pe<$.length;Pe++){pe.index>Pe?(De=pe,pe=null):De=pe.sibling;var Be=j(B,pe,$[Pe],Q);if(Be===null){pe===null&&(pe=De);break}a&&pe&&Be.alternate===null&&s(B,pe),q=S(Be,q,Pe),qe===null?ye=Be:qe.sibling=Be,qe=Be,pe=De}if(Pe===$.length)return c(B,pe),Ue&&zr(B,Pe),ye;if(pe===null){for(;Pe<$.length;Pe++)pe=ee(B,$[Pe],Q),pe!==null&&(q=S(pe,q,Pe),qe===null?ye=pe:qe.sibling=pe,qe=pe);return Ue&&zr(B,Pe),ye}for(pe=p(pe);Pe<$.length;Pe++)De=F(pe,B,Pe,$[Pe],Q),De!==null&&(a&&De.alternate!==null&&pe.delete(De.key===null?Pe:De.key),q=S(De,q,Pe),qe===null?ye=De:qe.sibling=De,qe=De);return a&&pe.forEach(function(ea){return s(B,ea)}),Ue&&zr(B,Pe),ye}function Se(B,q,$,Q){if($==null)throw Error(r(151));for(var ye=null,qe=null,pe=q,Pe=q=0,De=null,Be=$.next();pe!==null&&!Be.done;Pe++,Be=$.next()){pe.index>Pe?(De=pe,pe=null):De=pe.sibling;var ea=j(B,pe,Be.value,Q);if(ea===null){pe===null&&(pe=De);break}a&&pe&&ea.alternate===null&&s(B,pe),q=S(ea,q,Pe),qe===null?ye=ea:qe.sibling=ea,qe=ea,pe=De}if(Be.done)return c(B,pe),Ue&&zr(B,Pe),ye;if(pe===null){for(;!Be.done;Pe++,Be=$.next())Be=ee(B,Be.value,Q),Be!==null&&(q=S(Be,q,Pe),qe===null?ye=Be:qe.sibling=Be,qe=Be);return Ue&&zr(B,Pe),ye}for(pe=p(pe);!Be.done;Pe++,Be=$.next())Be=F(pe,B,Pe,Be.value,Q),Be!==null&&(a&&Be.alternate!==null&&pe.delete(Be.key===null?Pe:Be.key),q=S(Be,q,Pe),qe===null?ye=Be:qe.sibling=Be,qe=Be);return a&&pe.forEach(function(VL){return s(B,VL)}),Ue&&zr(B,Pe),ye}function We(B,q,$,Q){if(typeof $=="object"&&$!==null&&$.type===E&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case b:e:{for(var ye=$.key;q!==null;){if(q.key===ye){if(ye=$.type,ye===E){if(q.tag===7){c(B,q.sibling),Q=_(q,$.props.children),Q.return=B,B=Q;break e}}else if(q.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===X&&Ea(ye)===q.type){c(B,q.sibling),Q=_(q,$.props),tl(Q,$),Q.return=B,B=Q;break e}c(B,q);break}else s(B,q);q=q.sibling}$.type===E?(Q=ya($.props.children,B.mode,Q,$.key),Q.return=B,B=Q):(Q=ec($.type,$.key,$.props,null,B.mode,Q),tl(Q,$),Q.return=B,B=Q)}return A(B);case w:e:{for(ye=$.key;q!==null;){if(q.key===ye)if(q.tag===4&&q.stateNode.containerInfo===$.containerInfo&&q.stateNode.implementation===$.implementation){c(B,q.sibling),Q=_(q,$.children||[]),Q.return=B,B=Q;break e}else{c(B,q);break}else s(B,q);q=q.sibling}Q=fp($,B.mode,Q),Q.return=B,B=Q}return A(B);case X:return $=Ea($),We(B,q,$,Q)}if(Ae($))return de(B,q,$,Q);if(te($)){if(ye=te($),typeof ye!="function")throw Error(r(150));return $=ye.call($),Se(B,q,$,Q)}if(typeof $.then=="function")return We(B,q,sc($),Q);if($.$$typeof===R)return We(B,q,rc(B,$),Q);lc(B,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,q!==null&&q.tag===6?(c(B,q.sibling),Q=_(q,$),Q.return=B,B=Q):(c(B,q),Q=cp($,B.mode,Q),Q.return=B,B=Q),A(B)):c(B,q)}return function(B,q,$,Q){try{el=0;var ye=We(B,q,$,Q);return Ao=null,ye}catch(pe){if(pe===To||pe===ac)throw pe;var qe=In(29,pe,null,B.mode);return qe.lanes=Q,qe.return=B,qe}finally{}}}var Aa=TS(!0),AS=TS(!1),Li=!1;function Ep(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Tp(a,s){a=a.updateQueue,s.updateQueue===a&&(s.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function qi(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Bi(a,s,c){var p=a.updateQueue;if(p===null)return null;if(p=p.shared,(je&2)!==0){var _=p.pending;return _===null?s.next=s:(s.next=_.next,_.next=s),p.pending=s,s=Zu(a),lS(a,null,c),s}return Qu(a,p,s,c),Zu(a)}function nl(a,s,c){if(s=s.updateQueue,s!==null&&(s=s.shared,(c&4194048)!==0)){var p=s.lanes;p&=a.pendingLanes,c|=p,s.lanes=c,gb(a,c)}}function Ap(a,s){var c=a.updateQueue,p=a.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var _=null,S=null;if(c=c.firstBaseUpdate,c!==null){do{var A={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};S===null?_=S=A:S=S.next=A,c=c.next}while(c!==null);S===null?_=S=s:S=S.next=s}else _=S=s;c={baseState:p.baseState,firstBaseUpdate:_,lastBaseUpdate:S,shared:p.shared,callbacks:p.callbacks},a.updateQueue=c;return}a=c.lastBaseUpdate,a===null?c.firstBaseUpdate=s:a.next=s,c.lastBaseUpdate=s}var xp=!1;function rl(){if(xp){var a=Eo;if(a!==null)throw a}}function il(a,s,c,p){xp=!1;var _=a.updateQueue;Li=!1;var S=_.firstBaseUpdate,A=_.lastBaseUpdate,P=_.shared.pending;if(P!==null){_.shared.pending=null;var D=P,H=D.next;D.next=null,A===null?S=H:A.next=H,A=D;var J=a.alternate;J!==null&&(J=J.updateQueue,P=J.lastBaseUpdate,P!==A&&(P===null?J.firstBaseUpdate=H:P.next=H,J.lastBaseUpdate=D))}if(S!==null){var ee=_.baseState;A=0,J=H=D=null,P=S;do{var j=P.lane&-536870913,F=j!==P.lane;if(F?(ke&j)===j:(p&j)===j){j!==0&&j===wo&&(xp=!0),J!==null&&(J=J.next={lane:0,tag:P.tag,payload:P.payload,callback:null,next:null});e:{var de=a,Se=P;j=s;var We=c;switch(Se.tag){case 1:if(de=Se.payload,typeof de=="function"){ee=de.call(We,ee,j);break e}ee=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=Se.payload,j=typeof de=="function"?de.call(We,ee,j):de,j==null)break e;ee=m({},ee,j);break e;case 2:Li=!0}}j=P.callback,j!==null&&(a.flags|=64,F&&(a.flags|=8192),F=_.callbacks,F===null?_.callbacks=[j]:F.push(j))}else F={lane:j,tag:P.tag,payload:P.payload,callback:P.callback,next:null},J===null?(H=J=F,D=ee):J=J.next=F,A|=j;if(P=P.next,P===null){if(P=_.shared.pending,P===null)break;F=P,P=F.next,F.next=null,_.lastBaseUpdate=F,_.shared.pending=null}}while(!0);J===null&&(D=ee),_.baseState=D,_.firstBaseUpdate=H,_.lastBaseUpdate=J,S===null&&(_.shared.lanes=0),Gi|=A,a.lanes=A,a.memoizedState=ee}}function xS(a,s){if(typeof a!="function")throw Error(r(191,a));a.call(s)}function CS(a,s){var c=a.callbacks;if(c!==null)for(a.callbacks=null,a=0;a<c.length;a++)xS(c[a],s)}var xo=L(null),uc=L(0);function RS(a,s){a=Xr,ne(uc,a),ne(xo,s),Xr=a|s.baseLanes}function Cp(){ne(uc,Xr),ne(xo,xo.current)}function Rp(){Xr=uc.current,K(xo),K(uc)}var Mn=L(null),Xn=null;function zi(a){var s=a.alternate;ne(pt,pt.current&1),ne(Mn,a),Xn===null&&(s===null||xo.current!==null||s.memoizedState!==null)&&(Xn=a)}function Op(a){ne(pt,pt.current),ne(Mn,a),Xn===null&&(Xn=a)}function OS(a){a.tag===22?(ne(pt,pt.current),ne(Mn,a),Xn===null&&(Xn=a)):$i()}function $i(){ne(pt,pt.current),ne(Mn,Mn.current)}function Nn(a){K(Mn),Xn===a&&(Xn=null),K(pt)}var pt=L(0);function cc(a){for(var s=a;s!==null;){if(s.tag===13){var c=s.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||Dm(c)||Um(c)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var jr=0,Oe=null,Ye=null,bt=null,fc=!1,Co=!1,xa=!1,dc=0,al=0,Ro=null,UU=0;function dt(){throw Error(r(321))}function Pp(a,s){if(s===null)return!1;for(var c=0;c<s.length&&c<a.length;c++)if(!Pn(a[c],s[c]))return!1;return!0}function Ip(a,s,c,p,_,S){return jr=S,Oe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,z.H=a===null||a.memoizedState===null?dw:Vp,xa=!1,S=c(p,_),xa=!1,Co&&(S=IS(s,c,p,_)),PS(a),S}function PS(a){z.H=ll;var s=Ye!==null&&Ye.next!==null;if(jr=0,bt=Ye=Oe=null,fc=!1,al=0,Ro=null,s)throw Error(r(300));a===null||St||(a=a.dependencies,a!==null&&nc(a)&&(St=!0))}function IS(a,s,c,p){Oe=a;var _=0;do{if(Co&&(Ro=null),al=0,Co=!1,25<=_)throw Error(r(301));if(_+=1,bt=Ye=null,a.updateQueue!=null){var S=a.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}z.H=hw,S=s(c,p)}while(Co);return S}function LU(){var a=z.H,s=a.useState()[0];return s=typeof s.then=="function"?ol(s):s,a=a.useState()[0],(Ye!==null?Ye.memoizedState:null)!==a&&(Oe.flags|=1024),s}function Mp(){var a=dc!==0;return dc=0,a}function Np(a,s,c){s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~c}function kp(a){if(fc){for(a=a.memoizedState;a!==null;){var s=a.queue;s!==null&&(s.pending=null),a=a.next}fc=!1}jr=0,bt=Ye=Oe=null,Co=!1,al=dc=0,Ro=null}function sn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?Oe.memoizedState=bt=a:bt=bt.next=a,bt}function mt(){if(Ye===null){var a=Oe.alternate;a=a!==null?a.memoizedState:null}else a=Ye.next;var s=bt===null?Oe.memoizedState:bt.next;if(s!==null)bt=s,Ye=a;else{if(a===null)throw Oe.alternate===null?Error(r(467)):Error(r(310));Ye=a,a={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},bt===null?Oe.memoizedState=bt=a:bt=bt.next=a}return bt}function hc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ol(a){var s=al;return al+=1,Ro===null&&(Ro=[]),a=SS(Ro,a,s),s=Oe,(bt===null?s.memoizedState:bt.next)===null&&(s=s.alternate,z.H=s===null||s.memoizedState===null?dw:Vp),a}function pc(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return ol(a);if(a.$$typeof===R)return Vt(a)}throw Error(r(438,String(a)))}function Dp(a){var s=null,c=Oe.updateQueue;if(c!==null&&(s=c.memoCache),s==null){var p=Oe.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(s={data:p.data.map(function(_){return _.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),c===null&&(c=hc(),Oe.updateQueue=c),c.memoCache=s,c=s.data[s.index],c===void 0)for(c=s.data[s.index]=Array(a),p=0;p<a;p++)c[p]=ie;return s.index++,c}function Gr(a,s){return typeof s=="function"?s(a):s}function mc(a){var s=mt();return Up(s,Ye,a)}function Up(a,s,c){var p=a.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=c;var _=a.baseQueue,S=p.pending;if(S!==null){if(_!==null){var A=_.next;_.next=S.next,S.next=A}s.baseQueue=_=S,p.pending=null}if(S=a.baseState,_===null)a.memoizedState=S;else{s=_.next;var P=A=null,D=null,H=s,J=!1;do{var ee=H.lane&-536870913;if(ee!==H.lane?(ke&ee)===ee:(jr&ee)===ee){var j=H.revertLane;if(j===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),ee===wo&&(J=!0);else if((jr&j)===j){H=H.next,j===wo&&(J=!0);continue}else ee={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},D===null?(P=D=ee,A=S):D=D.next=ee,Oe.lanes|=j,Gi|=j;ee=H.action,xa&&c(S,ee),S=H.hasEagerState?H.eagerState:c(S,ee)}else j={lane:ee,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},D===null?(P=D=j,A=S):D=D.next=j,Oe.lanes|=ee,Gi|=ee;H=H.next}while(H!==null&&H!==s);if(D===null?A=S:D.next=P,!Pn(S,a.memoizedState)&&(St=!0,J&&(c=Eo,c!==null)))throw c;a.memoizedState=S,a.baseState=A,a.baseQueue=D,p.lastRenderedState=S}return _===null&&(p.lanes=0),[a.memoizedState,p.dispatch]}function Lp(a){var s=mt(),c=s.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=a;var p=c.dispatch,_=c.pending,S=s.memoizedState;if(_!==null){c.pending=null;var A=_=_.next;do S=a(S,A.action),A=A.next;while(A!==_);Pn(S,s.memoizedState)||(St=!0),s.memoizedState=S,s.baseQueue===null&&(s.baseState=S),c.lastRenderedState=S}return[S,p]}function MS(a,s,c){var p=Oe,_=mt(),S=Ue;if(S){if(c===void 0)throw Error(r(407));c=c()}else c=s();var A=!Pn((Ye||_).memoizedState,c);if(A&&(_.memoizedState=c,St=!0),_=_.queue,zp(DS.bind(null,p,_,a),[a]),_.getSnapshot!==s||A||bt!==null&&bt.memoizedState.tag&1){if(p.flags|=2048,Oo(9,{destroy:void 0},kS.bind(null,p,_,c,s),null),Qe===null)throw Error(r(349));S||(jr&127)!==0||NS(p,s,c)}return c}function NS(a,s,c){a.flags|=16384,a={getSnapshot:s,value:c},s=Oe.updateQueue,s===null?(s=hc(),Oe.updateQueue=s,s.stores=[a]):(c=s.stores,c===null?s.stores=[a]:c.push(a))}function kS(a,s,c,p){s.value=c,s.getSnapshot=p,US(s)&&LS(a)}function DS(a,s,c){return c(function(){US(s)&&LS(a)})}function US(a){var s=a.getSnapshot;a=a.value;try{var c=s();return!Pn(a,c)}catch{return!0}}function LS(a){var s=va(a,2);s!==null&&_n(s,a,2)}function qp(a){var s=sn();if(typeof a=="function"){var c=a;if(a=c(),xa){Pi(!0);try{c()}finally{Pi(!1)}}}return s.memoizedState=s.baseState=a,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gr,lastRenderedState:a},s}function qS(a,s,c,p){return a.baseState=c,Up(a,Ye,typeof p=="function"?p:Gr)}function qU(a,s,c,p,_){if(yc(a))throw Error(r(485));if(a=s.action,a!==null){var S={payload:_,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){S.listeners.push(A)}};z.T!==null?c(!0):S.isTransition=!1,p(S),c=s.pending,c===null?(S.next=s.pending=S,BS(s,S)):(S.next=c.next,s.pending=c.next=S)}}function BS(a,s){var c=s.action,p=s.payload,_=a.state;if(s.isTransition){var S=z.T,A={};z.T=A;try{var P=c(_,p),D=z.S;D!==null&&D(A,P),zS(a,s,P)}catch(H){Bp(a,s,H)}finally{S!==null&&A.types!==null&&(S.types=A.types),z.T=S}}else try{S=c(_,p),zS(a,s,S)}catch(H){Bp(a,s,H)}}function zS(a,s,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(p){$S(a,s,p)},function(p){return Bp(a,s,p)}):$S(a,s,c)}function $S(a,s,c){s.status="fulfilled",s.value=c,HS(s),a.state=c,s=a.pending,s!==null&&(c=s.next,c===s?a.pending=null:(c=c.next,s.next=c,BS(a,c)))}function Bp(a,s,c){var p=a.pending;if(a.pending=null,p!==null){p=p.next;do s.status="rejected",s.reason=c,HS(s),s=s.next;while(s!==p)}a.action=null}function HS(a){a=a.listeners;for(var s=0;s<a.length;s++)(0,a[s])()}function jS(a,s){return s}function GS(a,s){if(Ue){var c=Qe.formState;if(c!==null){e:{var p=Oe;if(Ue){if(nt){t:{for(var _=nt,S=Wn;_.nodeType!==8;){if(!S){_=null;break t}if(_=Qn(_.nextSibling),_===null){_=null;break t}}S=_.data,_=S==="F!"||S==="F"?_:null}if(_){nt=Qn(_.nextSibling),p=_.data==="F!";break e}}Di(p)}p=!1}p&&(s=c[0])}}return c=sn(),c.memoizedState=c.baseState=s,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jS,lastRenderedState:s},c.queue=p,c=uw.bind(null,Oe,p),p.dispatch=c,p=qp(!1),S=Fp.bind(null,Oe,!1,p.queue),p=sn(),_={state:s,dispatch:null,action:a,pending:null},p.queue=_,c=qU.bind(null,Oe,_,S,c),_.dispatch=c,p.memoizedState=a,[s,c,!1]}function FS(a){var s=mt();return VS(s,Ye,a)}function VS(a,s,c){if(s=Up(a,s,jS)[0],a=mc(Gr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var p=ol(s)}catch(A){throw A===To?ac:A}else p=s;s=mt();var _=s.queue,S=_.dispatch;return c!==s.memoizedState&&(Oe.flags|=2048,Oo(9,{destroy:void 0},BU.bind(null,_,c),null)),[p,S,a]}function BU(a,s){a.action=s}function KS(a){var s=mt(),c=Ye;if(c!==null)return VS(s,c,a);mt(),s=s.memoizedState,c=mt();var p=c.queue.dispatch;return c.memoizedState=a,[s,p,!1]}function Oo(a,s,c,p){return a={tag:a,create:c,deps:p,inst:s,next:null},s=Oe.updateQueue,s===null&&(s=hc(),Oe.updateQueue=s),c=s.lastEffect,c===null?s.lastEffect=a.next=a:(p=c.next,c.next=a,a.next=p,s.lastEffect=a),a}function YS(){return mt().memoizedState}function gc(a,s,c,p){var _=sn();Oe.flags|=a,_.memoizedState=Oo(1|s,{destroy:void 0},c,p===void 0?null:p)}function vc(a,s,c,p){var _=mt();p=p===void 0?null:p;var S=_.memoizedState.inst;Ye!==null&&p!==null&&Pp(p,Ye.memoizedState.deps)?_.memoizedState=Oo(s,S,c,p):(Oe.flags|=a,_.memoizedState=Oo(1|s,S,c,p))}function JS(a,s){gc(8390656,8,a,s)}function zp(a,s){vc(2048,8,a,s)}function zU(a){Oe.flags|=4;var s=Oe.updateQueue;if(s===null)s=hc(),Oe.updateQueue=s,s.events=[a];else{var c=s.events;c===null?s.events=[a]:c.push(a)}}function WS(a){var s=mt().memoizedState;return zU({ref:s,nextImpl:a}),function(){if((je&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function XS(a,s){return vc(4,2,a,s)}function QS(a,s){return vc(4,4,a,s)}function ZS(a,s){if(typeof s=="function"){a=a();var c=s(a);return function(){typeof c=="function"?c():s(null)}}if(s!=null)return a=a(),s.current=a,function(){s.current=null}}function ew(a,s,c){c=c!=null?c.concat([a]):null,vc(4,4,ZS.bind(null,s,a),c)}function $p(){}function tw(a,s){var c=mt();s=s===void 0?null:s;var p=c.memoizedState;return s!==null&&Pp(s,p[1])?p[0]:(c.memoizedState=[a,s],a)}function nw(a,s){var c=mt();s=s===void 0?null:s;var p=c.memoizedState;if(s!==null&&Pp(s,p[1]))return p[0];if(p=a(),xa){Pi(!0);try{a()}finally{Pi(!1)}}return c.memoizedState=[p,s],p}function Hp(a,s,c){return c===void 0||(jr&1073741824)!==0&&(ke&261930)===0?a.memoizedState=s:(a.memoizedState=c,a=rE(),Oe.lanes|=a,Gi|=a,c)}function rw(a,s,c,p){return Pn(c,s)?c:xo.current!==null?(a=Hp(a,c,p),Pn(a,s)||(St=!0),a):(jr&42)===0||(jr&1073741824)!==0&&(ke&261930)===0?(St=!0,a.memoizedState=c):(a=rE(),Oe.lanes|=a,Gi|=a,s)}function iw(a,s,c,p,_){var S=Z.p;Z.p=S!==0&&8>S?S:8;var A=z.T,P={};z.T=P,Fp(a,!1,s,c);try{var D=_(),H=z.S;if(H!==null&&H(P,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var J=DU(D,p);sl(a,s,J,Un(a))}else sl(a,s,p,Un(a))}catch(ee){sl(a,s,{then:function(){},status:"rejected",reason:ee},Un())}finally{Z.p=S,A!==null&&P.types!==null&&(A.types=P.types),z.T=A}}function $U(){}function jp(a,s,c,p){if(a.tag!==5)throw Error(r(476));var _=aw(a).queue;iw(a,_,s,oe,c===null?$U:function(){return ow(a),c(p)})}function aw(a){var s=a.memoizedState;if(s!==null)return s;s={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gr,lastRenderedState:oe},next:null};var c={};return s.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gr,lastRenderedState:c},next:null},a.memoizedState=s,a=a.alternate,a!==null&&(a.memoizedState=s),s}function ow(a){var s=aw(a);s.next===null&&(s=a.alternate.memoizedState),sl(a,s.next.queue,{},Un())}function Gp(){return Vt(Tl)}function sw(){return mt().memoizedState}function lw(){return mt().memoizedState}function HU(a){for(var s=a.return;s!==null;){switch(s.tag){case 24:case 3:var c=Un();a=qi(c);var p=Bi(s,a,c);p!==null&&(_n(p,s,c),nl(p,s,c)),s={cache:_p()},a.payload=s;return}s=s.return}}function jU(a,s,c){var p=Un();c={lane:p,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},yc(a)?cw(s,c):(c=lp(a,s,c,p),c!==null&&(_n(c,a,p),fw(c,s,p)))}function uw(a,s,c){var p=Un();sl(a,s,c,p)}function sl(a,s,c,p){var _={lane:p,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(yc(a))cw(s,_);else{var S=a.alternate;if(a.lanes===0&&(S===null||S.lanes===0)&&(S=s.lastRenderedReducer,S!==null))try{var A=s.lastRenderedState,P=S(A,c);if(_.hasEagerState=!0,_.eagerState=P,Pn(P,A))return Qu(a,s,_,0),Qe===null&&Xu(),!1}catch{}finally{}if(c=lp(a,s,_,p),c!==null)return _n(c,a,p),fw(c,s,p),!0}return!1}function Fp(a,s,c,p){if(p={lane:2,revertLane:Em(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},yc(a)){if(s)throw Error(r(479))}else s=lp(a,c,p,2),s!==null&&_n(s,a,2)}function yc(a){var s=a.alternate;return a===Oe||s!==null&&s===Oe}function cw(a,s){Co=fc=!0;var c=a.pending;c===null?s.next=s:(s.next=c.next,c.next=s),a.pending=s}function fw(a,s,c){if((c&4194048)!==0){var p=s.lanes;p&=a.pendingLanes,c|=p,s.lanes=c,gb(a,c)}}var ll={readContext:Vt,use:pc,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt};ll.useEffectEvent=dt;var dw={readContext:Vt,use:pc,useCallback:function(a,s){return sn().memoizedState=[a,s===void 0?null:s],a},useContext:Vt,useEffect:JS,useImperativeHandle:function(a,s,c){c=c!=null?c.concat([a]):null,gc(4194308,4,ZS.bind(null,s,a),c)},useLayoutEffect:function(a,s){return gc(4194308,4,a,s)},useInsertionEffect:function(a,s){gc(4,2,a,s)},useMemo:function(a,s){var c=sn();s=s===void 0?null:s;var p=a();if(xa){Pi(!0);try{a()}finally{Pi(!1)}}return c.memoizedState=[p,s],p},useReducer:function(a,s,c){var p=sn();if(c!==void 0){var _=c(s);if(xa){Pi(!0);try{c(s)}finally{Pi(!1)}}}else _=s;return p.memoizedState=p.baseState=_,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:_},p.queue=a,a=a.dispatch=jU.bind(null,Oe,a),[p.memoizedState,a]},useRef:function(a){var s=sn();return a={current:a},s.memoizedState=a},useState:function(a){a=qp(a);var s=a.queue,c=uw.bind(null,Oe,s);return s.dispatch=c,[a.memoizedState,c]},useDebugValue:$p,useDeferredValue:function(a,s){var c=sn();return Hp(c,a,s)},useTransition:function(){var a=qp(!1);return a=iw.bind(null,Oe,a.queue,!0,!1),sn().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,s,c){var p=Oe,_=sn();if(Ue){if(c===void 0)throw Error(r(407));c=c()}else{if(c=s(),Qe===null)throw Error(r(349));(ke&127)!==0||NS(p,s,c)}_.memoizedState=c;var S={value:c,getSnapshot:s};return _.queue=S,JS(DS.bind(null,p,S,a),[a]),p.flags|=2048,Oo(9,{destroy:void 0},kS.bind(null,p,S,c,s),null),c},useId:function(){var a=sn(),s=Qe.identifierPrefix;if(Ue){var c=xr,p=Ar;c=(p&~(1<<32-On(p)-1)).toString(32)+c,s="_"+s+"R_"+c,c=dc++,0<c&&(s+="H"+c.toString(32)),s+="_"}else c=UU++,s="_"+s+"r_"+c.toString(32)+"_";return a.memoizedState=s},useHostTransitionStatus:Gp,useFormState:GS,useActionState:GS,useOptimistic:function(a){var s=sn();s.memoizedState=s.baseState=a;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=c,s=Fp.bind(null,Oe,!0,c),c.dispatch=s,[a,s]},useMemoCache:Dp,useCacheRefresh:function(){return sn().memoizedState=HU.bind(null,Oe)},useEffectEvent:function(a){var s=sn(),c={impl:a};return s.memoizedState=c,function(){if((je&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}},Vp={readContext:Vt,use:pc,useCallback:tw,useContext:Vt,useEffect:zp,useImperativeHandle:ew,useInsertionEffect:XS,useLayoutEffect:QS,useMemo:nw,useReducer:mc,useRef:YS,useState:function(){return mc(Gr)},useDebugValue:$p,useDeferredValue:function(a,s){var c=mt();return rw(c,Ye.memoizedState,a,s)},useTransition:function(){var a=mc(Gr)[0],s=mt().memoizedState;return[typeof a=="boolean"?a:ol(a),s]},useSyncExternalStore:MS,useId:sw,useHostTransitionStatus:Gp,useFormState:FS,useActionState:FS,useOptimistic:function(a,s){var c=mt();return qS(c,Ye,a,s)},useMemoCache:Dp,useCacheRefresh:lw};Vp.useEffectEvent=WS;var hw={readContext:Vt,use:pc,useCallback:tw,useContext:Vt,useEffect:zp,useImperativeHandle:ew,useInsertionEffect:XS,useLayoutEffect:QS,useMemo:nw,useReducer:Lp,useRef:YS,useState:function(){return Lp(Gr)},useDebugValue:$p,useDeferredValue:function(a,s){var c=mt();return Ye===null?Hp(c,a,s):rw(c,Ye.memoizedState,a,s)},useTransition:function(){var a=Lp(Gr)[0],s=mt().memoizedState;return[typeof a=="boolean"?a:ol(a),s]},useSyncExternalStore:MS,useId:sw,useHostTransitionStatus:Gp,useFormState:KS,useActionState:KS,useOptimistic:function(a,s){var c=mt();return Ye!==null?qS(c,Ye,a,s):(c.baseState=a,[a,c.queue.dispatch])},useMemoCache:Dp,useCacheRefresh:lw};hw.useEffectEvent=WS;function Kp(a,s,c,p){s=a.memoizedState,c=c(p,s),c=c==null?s:m({},s,c),a.memoizedState=c,a.lanes===0&&(a.updateQueue.baseState=c)}var Yp={enqueueSetState:function(a,s,c){a=a._reactInternals;var p=Un(),_=qi(p);_.payload=s,c!=null&&(_.callback=c),s=Bi(a,_,p),s!==null&&(_n(s,a,p),nl(s,a,p))},enqueueReplaceState:function(a,s,c){a=a._reactInternals;var p=Un(),_=qi(p);_.tag=1,_.payload=s,c!=null&&(_.callback=c),s=Bi(a,_,p),s!==null&&(_n(s,a,p),nl(s,a,p))},enqueueForceUpdate:function(a,s){a=a._reactInternals;var c=Un(),p=qi(c);p.tag=2,s!=null&&(p.callback=s),s=Bi(a,p,c),s!==null&&(_n(s,a,c),nl(s,a,c))}};function pw(a,s,c,p,_,S,A){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(p,S,A):s.prototype&&s.prototype.isPureReactComponent?!Ys(c,p)||!Ys(_,S):!0}function mw(a,s,c,p){a=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(c,p),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(c,p),s.state!==a&&Yp.enqueueReplaceState(s,s.state,null)}function Ca(a,s){var c=s;if("ref"in s){c={};for(var p in s)p!=="ref"&&(c[p]=s[p])}if(a=a.defaultProps){c===s&&(c=m({},c));for(var _ in a)c[_]===void 0&&(c[_]=a[_])}return c}function gw(a){Wu(a)}function vw(a){console.error(a)}function yw(a){Wu(a)}function _c(a,s){try{var c=a.onUncaughtError;c(s.value,{componentStack:s.stack})}catch(p){setTimeout(function(){throw p})}}function _w(a,s,c){try{var p=a.onCaughtError;p(c.value,{componentStack:c.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(_){setTimeout(function(){throw _})}}function Jp(a,s,c){return c=qi(c),c.tag=3,c.payload={element:null},c.callback=function(){_c(a,s)},c}function bw(a){return a=qi(a),a.tag=3,a}function Sw(a,s,c,p){var _=c.type.getDerivedStateFromError;if(typeof _=="function"){var S=p.value;a.payload=function(){return _(S)},a.callback=function(){_w(s,c,p)}}var A=c.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(a.callback=function(){_w(s,c,p),typeof _!="function"&&(Fi===null?Fi=new Set([this]):Fi.add(this));var P=p.stack;this.componentDidCatch(p.value,{componentStack:P!==null?P:""})})}function GU(a,s,c,p,_){if(c.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(s=c.alternate,s!==null&&So(s,c,_,!0),c=Mn.current,c!==null){switch(c.tag){case 31:case 13:return Xn===null?Ic():c.alternate===null&&ht===0&&(ht=3),c.flags&=-257,c.flags|=65536,c.lanes=_,p===oc?c.flags|=16384:(s=c.updateQueue,s===null?c.updateQueue=new Set([p]):s.add(p),bm(a,p,_)),!1;case 22:return c.flags|=65536,p===oc?c.flags|=16384:(s=c.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([p])},c.updateQueue=s):(c=s.retryQueue,c===null?s.retryQueue=new Set([p]):c.add(p)),bm(a,p,_)),!1}throw Error(r(435,c.tag))}return bm(a,p,_),Ic(),!1}if(Ue)return s=Mn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=_,p!==pp&&(a=Error(r(422),{cause:p}),Xs(Kn(a,c)))):(p!==pp&&(s=Error(r(423),{cause:p}),Xs(Kn(s,c))),a=a.current.alternate,a.flags|=65536,_&=-_,a.lanes|=_,p=Kn(p,c),_=Jp(a.stateNode,p,_),Ap(a,_),ht!==4&&(ht=2)),!1;var S=Error(r(520),{cause:p});if(S=Kn(S,c),gl===null?gl=[S]:gl.push(S),ht!==4&&(ht=2),s===null)return!0;p=Kn(p,c),c=s;do{switch(c.tag){case 3:return c.flags|=65536,a=_&-_,c.lanes|=a,a=Jp(c.stateNode,p,a),Ap(c,a),!1;case 1:if(s=c.type,S=c.stateNode,(c.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Fi===null||!Fi.has(S))))return c.flags|=65536,_&=-_,c.lanes|=_,_=bw(_),Sw(_,a,c,p),Ap(c,_),!1}c=c.return}while(c!==null);return!1}var Wp=Error(r(461)),St=!1;function Kt(a,s,c,p){s.child=a===null?AS(s,null,c,p):Aa(s,a.child,c,p)}function ww(a,s,c,p,_){c=c.render;var S=s.ref;if("ref"in p){var A={};for(var P in p)P!=="ref"&&(A[P]=p[P])}else A=p;return Sa(s),p=Ip(a,s,c,A,S,_),P=Mp(),a!==null&&!St?(Np(a,s,_),Fr(a,s,_)):(Ue&&P&&dp(s),s.flags|=1,Kt(a,s,p,_),s.child)}function Ew(a,s,c,p,_){if(a===null){var S=c.type;return typeof S=="function"&&!up(S)&&S.defaultProps===void 0&&c.compare===null?(s.tag=15,s.type=S,Tw(a,s,S,p,_)):(a=ec(c.type,null,p,s,s.mode,_),a.ref=s.ref,a.return=s,s.child=a)}if(S=a.child,!im(a,_)){var A=S.memoizedProps;if(c=c.compare,c=c!==null?c:Ys,c(A,p)&&a.ref===s.ref)return Fr(a,s,_)}return s.flags|=1,a=Br(S,p),a.ref=s.ref,a.return=s,s.child=a}function Tw(a,s,c,p,_){if(a!==null){var S=a.memoizedProps;if(Ys(S,p)&&a.ref===s.ref)if(St=!1,s.pendingProps=p=S,im(a,_))(a.flags&131072)!==0&&(St=!0);else return s.lanes=a.lanes,Fr(a,s,_)}return Xp(a,s,c,p,_)}function Aw(a,s,c,p){var _=p.children,S=a!==null?a.memoizedState:null;if(a===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((s.flags&128)!==0){if(S=S!==null?S.baseLanes|c:c,a!==null){for(p=s.child=a.child,_=0;p!==null;)_=_|p.lanes|p.childLanes,p=p.sibling;p=_&~S}else p=0,s.child=null;return xw(a,s,S,c,p)}if((c&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},a!==null&&ic(s,S!==null?S.cachePool:null),S!==null?RS(s,S):Cp(),OS(s);else return p=s.lanes=536870912,xw(a,s,S!==null?S.baseLanes|c:c,c,p)}else S!==null?(ic(s,S.cachePool),RS(s,S),$i(),s.memoizedState=null):(a!==null&&ic(s,null),Cp(),$i());return Kt(a,s,_,c),s.child}function ul(a,s){return a!==null&&a.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function xw(a,s,c,p,_){var S=Sp();return S=S===null?null:{parent:_t._currentValue,pool:S},s.memoizedState={baseLanes:c,cachePool:S},a!==null&&ic(s,null),Cp(),OS(s),a!==null&&So(a,s,p,!0),s.childLanes=_,null}function bc(a,s){return s=wc({mode:s.mode,children:s.children},a.mode),s.ref=a.ref,a.child=s,s.return=a,s}function Cw(a,s,c){return Aa(s,a.child,null,c),a=bc(s,s.pendingProps),a.flags|=2,Nn(s),s.memoizedState=null,a}function FU(a,s,c){var p=s.pendingProps,_=(s.flags&128)!==0;if(s.flags&=-129,a===null){if(Ue){if(p.mode==="hidden")return a=bc(s,p),s.lanes=536870912,ul(null,a);if(Op(s),(a=nt)?(a=BE(a,Wn),a=a!==null&&a.data==="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:Ni!==null?{id:Ar,overflow:xr}:null,retryLane:536870912,hydrationErrors:null},c=cS(a),c.return=s,s.child=c,Ft=s,nt=null)):a=null,a===null)throw Di(s);return s.lanes=536870912,null}return bc(s,p)}var S=a.memoizedState;if(S!==null){var A=S.dehydrated;if(Op(s),_)if(s.flags&256)s.flags&=-257,s=Cw(a,s,c);else if(s.memoizedState!==null)s.child=a.child,s.flags|=128,s=null;else throw Error(r(558));else if(St||So(a,s,c,!1),_=(c&a.childLanes)!==0,St||_){if(p=Qe,p!==null&&(A=vb(p,c),A!==0&&A!==S.retryLane))throw S.retryLane=A,va(a,A),_n(p,a,A),Wp;Ic(),s=Cw(a,s,c)}else a=S.treeContext,nt=Qn(A.nextSibling),Ft=s,Ue=!0,ki=null,Wn=!1,a!==null&&hS(s,a),s=bc(s,p),s.flags|=4096;return s}return a=Br(a.child,{mode:p.mode,children:p.children}),a.ref=s.ref,s.child=a,a.return=s,a}function Sc(a,s){var c=s.ref;if(c===null)a!==null&&a.ref!==null&&(s.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(a===null||a.ref!==c)&&(s.flags|=4194816)}}function Xp(a,s,c,p,_){return Sa(s),c=Ip(a,s,c,p,void 0,_),p=Mp(),a!==null&&!St?(Np(a,s,_),Fr(a,s,_)):(Ue&&p&&dp(s),s.flags|=1,Kt(a,s,c,_),s.child)}function Rw(a,s,c,p,_,S){return Sa(s),s.updateQueue=null,c=IS(s,p,c,_),PS(a),p=Mp(),a!==null&&!St?(Np(a,s,S),Fr(a,s,S)):(Ue&&p&&dp(s),s.flags|=1,Kt(a,s,c,S),s.child)}function Ow(a,s,c,p,_){if(Sa(s),s.stateNode===null){var S=vo,A=c.contextType;typeof A=="object"&&A!==null&&(S=Vt(A)),S=new c(p,S),s.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=Yp,s.stateNode=S,S._reactInternals=s,S=s.stateNode,S.props=p,S.state=s.memoizedState,S.refs={},Ep(s),A=c.contextType,S.context=typeof A=="object"&&A!==null?Vt(A):vo,S.state=s.memoizedState,A=c.getDerivedStateFromProps,typeof A=="function"&&(Kp(s,c,A,p),S.state=s.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(A=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),A!==S.state&&Yp.enqueueReplaceState(S,S.state,null),il(s,p,S,_),rl(),S.state=s.memoizedState),typeof S.componentDidMount=="function"&&(s.flags|=4194308),p=!0}else if(a===null){S=s.stateNode;var P=s.memoizedProps,D=Ca(c,P);S.props=D;var H=S.context,J=c.contextType;A=vo,typeof J=="object"&&J!==null&&(A=Vt(J));var ee=c.getDerivedStateFromProps;J=typeof ee=="function"||typeof S.getSnapshotBeforeUpdate=="function",P=s.pendingProps!==P,J||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(P||H!==A)&&mw(s,S,p,A),Li=!1;var j=s.memoizedState;S.state=j,il(s,p,S,_),rl(),H=s.memoizedState,P||j!==H||Li?(typeof ee=="function"&&(Kp(s,c,ee,p),H=s.memoizedState),(D=Li||pw(s,c,D,p,j,H,A))?(J||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(s.flags|=4194308)):(typeof S.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=p,s.memoizedState=H),S.props=p,S.state=H,S.context=A,p=D):(typeof S.componentDidMount=="function"&&(s.flags|=4194308),p=!1)}else{S=s.stateNode,Tp(a,s),A=s.memoizedProps,J=Ca(c,A),S.props=J,ee=s.pendingProps,j=S.context,H=c.contextType,D=vo,typeof H=="object"&&H!==null&&(D=Vt(H)),P=c.getDerivedStateFromProps,(H=typeof P=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(A!==ee||j!==D)&&mw(s,S,p,D),Li=!1,j=s.memoizedState,S.state=j,il(s,p,S,_),rl();var F=s.memoizedState;A!==ee||j!==F||Li||a!==null&&a.dependencies!==null&&nc(a.dependencies)?(typeof P=="function"&&(Kp(s,c,P,p),F=s.memoizedState),(J=Li||pw(s,c,J,p,j,F,D)||a!==null&&a.dependencies!==null&&nc(a.dependencies))?(H||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(p,F,D),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(p,F,D)),typeof S.componentDidUpdate=="function"&&(s.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof S.componentDidUpdate!="function"||A===a.memoizedProps&&j===a.memoizedState||(s.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||A===a.memoizedProps&&j===a.memoizedState||(s.flags|=1024),s.memoizedProps=p,s.memoizedState=F),S.props=p,S.state=F,S.context=D,p=J):(typeof S.componentDidUpdate!="function"||A===a.memoizedProps&&j===a.memoizedState||(s.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||A===a.memoizedProps&&j===a.memoizedState||(s.flags|=1024),p=!1)}return S=p,Sc(a,s),p=(s.flags&128)!==0,S||p?(S=s.stateNode,c=p&&typeof c.getDerivedStateFromError!="function"?null:S.render(),s.flags|=1,a!==null&&p?(s.child=Aa(s,a.child,null,_),s.child=Aa(s,null,c,_)):Kt(a,s,c,_),s.memoizedState=S.state,a=s.child):a=Fr(a,s,_),a}function Pw(a,s,c,p){return _a(),s.flags|=256,Kt(a,s,c,p),s.child}var Qp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zp(a){return{baseLanes:a,cachePool:_S()}}function em(a,s,c){return a=a!==null?a.childLanes&~c:0,s&&(a|=Dn),a}function Iw(a,s,c){var p=s.pendingProps,_=!1,S=(s.flags&128)!==0,A;if((A=S)||(A=a!==null&&a.memoizedState===null?!1:(pt.current&2)!==0),A&&(_=!0,s.flags&=-129),A=(s.flags&32)!==0,s.flags&=-33,a===null){if(Ue){if(_?zi(s):$i(),(a=nt)?(a=BE(a,Wn),a=a!==null&&a.data!=="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:Ni!==null?{id:Ar,overflow:xr}:null,retryLane:536870912,hydrationErrors:null},c=cS(a),c.return=s,s.child=c,Ft=s,nt=null)):a=null,a===null)throw Di(s);return Um(a)?s.lanes=32:s.lanes=536870912,null}var P=p.children;return p=p.fallback,_?($i(),_=s.mode,P=wc({mode:"hidden",children:P},_),p=ya(p,_,c,null),P.return=s,p.return=s,P.sibling=p,s.child=P,p=s.child,p.memoizedState=Zp(c),p.childLanes=em(a,A,c),s.memoizedState=Qp,ul(null,p)):(zi(s),tm(s,P))}var D=a.memoizedState;if(D!==null&&(P=D.dehydrated,P!==null)){if(S)s.flags&256?(zi(s),s.flags&=-257,s=nm(a,s,c)):s.memoizedState!==null?($i(),s.child=a.child,s.flags|=128,s=null):($i(),P=p.fallback,_=s.mode,p=wc({mode:"visible",children:p.children},_),P=ya(P,_,c,null),P.flags|=2,p.return=s,P.return=s,p.sibling=P,s.child=p,Aa(s,a.child,null,c),p=s.child,p.memoizedState=Zp(c),p.childLanes=em(a,A,c),s.memoizedState=Qp,s=ul(null,p));else if(zi(s),Um(P)){if(A=P.nextSibling&&P.nextSibling.dataset,A)var H=A.dgst;A=H,p=Error(r(419)),p.stack="",p.digest=A,Xs({value:p,source:null,stack:null}),s=nm(a,s,c)}else if(St||So(a,s,c,!1),A=(c&a.childLanes)!==0,St||A){if(A=Qe,A!==null&&(p=vb(A,c),p!==0&&p!==D.retryLane))throw D.retryLane=p,va(a,p),_n(A,a,p),Wp;Dm(P)||Ic(),s=nm(a,s,c)}else Dm(P)?(s.flags|=192,s.child=a.child,s=null):(a=D.treeContext,nt=Qn(P.nextSibling),Ft=s,Ue=!0,ki=null,Wn=!1,a!==null&&hS(s,a),s=tm(s,p.children),s.flags|=4096);return s}return _?($i(),P=p.fallback,_=s.mode,D=a.child,H=D.sibling,p=Br(D,{mode:"hidden",children:p.children}),p.subtreeFlags=D.subtreeFlags&65011712,H!==null?P=Br(H,P):(P=ya(P,_,c,null),P.flags|=2),P.return=s,p.return=s,p.sibling=P,s.child=p,ul(null,p),p=s.child,P=a.child.memoizedState,P===null?P=Zp(c):(_=P.cachePool,_!==null?(D=_t._currentValue,_=_.parent!==D?{parent:D,pool:D}:_):_=_S(),P={baseLanes:P.baseLanes|c,cachePool:_}),p.memoizedState=P,p.childLanes=em(a,A,c),s.memoizedState=Qp,ul(a.child,p)):(zi(s),c=a.child,a=c.sibling,c=Br(c,{mode:"visible",children:p.children}),c.return=s,c.sibling=null,a!==null&&(A=s.deletions,A===null?(s.deletions=[a],s.flags|=16):A.push(a)),s.child=c,s.memoizedState=null,c)}function tm(a,s){return s=wc({mode:"visible",children:s},a.mode),s.return=a,a.child=s}function wc(a,s){return a=In(22,a,null,s),a.lanes=0,a}function nm(a,s,c){return Aa(s,a.child,null,c),a=tm(s,s.pendingProps.children),a.flags|=2,s.memoizedState=null,a}function Mw(a,s,c){a.lanes|=s;var p=a.alternate;p!==null&&(p.lanes|=s),vp(a.return,s,c)}function rm(a,s,c,p,_,S){var A=a.memoizedState;A===null?a.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:_,treeForkCount:S}:(A.isBackwards=s,A.rendering=null,A.renderingStartTime=0,A.last=p,A.tail=c,A.tailMode=_,A.treeForkCount=S)}function Nw(a,s,c){var p=s.pendingProps,_=p.revealOrder,S=p.tail;p=p.children;var A=pt.current,P=(A&2)!==0;if(P?(A=A&1|2,s.flags|=128):A&=1,ne(pt,A),Kt(a,s,p,c),p=Ue?Ws:0,!P&&a!==null&&(a.flags&128)!==0)e:for(a=s.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Mw(a,c,s);else if(a.tag===19)Mw(a,c,s);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(_){case"forwards":for(c=s.child,_=null;c!==null;)a=c.alternate,a!==null&&cc(a)===null&&(_=c),c=c.sibling;c=_,c===null?(_=s.child,s.child=null):(_=c.sibling,c.sibling=null),rm(s,!1,_,c,S,p);break;case"backwards":case"unstable_legacy-backwards":for(c=null,_=s.child,s.child=null;_!==null;){if(a=_.alternate,a!==null&&cc(a)===null){s.child=_;break}a=_.sibling,_.sibling=c,c=_,_=a}rm(s,!0,c,null,S,p);break;case"together":rm(s,!1,null,null,void 0,p);break;default:s.memoizedState=null}return s.child}function Fr(a,s,c){if(a!==null&&(s.dependencies=a.dependencies),Gi|=s.lanes,(c&s.childLanes)===0)if(a!==null){if(So(a,s,c,!1),(c&s.childLanes)===0)return null}else return null;if(a!==null&&s.child!==a.child)throw Error(r(153));if(s.child!==null){for(a=s.child,c=Br(a,a.pendingProps),s.child=c,c.return=s;a.sibling!==null;)a=a.sibling,c=c.sibling=Br(a,a.pendingProps),c.return=s;c.sibling=null}return s.child}function im(a,s){return(a.lanes&s)!==0?!0:(a=a.dependencies,!!(a!==null&&nc(a)))}function VU(a,s,c){switch(s.tag){case 3:He(s,s.stateNode.containerInfo),Ui(s,_t,a.memoizedState.cache),_a();break;case 27:case 5:we(s);break;case 4:He(s,s.stateNode.containerInfo);break;case 10:Ui(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Op(s),null;break;case 13:var p=s.memoizedState;if(p!==null)return p.dehydrated!==null?(zi(s),s.flags|=128,null):(c&s.child.childLanes)!==0?Iw(a,s,c):(zi(s),a=Fr(a,s,c),a!==null?a.sibling:null);zi(s);break;case 19:var _=(a.flags&128)!==0;if(p=(c&s.childLanes)!==0,p||(So(a,s,c,!1),p=(c&s.childLanes)!==0),_){if(p)return Nw(a,s,c);s.flags|=128}if(_=s.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),ne(pt,pt.current),p)break;return null;case 22:return s.lanes=0,Aw(a,s,c,s.pendingProps);case 24:Ui(s,_t,a.memoizedState.cache)}return Fr(a,s,c)}function kw(a,s,c){if(a!==null)if(a.memoizedProps!==s.pendingProps)St=!0;else{if(!im(a,c)&&(s.flags&128)===0)return St=!1,VU(a,s,c);St=(a.flags&131072)!==0}else St=!1,Ue&&(s.flags&1048576)!==0&&dS(s,Ws,s.index);switch(s.lanes=0,s.tag){case 16:e:{var p=s.pendingProps;if(a=Ea(s.elementType),s.type=a,typeof a=="function")up(a)?(p=Ca(a,p),s.tag=1,s=Ow(null,s,a,p,c)):(s.tag=0,s=Xp(null,s,a,p,c));else{if(a!=null){var _=a.$$typeof;if(_===M){s.tag=11,s=ww(null,s,a,p,c);break e}else if(_===U){s.tag=14,s=Ew(null,s,a,p,c);break e}}throw s=he(a)||a,Error(r(306,s,""))}}return s;case 0:return Xp(a,s,s.type,s.pendingProps,c);case 1:return p=s.type,_=Ca(p,s.pendingProps),Ow(a,s,p,_,c);case 3:e:{if(He(s,s.stateNode.containerInfo),a===null)throw Error(r(387));p=s.pendingProps;var S=s.memoizedState;_=S.element,Tp(a,s),il(s,p,null,c);var A=s.memoizedState;if(p=A.cache,Ui(s,_t,p),p!==S.cache&&yp(s,[_t],c,!0),rl(),p=A.element,S.isDehydrated)if(S={element:p,isDehydrated:!1,cache:A.cache},s.updateQueue.baseState=S,s.memoizedState=S,s.flags&256){s=Pw(a,s,p,c);break e}else if(p!==_){_=Kn(Error(r(424)),s),Xs(_),s=Pw(a,s,p,c);break e}else{switch(a=s.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(nt=Qn(a.firstChild),Ft=s,Ue=!0,ki=null,Wn=!0,c=AS(s,null,p,c),s.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(_a(),p===_){s=Fr(a,s,c);break e}Kt(a,s,p,c)}s=s.child}return s;case 26:return Sc(a,s),a===null?(c=FE(s.type,null,s.pendingProps,null))?s.memoizedState=c:Ue||(c=s.type,a=s.pendingProps,p=qc(be.current).createElement(c),p[Gt]=s,p[hn]=a,Yt(p,c,a),Nt(p),s.stateNode=p):s.memoizedState=FE(s.type,a.memoizedProps,s.pendingProps,a.memoizedState),null;case 27:return we(s),a===null&&Ue&&(p=s.stateNode=HE(s.type,s.pendingProps,be.current),Ft=s,Wn=!0,_=nt,Ji(s.type)?(Lm=_,nt=Qn(p.firstChild)):nt=_),Kt(a,s,s.pendingProps.children,c),Sc(a,s),a===null&&(s.flags|=4194304),s.child;case 5:return a===null&&Ue&&((_=p=nt)&&(p=wL(p,s.type,s.pendingProps,Wn),p!==null?(s.stateNode=p,Ft=s,nt=Qn(p.firstChild),Wn=!1,_=!0):_=!1),_||Di(s)),we(s),_=s.type,S=s.pendingProps,A=a!==null?a.memoizedProps:null,p=S.children,Mm(_,S)?p=null:A!==null&&Mm(_,A)&&(s.flags|=32),s.memoizedState!==null&&(_=Ip(a,s,LU,null,null,c),Tl._currentValue=_),Sc(a,s),Kt(a,s,p,c),s.child;case 6:return a===null&&Ue&&((a=c=nt)&&(c=EL(c,s.pendingProps,Wn),c!==null?(s.stateNode=c,Ft=s,nt=null,a=!0):a=!1),a||Di(s)),null;case 13:return Iw(a,s,c);case 4:return He(s,s.stateNode.containerInfo),p=s.pendingProps,a===null?s.child=Aa(s,null,p,c):Kt(a,s,p,c),s.child;case 11:return ww(a,s,s.type,s.pendingProps,c);case 7:return Kt(a,s,s.pendingProps,c),s.child;case 8:return Kt(a,s,s.pendingProps.children,c),s.child;case 12:return Kt(a,s,s.pendingProps.children,c),s.child;case 10:return p=s.pendingProps,Ui(s,s.type,p.value),Kt(a,s,p.children,c),s.child;case 9:return _=s.type._context,p=s.pendingProps.children,Sa(s),_=Vt(_),p=p(_),s.flags|=1,Kt(a,s,p,c),s.child;case 14:return Ew(a,s,s.type,s.pendingProps,c);case 15:return Tw(a,s,s.type,s.pendingProps,c);case 19:return Nw(a,s,c);case 31:return FU(a,s,c);case 22:return Aw(a,s,c,s.pendingProps);case 24:return Sa(s),p=Vt(_t),a===null?(_=Sp(),_===null&&(_=Qe,S=_p(),_.pooledCache=S,S.refCount++,S!==null&&(_.pooledCacheLanes|=c),_=S),s.memoizedState={parent:p,cache:_},Ep(s),Ui(s,_t,_)):((a.lanes&c)!==0&&(Tp(a,s),il(s,null,null,c),rl()),_=a.memoizedState,S=s.memoizedState,_.parent!==p?(_={parent:p,cache:p},s.memoizedState=_,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=_),Ui(s,_t,p)):(p=S.cache,Ui(s,_t,p),p!==_.cache&&yp(s,[_t],c,!0))),Kt(a,s,s.pendingProps.children,c),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Vr(a){a.flags|=4}function am(a,s,c,p,_){if((s=(a.mode&32)!==0)&&(s=!1),s){if(a.flags|=16777216,(_&335544128)===_)if(a.stateNode.complete)a.flags|=8192;else if(sE())a.flags|=8192;else throw Ta=oc,wp}else a.flags&=-16777217}function Dw(a,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!WE(s))if(sE())a.flags|=8192;else throw Ta=oc,wp}function Ec(a,s){s!==null&&(a.flags|=4),a.flags&16384&&(s=a.tag!==22?pb():536870912,a.lanes|=s,No|=s)}function cl(a,s){if(!Ue)switch(a.tailMode){case"hidden":s=a.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?a.tail=null:c.sibling=null;break;case"collapsed":c=a.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?s||a.tail===null?a.tail=null:a.tail.sibling=null:p.sibling=null}}function rt(a){var s=a.alternate!==null&&a.alternate.child===a.child,c=0,p=0;if(s)for(var _=a.child;_!==null;)c|=_.lanes|_.childLanes,p|=_.subtreeFlags&65011712,p|=_.flags&65011712,_.return=a,_=_.sibling;else for(_=a.child;_!==null;)c|=_.lanes|_.childLanes,p|=_.subtreeFlags,p|=_.flags,_.return=a,_=_.sibling;return a.subtreeFlags|=p,a.childLanes=c,s}function KU(a,s,c){var p=s.pendingProps;switch(hp(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(s),null;case 1:return rt(s),null;case 3:return c=s.stateNode,p=null,a!==null&&(p=a.memoizedState.cache),s.memoizedState.cache!==p&&(s.flags|=2048),Hr(_t),Y(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(a===null||a.child===null)&&(bo(s)?Vr(s):a===null||a.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,mp())),rt(s),null;case 26:var _=s.type,S=s.memoizedState;return a===null?(Vr(s),S!==null?(rt(s),Dw(s,S)):(rt(s),am(s,_,null,p,c))):S?S!==a.memoizedState?(Vr(s),rt(s),Dw(s,S)):(rt(s),s.flags&=-16777217):(a=a.memoizedProps,a!==p&&Vr(s),rt(s),am(s,_,a,p,c)),null;case 27:if(Te(s),c=be.current,_=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==p&&Vr(s);else{if(!p){if(s.stateNode===null)throw Error(r(166));return rt(s),null}a=ae.current,bo(s)?pS(s):(a=HE(_,p,c),s.stateNode=a,Vr(s))}return rt(s),null;case 5:if(Te(s),_=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==p&&Vr(s);else{if(!p){if(s.stateNode===null)throw Error(r(166));return rt(s),null}if(S=ae.current,bo(s))pS(s);else{var A=qc(be.current);switch(S){case 1:S=A.createElementNS("http://www.w3.org/2000/svg",_);break;case 2:S=A.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;default:switch(_){case"svg":S=A.createElementNS("http://www.w3.org/2000/svg",_);break;case"math":S=A.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;case"script":S=A.createElement("div"),S.innerHTML="<script><\/script>",S=S.removeChild(S.firstChild);break;case"select":S=typeof p.is=="string"?A.createElement("select",{is:p.is}):A.createElement("select"),p.multiple?S.multiple=!0:p.size&&(S.size=p.size);break;default:S=typeof p.is=="string"?A.createElement(_,{is:p.is}):A.createElement(_)}}S[Gt]=s,S[hn]=p;e:for(A=s.child;A!==null;){if(A.tag===5||A.tag===6)S.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===s)break e;for(;A.sibling===null;){if(A.return===null||A.return===s)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}s.stateNode=S;e:switch(Yt(S,_,p),_){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&Vr(s)}}return rt(s),am(s,s.type,a===null?null:a.memoizedProps,s.pendingProps,c),null;case 6:if(a&&s.stateNode!=null)a.memoizedProps!==p&&Vr(s);else{if(typeof p!="string"&&s.stateNode===null)throw Error(r(166));if(a=be.current,bo(s)){if(a=s.stateNode,c=s.memoizedProps,p=null,_=Ft,_!==null)switch(_.tag){case 27:case 5:p=_.memoizedProps}a[Gt]=s,a=!!(a.nodeValue===c||p!==null&&p.suppressHydrationWarning===!0||IE(a.nodeValue,c)),a||Di(s,!0)}else a=qc(a).createTextNode(p),a[Gt]=s,s.stateNode=a}return rt(s),null;case 31:if(c=s.memoizedState,a===null||a.memoizedState!==null){if(p=bo(s),c!==null){if(a===null){if(!p)throw Error(r(318));if(a=s.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[Gt]=s}else _a(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;rt(s),a=!1}else c=mp(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=c),a=!0;if(!a)return s.flags&256?(Nn(s),s):(Nn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return rt(s),null;case 13:if(p=s.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(_=bo(s),p!==null&&p.dehydrated!==null){if(a===null){if(!_)throw Error(r(318));if(_=s.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(r(317));_[Gt]=s}else _a(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;rt(s),_=!1}else _=mp(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=_),_=!0;if(!_)return s.flags&256?(Nn(s),s):(Nn(s),null)}return Nn(s),(s.flags&128)!==0?(s.lanes=c,s):(c=p!==null,a=a!==null&&a.memoizedState!==null,c&&(p=s.child,_=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(_=p.alternate.memoizedState.cachePool.pool),S=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(S=p.memoizedState.cachePool.pool),S!==_&&(p.flags|=2048)),c!==a&&c&&(s.child.flags|=8192),Ec(s,s.updateQueue),rt(s),null);case 4:return Y(),a===null&&Cm(s.stateNode.containerInfo),rt(s),null;case 10:return Hr(s.type),rt(s),null;case 19:if(K(pt),p=s.memoizedState,p===null)return rt(s),null;if(_=(s.flags&128)!==0,S=p.rendering,S===null)if(_)cl(p,!1);else{if(ht!==0||a!==null&&(a.flags&128)!==0)for(a=s.child;a!==null;){if(S=cc(a),S!==null){for(s.flags|=128,cl(p,!1),a=S.updateQueue,s.updateQueue=a,Ec(s,a),s.subtreeFlags=0,a=c,c=s.child;c!==null;)uS(c,a),c=c.sibling;return ne(pt,pt.current&1|2),Ue&&zr(s,p.treeForkCount),s.child}a=a.sibling}p.tail!==null&&Cn()>Rc&&(s.flags|=128,_=!0,cl(p,!1),s.lanes=4194304)}else{if(!_)if(a=cc(S),a!==null){if(s.flags|=128,_=!0,a=a.updateQueue,s.updateQueue=a,Ec(s,a),cl(p,!0),p.tail===null&&p.tailMode==="hidden"&&!S.alternate&&!Ue)return rt(s),null}else 2*Cn()-p.renderingStartTime>Rc&&c!==536870912&&(s.flags|=128,_=!0,cl(p,!1),s.lanes=4194304);p.isBackwards?(S.sibling=s.child,s.child=S):(a=p.last,a!==null?a.sibling=S:s.child=S,p.last=S)}return p.tail!==null?(a=p.tail,p.rendering=a,p.tail=a.sibling,p.renderingStartTime=Cn(),a.sibling=null,c=pt.current,ne(pt,_?c&1|2:c&1),Ue&&zr(s,p.treeForkCount),a):(rt(s),null);case 22:case 23:return Nn(s),Rp(),p=s.memoizedState!==null,a!==null?a.memoizedState!==null!==p&&(s.flags|=8192):p&&(s.flags|=8192),p?(c&536870912)!==0&&(s.flags&128)===0&&(rt(s),s.subtreeFlags&6&&(s.flags|=8192)):rt(s),c=s.updateQueue,c!==null&&Ec(s,c.retryQueue),c=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),p=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(p=s.memoizedState.cachePool.pool),p!==c&&(s.flags|=2048),a!==null&&K(wa),null;case 24:return c=null,a!==null&&(c=a.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Hr(_t),rt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function YU(a,s){switch(hp(s),s.tag){case 1:return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 3:return Hr(_t),Y(),a=s.flags,(a&65536)!==0&&(a&128)===0?(s.flags=a&-65537|128,s):null;case 26:case 27:case 5:return Te(s),null;case 31:if(s.memoizedState!==null){if(Nn(s),s.alternate===null)throw Error(r(340));_a()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 13:if(Nn(s),a=s.memoizedState,a!==null&&a.dehydrated!==null){if(s.alternate===null)throw Error(r(340));_a()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 19:return K(pt),null;case 4:return Y(),null;case 10:return Hr(s.type),null;case 22:case 23:return Nn(s),Rp(),a!==null&&K(wa),a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 24:return Hr(_t),null;case 25:return null;default:return null}}function Uw(a,s){switch(hp(s),s.tag){case 3:Hr(_t),Y();break;case 26:case 27:case 5:Te(s);break;case 4:Y();break;case 31:s.memoizedState!==null&&Nn(s);break;case 13:Nn(s);break;case 19:K(pt);break;case 10:Hr(s.type);break;case 22:case 23:Nn(s),Rp(),a!==null&&K(wa);break;case 24:Hr(_t)}}function fl(a,s){try{var c=s.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var _=p.next;c=_;do{if((c.tag&a)===a){p=void 0;var S=c.create,A=c.inst;p=S(),A.destroy=p}c=c.next}while(c!==_)}}catch(P){Fe(s,s.return,P)}}function Hi(a,s,c){try{var p=s.updateQueue,_=p!==null?p.lastEffect:null;if(_!==null){var S=_.next;p=S;do{if((p.tag&a)===a){var A=p.inst,P=A.destroy;if(P!==void 0){A.destroy=void 0,_=s;var D=c,H=P;try{H()}catch(J){Fe(_,D,J)}}}p=p.next}while(p!==S)}}catch(J){Fe(s,s.return,J)}}function Lw(a){var s=a.updateQueue;if(s!==null){var c=a.stateNode;try{CS(s,c)}catch(p){Fe(a,a.return,p)}}}function qw(a,s,c){c.props=Ca(a.type,a.memoizedProps),c.state=a.memoizedState;try{c.componentWillUnmount()}catch(p){Fe(a,s,p)}}function dl(a,s){try{var c=a.ref;if(c!==null){switch(a.tag){case 26:case 27:case 5:var p=a.stateNode;break;case 30:p=a.stateNode;break;default:p=a.stateNode}typeof c=="function"?a.refCleanup=c(p):c.current=p}}catch(_){Fe(a,s,_)}}function Cr(a,s){var c=a.ref,p=a.refCleanup;if(c!==null)if(typeof p=="function")try{p()}catch(_){Fe(a,s,_)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(_){Fe(a,s,_)}else c.current=null}function Bw(a){var s=a.type,c=a.memoizedProps,p=a.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":c.autoFocus&&p.focus();break e;case"img":c.src?p.src=c.src:c.srcSet&&(p.srcset=c.srcSet)}}catch(_){Fe(a,a.return,_)}}function om(a,s,c){try{var p=a.stateNode;gL(p,a.type,c,s),p[hn]=s}catch(_){Fe(a,a.return,_)}}function zw(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Ji(a.type)||a.tag===4}function sm(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||zw(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Ji(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function lm(a,s,c){var p=a.tag;if(p===5||p===6)a=a.stateNode,s?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(a,s):(s=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,s.appendChild(a),c=c._reactRootContainer,c!=null||s.onclick!==null||(s.onclick=Lr));else if(p!==4&&(p===27&&Ji(a.type)&&(c=a.stateNode,s=null),a=a.child,a!==null))for(lm(a,s,c),a=a.sibling;a!==null;)lm(a,s,c),a=a.sibling}function Tc(a,s,c){var p=a.tag;if(p===5||p===6)a=a.stateNode,s?c.insertBefore(a,s):c.appendChild(a);else if(p!==4&&(p===27&&Ji(a.type)&&(c=a.stateNode),a=a.child,a!==null))for(Tc(a,s,c),a=a.sibling;a!==null;)Tc(a,s,c),a=a.sibling}function $w(a){var s=a.stateNode,c=a.memoizedProps;try{for(var p=a.type,_=s.attributes;_.length;)s.removeAttributeNode(_[0]);Yt(s,p,c),s[Gt]=a,s[hn]=c}catch(S){Fe(a,a.return,S)}}var Kr=!1,wt=!1,um=!1,Hw=typeof WeakSet=="function"?WeakSet:Set,kt=null;function JU(a,s){if(a=a.containerInfo,Pm=Fc,a=eS(a),np(a)){if("selectionStart"in a)var c={start:a.selectionStart,end:a.selectionEnd};else e:{c=(c=a.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var _=p.anchorOffset,S=p.focusNode;p=p.focusOffset;try{c.nodeType,S.nodeType}catch{c=null;break e}var A=0,P=-1,D=-1,H=0,J=0,ee=a,j=null;t:for(;;){for(var F;ee!==c||_!==0&&ee.nodeType!==3||(P=A+_),ee!==S||p!==0&&ee.nodeType!==3||(D=A+p),ee.nodeType===3&&(A+=ee.nodeValue.length),(F=ee.firstChild)!==null;)j=ee,ee=F;for(;;){if(ee===a)break t;if(j===c&&++H===_&&(P=A),j===S&&++J===p&&(D=A),(F=ee.nextSibling)!==null)break;ee=j,j=ee.parentNode}ee=F}c=P===-1||D===-1?null:{start:P,end:D}}else c=null}c=c||{start:0,end:0}}else c=null;for(Im={focusedElem:a,selectionRange:c},Fc=!1,kt=s;kt!==null;)if(s=kt,a=s.child,(s.subtreeFlags&1028)!==0&&a!==null)a.return=s,kt=a;else for(;kt!==null;){switch(s=kt,S=s.alternate,a=s.flags,s.tag){case 0:if((a&4)!==0&&(a=s.updateQueue,a=a!==null?a.events:null,a!==null))for(c=0;c<a.length;c++)_=a[c],_.ref.impl=_.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&S!==null){a=void 0,c=s,_=S.memoizedProps,S=S.memoizedState,p=c.stateNode;try{var de=Ca(c.type,_);a=p.getSnapshotBeforeUpdate(de,S),p.__reactInternalSnapshotBeforeUpdate=a}catch(Se){Fe(c,c.return,Se)}}break;case 3:if((a&1024)!==0){if(a=s.stateNode.containerInfo,c=a.nodeType,c===9)km(a);else if(c===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":km(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=s.sibling,a!==null){a.return=s.return,kt=a;break}kt=s.return}}function jw(a,s,c){var p=c.flags;switch(c.tag){case 0:case 11:case 15:Jr(a,c),p&4&&fl(5,c);break;case 1:if(Jr(a,c),p&4)if(a=c.stateNode,s===null)try{a.componentDidMount()}catch(A){Fe(c,c.return,A)}else{var _=Ca(c.type,s.memoizedProps);s=s.memoizedState;try{a.componentDidUpdate(_,s,a.__reactInternalSnapshotBeforeUpdate)}catch(A){Fe(c,c.return,A)}}p&64&&Lw(c),p&512&&dl(c,c.return);break;case 3:if(Jr(a,c),p&64&&(a=c.updateQueue,a!==null)){if(s=null,c.child!==null)switch(c.child.tag){case 27:case 5:s=c.child.stateNode;break;case 1:s=c.child.stateNode}try{CS(a,s)}catch(A){Fe(c,c.return,A)}}break;case 27:s===null&&p&4&&$w(c);case 26:case 5:Jr(a,c),s===null&&p&4&&Bw(c),p&512&&dl(c,c.return);break;case 12:Jr(a,c);break;case 31:Jr(a,c),p&4&&Vw(a,c);break;case 13:Jr(a,c),p&4&&Kw(a,c),p&64&&(a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(c=iL.bind(null,c),TL(a,c))));break;case 22:if(p=c.memoizedState!==null||Kr,!p){s=s!==null&&s.memoizedState!==null||wt,_=Kr;var S=wt;Kr=p,(wt=s)&&!S?Wr(a,c,(c.subtreeFlags&8772)!==0):Jr(a,c),Kr=_,wt=S}break;case 30:break;default:Jr(a,c)}}function Gw(a){var s=a.alternate;s!==null&&(a.alternate=null,Gw(s)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(s=a.stateNode,s!==null&&Bh(s)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var st=null,mn=!1;function Yr(a,s,c){for(c=c.child;c!==null;)Fw(a,s,c),c=c.sibling}function Fw(a,s,c){if(Rn&&typeof Rn.onCommitFiberUnmount=="function")try{Rn.onCommitFiberUnmount(Us,c)}catch{}switch(c.tag){case 26:wt||Cr(c,s),Yr(a,s,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:wt||Cr(c,s);var p=st,_=mn;Ji(c.type)&&(st=c.stateNode,mn=!1),Yr(a,s,c),Sl(c.stateNode),st=p,mn=_;break;case 5:wt||Cr(c,s);case 6:if(p=st,_=mn,st=null,Yr(a,s,c),st=p,mn=_,st!==null)if(mn)try{(st.nodeType===9?st.body:st.nodeName==="HTML"?st.ownerDocument.body:st).removeChild(c.stateNode)}catch(S){Fe(c,s,S)}else try{st.removeChild(c.stateNode)}catch(S){Fe(c,s,S)}break;case 18:st!==null&&(mn?(a=st,LE(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,c.stateNode),$o(a)):LE(st,c.stateNode));break;case 4:p=st,_=mn,st=c.stateNode.containerInfo,mn=!0,Yr(a,s,c),st=p,mn=_;break;case 0:case 11:case 14:case 15:Hi(2,c,s),wt||Hi(4,c,s),Yr(a,s,c);break;case 1:wt||(Cr(c,s),p=c.stateNode,typeof p.componentWillUnmount=="function"&&qw(c,s,p)),Yr(a,s,c);break;case 21:Yr(a,s,c);break;case 22:wt=(p=wt)||c.memoizedState!==null,Yr(a,s,c),wt=p;break;default:Yr(a,s,c)}}function Vw(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{$o(a)}catch(c){Fe(s,s.return,c)}}}function Kw(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{$o(a)}catch(c){Fe(s,s.return,c)}}function WU(a){switch(a.tag){case 31:case 13:case 19:var s=a.stateNode;return s===null&&(s=a.stateNode=new Hw),s;case 22:return a=a.stateNode,s=a._retryCache,s===null&&(s=a._retryCache=new Hw),s;default:throw Error(r(435,a.tag))}}function Ac(a,s){var c=WU(a);s.forEach(function(p){if(!c.has(p)){c.add(p);var _=aL.bind(null,a,p);p.then(_,_)}})}function gn(a,s){var c=s.deletions;if(c!==null)for(var p=0;p<c.length;p++){var _=c[p],S=a,A=s,P=A;e:for(;P!==null;){switch(P.tag){case 27:if(Ji(P.type)){st=P.stateNode,mn=!1;break e}break;case 5:st=P.stateNode,mn=!1;break e;case 3:case 4:st=P.stateNode.containerInfo,mn=!0;break e}P=P.return}if(st===null)throw Error(r(160));Fw(S,A,_),st=null,mn=!1,S=_.alternate,S!==null&&(S.return=null),_.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Yw(s,a),s=s.sibling}var cr=null;function Yw(a,s){var c=a.alternate,p=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:gn(s,a),vn(a),p&4&&(Hi(3,a,a.return),fl(3,a),Hi(5,a,a.return));break;case 1:gn(s,a),vn(a),p&512&&(wt||c===null||Cr(c,c.return)),p&64&&Kr&&(a=a.updateQueue,a!==null&&(p=a.callbacks,p!==null&&(c=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=c===null?p:c.concat(p))));break;case 26:var _=cr;if(gn(s,a),vn(a),p&512&&(wt||c===null||Cr(c,c.return)),p&4){var S=c!==null?c.memoizedState:null;if(p=a.memoizedState,c===null)if(p===null)if(a.stateNode===null){e:{p=a.type,c=a.memoizedProps,_=_.ownerDocument||_;t:switch(p){case"title":S=_.getElementsByTagName("title")[0],(!S||S[Bs]||S[Gt]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=_.createElement(p),_.head.insertBefore(S,_.querySelector("head > title"))),Yt(S,p,c),S[Gt]=a,Nt(S),p=S;break e;case"link":var A=YE("link","href",_).get(p+(c.href||""));if(A){for(var P=0;P<A.length;P++)if(S=A[P],S.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&S.getAttribute("rel")===(c.rel==null?null:c.rel)&&S.getAttribute("title")===(c.title==null?null:c.title)&&S.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){A.splice(P,1);break t}}S=_.createElement(p),Yt(S,p,c),_.head.appendChild(S);break;case"meta":if(A=YE("meta","content",_).get(p+(c.content||""))){for(P=0;P<A.length;P++)if(S=A[P],S.getAttribute("content")===(c.content==null?null:""+c.content)&&S.getAttribute("name")===(c.name==null?null:c.name)&&S.getAttribute("property")===(c.property==null?null:c.property)&&S.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&S.getAttribute("charset")===(c.charSet==null?null:c.charSet)){A.splice(P,1);break t}}S=_.createElement(p),Yt(S,p,c),_.head.appendChild(S);break;default:throw Error(r(468,p))}S[Gt]=a,Nt(S),p=S}a.stateNode=p}else JE(_,a.type,a.stateNode);else a.stateNode=KE(_,p,a.memoizedProps);else S!==p?(S===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):S.count--,p===null?JE(_,a.type,a.stateNode):KE(_,p,a.memoizedProps)):p===null&&a.stateNode!==null&&om(a,a.memoizedProps,c.memoizedProps)}break;case 27:gn(s,a),vn(a),p&512&&(wt||c===null||Cr(c,c.return)),c!==null&&p&4&&om(a,a.memoizedProps,c.memoizedProps);break;case 5:if(gn(s,a),vn(a),p&512&&(wt||c===null||Cr(c,c.return)),a.flags&32){_=a.stateNode;try{uo(_,"")}catch(de){Fe(a,a.return,de)}}p&4&&a.stateNode!=null&&(_=a.memoizedProps,om(a,_,c!==null?c.memoizedProps:_)),p&1024&&(um=!0);break;case 6:if(gn(s,a),vn(a),p&4){if(a.stateNode===null)throw Error(r(162));p=a.memoizedProps,c=a.stateNode;try{c.nodeValue=p}catch(de){Fe(a,a.return,de)}}break;case 3:if($c=null,_=cr,cr=Bc(s.containerInfo),gn(s,a),cr=_,vn(a),p&4&&c!==null&&c.memoizedState.isDehydrated)try{$o(s.containerInfo)}catch(de){Fe(a,a.return,de)}um&&(um=!1,Jw(a));break;case 4:p=cr,cr=Bc(a.stateNode.containerInfo),gn(s,a),vn(a),cr=p;break;case 12:gn(s,a),vn(a);break;case 31:gn(s,a),vn(a),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,Ac(a,p)));break;case 13:gn(s,a),vn(a),a.child.flags&8192&&a.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Cc=Cn()),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,Ac(a,p)));break;case 22:_=a.memoizedState!==null;var D=c!==null&&c.memoizedState!==null,H=Kr,J=wt;if(Kr=H||_,wt=J||D,gn(s,a),wt=J,Kr=H,vn(a),p&8192)e:for(s=a.stateNode,s._visibility=_?s._visibility&-2:s._visibility|1,_&&(c===null||D||Kr||wt||Ra(a)),c=null,s=a;;){if(s.tag===5||s.tag===26){if(c===null){D=c=s;try{if(S=D.stateNode,_)A=S.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{P=D.stateNode;var ee=D.memoizedProps.style,j=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;P.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(de){Fe(D,D.return,de)}}}else if(s.tag===6){if(c===null){D=s;try{D.stateNode.nodeValue=_?"":D.memoizedProps}catch(de){Fe(D,D.return,de)}}}else if(s.tag===18){if(c===null){D=s;try{var F=D.stateNode;_?qE(F,!0):qE(D.stateNode,!1)}catch(de){Fe(D,D.return,de)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===a)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;c===s&&(c=null),s=s.return}c===s&&(c=null),s.sibling.return=s.return,s=s.sibling}p&4&&(p=a.updateQueue,p!==null&&(c=p.retryQueue,c!==null&&(p.retryQueue=null,Ac(a,c))));break;case 19:gn(s,a),vn(a),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,Ac(a,p)));break;case 30:break;case 21:break;default:gn(s,a),vn(a)}}function vn(a){var s=a.flags;if(s&2){try{for(var c,p=a.return;p!==null;){if(zw(p)){c=p;break}p=p.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var _=c.stateNode,S=sm(a);Tc(a,S,_);break;case 5:var A=c.stateNode;c.flags&32&&(uo(A,""),c.flags&=-33);var P=sm(a);Tc(a,P,A);break;case 3:case 4:var D=c.stateNode.containerInfo,H=sm(a);lm(a,H,D);break;default:throw Error(r(161))}}catch(J){Fe(a,a.return,J)}a.flags&=-3}s&4096&&(a.flags&=-4097)}function Jw(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var s=a;Jw(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),a=a.sibling}}function Jr(a,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)jw(a,s.alternate,s),s=s.sibling}function Ra(a){for(a=a.child;a!==null;){var s=a;switch(s.tag){case 0:case 11:case 14:case 15:Hi(4,s,s.return),Ra(s);break;case 1:Cr(s,s.return);var c=s.stateNode;typeof c.componentWillUnmount=="function"&&qw(s,s.return,c),Ra(s);break;case 27:Sl(s.stateNode);case 26:case 5:Cr(s,s.return),Ra(s);break;case 22:s.memoizedState===null&&Ra(s);break;case 30:Ra(s);break;default:Ra(s)}a=a.sibling}}function Wr(a,s,c){for(c=c&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var p=s.alternate,_=a,S=s,A=S.flags;switch(S.tag){case 0:case 11:case 15:Wr(_,S,c),fl(4,S);break;case 1:if(Wr(_,S,c),p=S,_=p.stateNode,typeof _.componentDidMount=="function")try{_.componentDidMount()}catch(H){Fe(p,p.return,H)}if(p=S,_=p.updateQueue,_!==null){var P=p.stateNode;try{var D=_.shared.hiddenCallbacks;if(D!==null)for(_.shared.hiddenCallbacks=null,_=0;_<D.length;_++)xS(D[_],P)}catch(H){Fe(p,p.return,H)}}c&&A&64&&Lw(S),dl(S,S.return);break;case 27:$w(S);case 26:case 5:Wr(_,S,c),c&&p===null&&A&4&&Bw(S),dl(S,S.return);break;case 12:Wr(_,S,c);break;case 31:Wr(_,S,c),c&&A&4&&Vw(_,S);break;case 13:Wr(_,S,c),c&&A&4&&Kw(_,S);break;case 22:S.memoizedState===null&&Wr(_,S,c),dl(S,S.return);break;case 30:break;default:Wr(_,S,c)}s=s.sibling}}function cm(a,s){var c=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),a=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),a!==c&&(a!=null&&a.refCount++,c!=null&&Qs(c))}function fm(a,s){a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&Qs(a))}function fr(a,s,c,p){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Ww(a,s,c,p),s=s.sibling}function Ww(a,s,c,p){var _=s.flags;switch(s.tag){case 0:case 11:case 15:fr(a,s,c,p),_&2048&&fl(9,s);break;case 1:fr(a,s,c,p);break;case 3:fr(a,s,c,p),_&2048&&(a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&Qs(a)));break;case 12:if(_&2048){fr(a,s,c,p),a=s.stateNode;try{var S=s.memoizedProps,A=S.id,P=S.onPostCommit;typeof P=="function"&&P(A,s.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(D){Fe(s,s.return,D)}}else fr(a,s,c,p);break;case 31:fr(a,s,c,p);break;case 13:fr(a,s,c,p);break;case 23:break;case 22:S=s.stateNode,A=s.alternate,s.memoizedState!==null?S._visibility&2?fr(a,s,c,p):hl(a,s):S._visibility&2?fr(a,s,c,p):(S._visibility|=2,Po(a,s,c,p,(s.subtreeFlags&10256)!==0||!1)),_&2048&&cm(A,s);break;case 24:fr(a,s,c,p),_&2048&&fm(s.alternate,s);break;default:fr(a,s,c,p)}}function Po(a,s,c,p,_){for(_=_&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var S=a,A=s,P=c,D=p,H=A.flags;switch(A.tag){case 0:case 11:case 15:Po(S,A,P,D,_),fl(8,A);break;case 23:break;case 22:var J=A.stateNode;A.memoizedState!==null?J._visibility&2?Po(S,A,P,D,_):hl(S,A):(J._visibility|=2,Po(S,A,P,D,_)),_&&H&2048&&cm(A.alternate,A);break;case 24:Po(S,A,P,D,_),_&&H&2048&&fm(A.alternate,A);break;default:Po(S,A,P,D,_)}s=s.sibling}}function hl(a,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var c=a,p=s,_=p.flags;switch(p.tag){case 22:hl(c,p),_&2048&&cm(p.alternate,p);break;case 24:hl(c,p),_&2048&&fm(p.alternate,p);break;default:hl(c,p)}s=s.sibling}}var pl=8192;function Io(a,s,c){if(a.subtreeFlags&pl)for(a=a.child;a!==null;)Xw(a,s,c),a=a.sibling}function Xw(a,s,c){switch(a.tag){case 26:Io(a,s,c),a.flags&pl&&a.memoizedState!==null&&UL(c,cr,a.memoizedState,a.memoizedProps);break;case 5:Io(a,s,c);break;case 3:case 4:var p=cr;cr=Bc(a.stateNode.containerInfo),Io(a,s,c),cr=p;break;case 22:a.memoizedState===null&&(p=a.alternate,p!==null&&p.memoizedState!==null?(p=pl,pl=16777216,Io(a,s,c),pl=p):Io(a,s,c));break;default:Io(a,s,c)}}function Qw(a){var s=a.alternate;if(s!==null&&(a=s.child,a!==null)){s.child=null;do s=a.sibling,a.sibling=null,a=s;while(a!==null)}}function ml(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var p=s[c];kt=p,eE(p,a)}Qw(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Zw(a),a=a.sibling}function Zw(a){switch(a.tag){case 0:case 11:case 15:ml(a),a.flags&2048&&Hi(9,a,a.return);break;case 3:ml(a);break;case 12:ml(a);break;case 22:var s=a.stateNode;a.memoizedState!==null&&s._visibility&2&&(a.return===null||a.return.tag!==13)?(s._visibility&=-3,xc(a)):ml(a);break;default:ml(a)}}function xc(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var p=s[c];kt=p,eE(p,a)}Qw(a)}for(a=a.child;a!==null;){switch(s=a,s.tag){case 0:case 11:case 15:Hi(8,s,s.return),xc(s);break;case 22:c=s.stateNode,c._visibility&2&&(c._visibility&=-3,xc(s));break;default:xc(s)}a=a.sibling}}function eE(a,s){for(;kt!==null;){var c=kt;switch(c.tag){case 0:case 11:case 15:Hi(8,c,s);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var p=c.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:Qs(c.memoizedState.cache)}if(p=c.child,p!==null)p.return=c,kt=p;else e:for(c=a;kt!==null;){p=kt;var _=p.sibling,S=p.return;if(Gw(p),p===c){kt=null;break e}if(_!==null){_.return=S,kt=_;break e}kt=S}}}var XU={getCacheForType:function(a){var s=Vt(_t),c=s.data.get(a);return c===void 0&&(c=a(),s.data.set(a,c)),c},cacheSignal:function(){return Vt(_t).controller.signal}},QU=typeof WeakMap=="function"?WeakMap:Map,je=0,Qe=null,Me=null,ke=0,Ge=0,kn=null,ji=!1,Mo=!1,dm=!1,Xr=0,ht=0,Gi=0,Oa=0,hm=0,Dn=0,No=0,gl=null,yn=null,pm=!1,Cc=0,tE=0,Rc=1/0,Oc=null,Fi=null,Ct=0,Vi=null,ko=null,Qr=0,mm=0,gm=null,nE=null,vl=0,vm=null;function Un(){return(je&2)!==0&&ke!==0?ke&-ke:z.T!==null?Em():yb()}function rE(){if(Dn===0)if((ke&536870912)===0||Ue){var a=Lu;Lu<<=1,(Lu&3932160)===0&&(Lu=262144),Dn=a}else Dn=536870912;return a=Mn.current,a!==null&&(a.flags|=32),Dn}function _n(a,s,c){(a===Qe&&(Ge===2||Ge===9)||a.cancelPendingCommit!==null)&&(Do(a,0),Ki(a,ke,Dn,!1)),qs(a,c),((je&2)===0||a!==Qe)&&(a===Qe&&((je&2)===0&&(Oa|=c),ht===4&&Ki(a,ke,Dn,!1)),Rr(a))}function iE(a,s,c){if((je&6)!==0)throw Error(r(327));var p=!c&&(s&127)===0&&(s&a.expiredLanes)===0||Ls(a,s),_=p?tL(a,s):_m(a,s,!0),S=p;do{if(_===0){Mo&&!p&&Ki(a,s,0,!1);break}else{if(c=a.current.alternate,S&&!ZU(c)){_=_m(a,s,!1),S=!1;continue}if(_===2){if(S=s,a.errorRecoveryDisabledLanes&S)var A=0;else A=a.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){s=A;e:{var P=a;_=gl;var D=P.current.memoizedState.isDehydrated;if(D&&(Do(P,A).flags|=256),A=_m(P,A,!1),A!==2){if(dm&&!D){P.errorRecoveryDisabledLanes|=S,Oa|=S,_=4;break e}S=yn,yn=_,S!==null&&(yn===null?yn=S:yn.push.apply(yn,S))}_=A}if(S=!1,_!==2)continue}}if(_===1){Do(a,0),Ki(a,s,0,!0);break}e:{switch(p=a,S=_,S){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Ki(p,s,Dn,!ji);break e;case 2:yn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(_=Cc+300-Cn(),10<_)){if(Ki(p,s,Dn,!ji),Bu(p,0,!0)!==0)break e;Qr=s,p.timeoutHandle=DE(aE.bind(null,p,c,yn,Oc,pm,s,Dn,Oa,No,ji,S,"Throttled",-0,0),_);break e}aE(p,c,yn,Oc,pm,s,Dn,Oa,No,ji,S,null,-0,0)}}break}while(!0);Rr(a)}function aE(a,s,c,p,_,S,A,P,D,H,J,ee,j,F){if(a.timeoutHandle=-1,ee=s.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Lr},Xw(s,S,ee);var de=(S&62914560)===S?Cc-Cn():(S&4194048)===S?tE-Cn():0;if(de=LL(ee,de),de!==null){Qr=S,a.cancelPendingCommit=de(hE.bind(null,a,s,S,c,p,_,A,P,D,J,ee,null,j,F)),Ki(a,S,A,!H);return}}hE(a,s,S,c,p,_,A,P,D)}function ZU(a){for(var s=a;;){var c=s.tag;if((c===0||c===11||c===15)&&s.flags&16384&&(c=s.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var p=0;p<c.length;p++){var _=c[p],S=_.getSnapshot;_=_.value;try{if(!Pn(S(),_))return!1}catch{return!1}}if(c=s.child,s.subtreeFlags&16384&&c!==null)c.return=s,s=c;else{if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ki(a,s,c,p){s&=~hm,s&=~Oa,a.suspendedLanes|=s,a.pingedLanes&=~s,p&&(a.warmLanes|=s),p=a.expirationTimes;for(var _=s;0<_;){var S=31-On(_),A=1<<S;p[S]=-1,_&=~A}c!==0&&mb(a,c,s)}function Pc(){return(je&6)===0?(yl(0),!1):!0}function ym(){if(Me!==null){if(Ge===0)var a=Me.return;else a=Me,$r=ba=null,kp(a),Ao=null,el=0,a=Me;for(;a!==null;)Uw(a.alternate,a),a=a.return;Me=null}}function Do(a,s){var c=a.timeoutHandle;c!==-1&&(a.timeoutHandle=-1,_L(c)),c=a.cancelPendingCommit,c!==null&&(a.cancelPendingCommit=null,c()),Qr=0,ym(),Qe=a,Me=c=Br(a.current,null),ke=s,Ge=0,kn=null,ji=!1,Mo=Ls(a,s),dm=!1,No=Dn=hm=Oa=Gi=ht=0,yn=gl=null,pm=!1,(s&8)!==0&&(s|=s&32);var p=a.entangledLanes;if(p!==0)for(a=a.entanglements,p&=s;0<p;){var _=31-On(p),S=1<<_;s|=a[_],p&=~S}return Xr=s,Xu(),c}function oE(a,s){Oe=null,z.H=ll,s===To||s===ac?(s=wS(),Ge=3):s===wp?(s=wS(),Ge=4):Ge=s===Wp?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,kn=s,Me===null&&(ht=1,_c(a,Kn(s,a.current)))}function sE(){var a=Mn.current;return a===null?!0:(ke&4194048)===ke?Xn===null:(ke&62914560)===ke||(ke&536870912)!==0?a===Xn:!1}function lE(){var a=z.H;return z.H=ll,a===null?ll:a}function uE(){var a=z.A;return z.A=XU,a}function Ic(){ht=4,ji||(ke&4194048)!==ke&&Mn.current!==null||(Mo=!0),(Gi&134217727)===0&&(Oa&134217727)===0||Qe===null||Ki(Qe,ke,Dn,!1)}function _m(a,s,c){var p=je;je|=2;var _=lE(),S=uE();(Qe!==a||ke!==s)&&(Oc=null,Do(a,s)),s=!1;var A=ht;e:do try{if(Ge!==0&&Me!==null){var P=Me,D=kn;switch(Ge){case 8:ym(),A=6;break e;case 3:case 2:case 9:case 6:Mn.current===null&&(s=!0);var H=Ge;if(Ge=0,kn=null,Uo(a,P,D,H),c&&Mo){A=0;break e}break;default:H=Ge,Ge=0,kn=null,Uo(a,P,D,H)}}eL(),A=ht;break}catch(J){oE(a,J)}while(!0);return s&&a.shellSuspendCounter++,$r=ba=null,je=p,z.H=_,z.A=S,Me===null&&(Qe=null,ke=0,Xu()),A}function eL(){for(;Me!==null;)cE(Me)}function tL(a,s){var c=je;je|=2;var p=lE(),_=uE();Qe!==a||ke!==s?(Oc=null,Rc=Cn()+500,Do(a,s)):Mo=Ls(a,s);e:do try{if(Ge!==0&&Me!==null){s=Me;var S=kn;t:switch(Ge){case 1:Ge=0,kn=null,Uo(a,s,S,1);break;case 2:case 9:if(bS(S)){Ge=0,kn=null,fE(s);break}s=function(){Ge!==2&&Ge!==9||Qe!==a||(Ge=7),Rr(a)},S.then(s,s);break e;case 3:Ge=7;break e;case 4:Ge=5;break e;case 7:bS(S)?(Ge=0,kn=null,fE(s)):(Ge=0,kn=null,Uo(a,s,S,7));break;case 5:var A=null;switch(Me.tag){case 26:A=Me.memoizedState;case 5:case 27:var P=Me;if(A?WE(A):P.stateNode.complete){Ge=0,kn=null;var D=P.sibling;if(D!==null)Me=D;else{var H=P.return;H!==null?(Me=H,Mc(H)):Me=null}break t}}Ge=0,kn=null,Uo(a,s,S,5);break;case 6:Ge=0,kn=null,Uo(a,s,S,6);break;case 8:ym(),ht=6;break e;default:throw Error(r(462))}}nL();break}catch(J){oE(a,J)}while(!0);return $r=ba=null,z.H=p,z.A=_,je=c,Me!==null?0:(Qe=null,ke=0,Xu(),ht)}function nL(){for(;Me!==null&&!A2();)cE(Me)}function cE(a){var s=kw(a.alternate,a,Xr);a.memoizedProps=a.pendingProps,s===null?Mc(a):Me=s}function fE(a){var s=a,c=s.alternate;switch(s.tag){case 15:case 0:s=Rw(c,s,s.pendingProps,s.type,void 0,ke);break;case 11:s=Rw(c,s,s.pendingProps,s.type.render,s.ref,ke);break;case 5:kp(s);default:Uw(c,s),s=Me=uS(s,Xr),s=kw(c,s,Xr)}a.memoizedProps=a.pendingProps,s===null?Mc(a):Me=s}function Uo(a,s,c,p){$r=ba=null,kp(s),Ao=null,el=0;var _=s.return;try{if(GU(a,_,s,c,ke)){ht=1,_c(a,Kn(c,a.current)),Me=null;return}}catch(S){if(_!==null)throw Me=_,S;ht=1,_c(a,Kn(c,a.current)),Me=null;return}s.flags&32768?(Ue||p===1?a=!0:Mo||(ke&536870912)!==0?a=!1:(ji=a=!0,(p===2||p===9||p===3||p===6)&&(p=Mn.current,p!==null&&p.tag===13&&(p.flags|=16384))),dE(s,a)):Mc(s)}function Mc(a){var s=a;do{if((s.flags&32768)!==0){dE(s,ji);return}a=s.return;var c=KU(s.alternate,s,Xr);if(c!==null){Me=c;return}if(s=s.sibling,s!==null){Me=s;return}Me=s=a}while(s!==null);ht===0&&(ht=5)}function dE(a,s){do{var c=YU(a.alternate,a);if(c!==null){c.flags&=32767,Me=c;return}if(c=a.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!s&&(a=a.sibling,a!==null)){Me=a;return}Me=a=c}while(a!==null);ht=6,Me=null}function hE(a,s,c,p,_,S,A,P,D){a.cancelPendingCommit=null;do Nc();while(Ct!==0);if((je&6)!==0)throw Error(r(327));if(s!==null){if(s===a.current)throw Error(r(177));if(S=s.lanes|s.childLanes,S|=sp,D2(a,c,S,A,P,D),a===Qe&&(Me=Qe=null,ke=0),ko=s,Vi=a,Qr=c,mm=S,gm=_,nE=p,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,oL(Du,function(){return yE(),null})):(a.callbackNode=null,a.callbackPriority=0),p=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||p){p=z.T,z.T=null,_=Z.p,Z.p=2,A=je,je|=4;try{JU(a,s,c)}finally{je=A,Z.p=_,z.T=p}}Ct=1,pE(),mE(),gE()}}function pE(){if(Ct===1){Ct=0;var a=Vi,s=ko,c=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||c){c=z.T,z.T=null;var p=Z.p;Z.p=2;var _=je;je|=4;try{Yw(s,a);var S=Im,A=eS(a.containerInfo),P=S.focusedElem,D=S.selectionRange;if(A!==P&&P&&P.ownerDocument&&Zb(P.ownerDocument.documentElement,P)){if(D!==null&&np(P)){var H=D.start,J=D.end;if(J===void 0&&(J=H),"selectionStart"in P)P.selectionStart=H,P.selectionEnd=Math.min(J,P.value.length);else{var ee=P.ownerDocument||document,j=ee&&ee.defaultView||window;if(j.getSelection){var F=j.getSelection(),de=P.textContent.length,Se=Math.min(D.start,de),We=D.end===void 0?Se:Math.min(D.end,de);!F.extend&&Se>We&&(A=We,We=Se,Se=A);var B=Qb(P,Se),q=Qb(P,We);if(B&&q&&(F.rangeCount!==1||F.anchorNode!==B.node||F.anchorOffset!==B.offset||F.focusNode!==q.node||F.focusOffset!==q.offset)){var $=ee.createRange();$.setStart(B.node,B.offset),F.removeAllRanges(),Se>We?(F.addRange($),F.extend(q.node,q.offset)):($.setEnd(q.node,q.offset),F.addRange($))}}}}for(ee=[],F=P;F=F.parentNode;)F.nodeType===1&&ee.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof P.focus=="function"&&P.focus(),P=0;P<ee.length;P++){var Q=ee[P];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Fc=!!Pm,Im=Pm=null}finally{je=_,Z.p=p,z.T=c}}a.current=s,Ct=2}}function mE(){if(Ct===2){Ct=0;var a=Vi,s=ko,c=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||c){c=z.T,z.T=null;var p=Z.p;Z.p=2;var _=je;je|=4;try{jw(a,s.alternate,s)}finally{je=_,Z.p=p,z.T=c}}Ct=3}}function gE(){if(Ct===4||Ct===3){Ct=0,x2();var a=Vi,s=ko,c=Qr,p=nE;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Ct=5:(Ct=0,ko=Vi=null,vE(a,a.pendingLanes));var _=a.pendingLanes;if(_===0&&(Fi=null),Lh(c),s=s.stateNode,Rn&&typeof Rn.onCommitFiberRoot=="function")try{Rn.onCommitFiberRoot(Us,s,void 0,(s.current.flags&128)===128)}catch{}if(p!==null){s=z.T,_=Z.p,Z.p=2,z.T=null;try{for(var S=a.onRecoverableError,A=0;A<p.length;A++){var P=p[A];S(P.value,{componentStack:P.stack})}}finally{z.T=s,Z.p=_}}(Qr&3)!==0&&Nc(),Rr(a),_=a.pendingLanes,(c&261930)!==0&&(_&42)!==0?a===vm?vl++:(vl=0,vm=a):vl=0,yl(0)}}function vE(a,s){(a.pooledCacheLanes&=s)===0&&(s=a.pooledCache,s!=null&&(a.pooledCache=null,Qs(s)))}function Nc(){return pE(),mE(),gE(),yE()}function yE(){if(Ct!==5)return!1;var a=Vi,s=mm;mm=0;var c=Lh(Qr),p=z.T,_=Z.p;try{Z.p=32>c?32:c,z.T=null,c=gm,gm=null;var S=Vi,A=Qr;if(Ct=0,ko=Vi=null,Qr=0,(je&6)!==0)throw Error(r(331));var P=je;if(je|=4,Zw(S.current),Ww(S,S.current,A,c),je=P,yl(0,!1),Rn&&typeof Rn.onPostCommitFiberRoot=="function")try{Rn.onPostCommitFiberRoot(Us,S)}catch{}return!0}finally{Z.p=_,z.T=p,vE(a,s)}}function _E(a,s,c){s=Kn(c,s),s=Jp(a.stateNode,s,2),a=Bi(a,s,2),a!==null&&(qs(a,2),Rr(a))}function Fe(a,s,c){if(a.tag===3)_E(a,a,c);else for(;s!==null;){if(s.tag===3){_E(s,a,c);break}else if(s.tag===1){var p=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Fi===null||!Fi.has(p))){a=Kn(c,a),c=bw(2),p=Bi(s,c,2),p!==null&&(Sw(c,p,s,a),qs(p,2),Rr(p));break}}s=s.return}}function bm(a,s,c){var p=a.pingCache;if(p===null){p=a.pingCache=new QU;var _=new Set;p.set(s,_)}else _=p.get(s),_===void 0&&(_=new Set,p.set(s,_));_.has(c)||(dm=!0,_.add(c),a=rL.bind(null,a,s,c),s.then(a,a))}function rL(a,s,c){var p=a.pingCache;p!==null&&p.delete(s),a.pingedLanes|=a.suspendedLanes&c,a.warmLanes&=~c,Qe===a&&(ke&c)===c&&(ht===4||ht===3&&(ke&62914560)===ke&&300>Cn()-Cc?(je&2)===0&&Do(a,0):hm|=c,No===ke&&(No=0)),Rr(a)}function bE(a,s){s===0&&(s=pb()),a=va(a,s),a!==null&&(qs(a,s),Rr(a))}function iL(a){var s=a.memoizedState,c=0;s!==null&&(c=s.retryLane),bE(a,c)}function aL(a,s){var c=0;switch(a.tag){case 31:case 13:var p=a.stateNode,_=a.memoizedState;_!==null&&(c=_.retryLane);break;case 19:p=a.stateNode;break;case 22:p=a.stateNode._retryCache;break;default:throw Error(r(314))}p!==null&&p.delete(s),bE(a,c)}function oL(a,s){return Nh(a,s)}var kc=null,Lo=null,Sm=!1,Dc=!1,wm=!1,Yi=0;function Rr(a){a!==Lo&&a.next===null&&(Lo===null?kc=Lo=a:Lo=Lo.next=a),Dc=!0,Sm||(Sm=!0,lL())}function yl(a,s){if(!wm&&Dc){wm=!0;do for(var c=!1,p=kc;p!==null;){if(a!==0){var _=p.pendingLanes;if(_===0)var S=0;else{var A=p.suspendedLanes,P=p.pingedLanes;S=(1<<31-On(42|a)+1)-1,S&=_&~(A&~P),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(c=!0,TE(p,S))}else S=ke,S=Bu(p,p===Qe?S:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(S&3)===0||Ls(p,S)||(c=!0,TE(p,S));p=p.next}while(c);wm=!1}}function sL(){SE()}function SE(){Dc=Sm=!1;var a=0;Yi!==0&&yL()&&(a=Yi);for(var s=Cn(),c=null,p=kc;p!==null;){var _=p.next,S=wE(p,s);S===0?(p.next=null,c===null?kc=_:c.next=_,_===null&&(Lo=c)):(c=p,(a!==0||(S&3)!==0)&&(Dc=!0)),p=_}Ct!==0&&Ct!==5||yl(a),Yi!==0&&(Yi=0)}function wE(a,s){for(var c=a.suspendedLanes,p=a.pingedLanes,_=a.expirationTimes,S=a.pendingLanes&-62914561;0<S;){var A=31-On(S),P=1<<A,D=_[A];D===-1?((P&c)===0||(P&p)!==0)&&(_[A]=k2(P,s)):D<=s&&(a.expiredLanes|=P),S&=~P}if(s=Qe,c=ke,c=Bu(a,a===s?c:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),p=a.callbackNode,c===0||a===s&&(Ge===2||Ge===9)||a.cancelPendingCommit!==null)return p!==null&&p!==null&&kh(p),a.callbackNode=null,a.callbackPriority=0;if((c&3)===0||Ls(a,c)){if(s=c&-c,s===a.callbackPriority)return s;switch(p!==null&&kh(p),Lh(c)){case 2:case 8:c=db;break;case 32:c=Du;break;case 268435456:c=hb;break;default:c=Du}return p=EE.bind(null,a),c=Nh(c,p),a.callbackPriority=s,a.callbackNode=c,s}return p!==null&&p!==null&&kh(p),a.callbackPriority=2,a.callbackNode=null,2}function EE(a,s){if(Ct!==0&&Ct!==5)return a.callbackNode=null,a.callbackPriority=0,null;var c=a.callbackNode;if(Nc()&&a.callbackNode!==c)return null;var p=ke;return p=Bu(a,a===Qe?p:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),p===0?null:(iE(a,p,s),wE(a,Cn()),a.callbackNode!=null&&a.callbackNode===c?EE.bind(null,a):null)}function TE(a,s){if(Nc())return null;iE(a,s,!0)}function lL(){bL(function(){(je&6)!==0?Nh(fb,sL):SE()})}function Em(){if(Yi===0){var a=wo;a===0&&(a=Uu,Uu<<=1,(Uu&261888)===0&&(Uu=256)),Yi=a}return Yi}function AE(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:ju(""+a)}function xE(a,s){var c=s.ownerDocument.createElement("input");return c.name=s.name,c.value=s.value,a.id&&c.setAttribute("form",a.id),s.parentNode.insertBefore(c,s),a=new FormData(a),c.parentNode.removeChild(c),a}function uL(a,s,c,p,_){if(s==="submit"&&c&&c.stateNode===_){var S=AE((_[hn]||null).action),A=p.submitter;A&&(s=(s=A[hn]||null)?AE(s.formAction):A.getAttribute("formAction"),s!==null&&(S=s,A=null));var P=new Ku("action","action",null,p,_);a.push({event:P,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(Yi!==0){var D=A?xE(_,A):new FormData(_);jp(c,{pending:!0,data:D,method:_.method,action:S},null,D)}}else typeof S=="function"&&(P.preventDefault(),D=A?xE(_,A):new FormData(_),jp(c,{pending:!0,data:D,method:_.method,action:S},S,D))},currentTarget:_}]})}}for(var Tm=0;Tm<op.length;Tm++){var Am=op[Tm],cL=Am.toLowerCase(),fL=Am[0].toUpperCase()+Am.slice(1);ur(cL,"on"+fL)}ur(rS,"onAnimationEnd"),ur(iS,"onAnimationIteration"),ur(aS,"onAnimationStart"),ur("dblclick","onDoubleClick"),ur("focusin","onFocus"),ur("focusout","onBlur"),ur(CU,"onTransitionRun"),ur(RU,"onTransitionStart"),ur(OU,"onTransitionCancel"),ur(oS,"onTransitionEnd"),so("onMouseEnter",["mouseout","mouseover"]),so("onMouseLeave",["mouseout","mouseover"]),so("onPointerEnter",["pointerout","pointerover"]),so("onPointerLeave",["pointerout","pointerover"]),ha("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ha("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ha("onBeforeInput",["compositionend","keypress","textInput","paste"]),ha("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ha("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ha("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dL=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_l));function CE(a,s){s=(s&4)!==0;for(var c=0;c<a.length;c++){var p=a[c],_=p.event;p=p.listeners;e:{var S=void 0;if(s)for(var A=p.length-1;0<=A;A--){var P=p[A],D=P.instance,H=P.currentTarget;if(P=P.listener,D!==S&&_.isPropagationStopped())break e;S=P,_.currentTarget=H;try{S(_)}catch(J){Wu(J)}_.currentTarget=null,S=D}else for(A=0;A<p.length;A++){if(P=p[A],D=P.instance,H=P.currentTarget,P=P.listener,D!==S&&_.isPropagationStopped())break e;S=P,_.currentTarget=H;try{S(_)}catch(J){Wu(J)}_.currentTarget=null,S=D}}}}function Ne(a,s){var c=s[qh];c===void 0&&(c=s[qh]=new Set);var p=a+"__bubble";c.has(p)||(RE(s,a,2,!1),c.add(p))}function xm(a,s,c){var p=0;s&&(p|=4),RE(c,a,p,s)}var Uc="_reactListening"+Math.random().toString(36).slice(2);function Cm(a){if(!a[Uc]){a[Uc]=!0,Sb.forEach(function(c){c!=="selectionchange"&&(dL.has(c)||xm(c,!1,a),xm(c,!0,a))});var s=a.nodeType===9?a:a.ownerDocument;s===null||s[Uc]||(s[Uc]=!0,xm("selectionchange",!1,s))}}function RE(a,s,c,p){switch(rT(s)){case 2:var _=zL;break;case 8:_=$L;break;default:_=Hm}c=_.bind(null,s,c,a),_=void 0,!Kh||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(_=!0),p?_!==void 0?a.addEventListener(s,c,{capture:!0,passive:_}):a.addEventListener(s,c,!0):_!==void 0?a.addEventListener(s,c,{passive:_}):a.addEventListener(s,c,!1)}function Rm(a,s,c,p,_){var S=p;if((s&1)===0&&(s&2)===0&&p!==null)e:for(;;){if(p===null)return;var A=p.tag;if(A===3||A===4){var P=p.stateNode.containerInfo;if(P===_)break;if(A===4)for(A=p.return;A!==null;){var D=A.tag;if((D===3||D===4)&&A.stateNode.containerInfo===_)return;A=A.return}for(;P!==null;){if(A=io(P),A===null)return;if(D=A.tag,D===5||D===6||D===26||D===27){p=S=A;continue e}P=P.parentNode}}p=p.return}Nb(function(){var H=S,J=Fh(c),ee=[];e:{var j=sS.get(a);if(j!==void 0){var F=Ku,de=a;switch(a){case"keypress":if(Fu(c)===0)break e;case"keydown":case"keyup":F=aU;break;case"focusin":de="focus",F=Xh;break;case"focusout":de="blur",F=Xh;break;case"beforeblur":case"afterblur":F=Xh;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Ub;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=K2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=lU;break;case rS:case iS:case aS:F=W2;break;case oS:F=cU;break;case"scroll":case"scrollend":F=F2;break;case"wheel":F=dU;break;case"copy":case"cut":case"paste":F=Q2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=qb;break;case"toggle":case"beforetoggle":F=pU}var Se=(s&4)!==0,We=!Se&&(a==="scroll"||a==="scrollend"),B=Se?j!==null?j+"Capture":null:j;Se=[];for(var q=H,$;q!==null;){var Q=q;if($=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||$===null||B===null||(Q=$s(q,B),Q!=null&&Se.push(bl(q,Q,$))),We)break;q=q.return}0<Se.length&&(j=new F(j,de,null,c,J),ee.push({event:j,listeners:Se}))}}if((s&7)===0){e:{if(j=a==="mouseover"||a==="pointerover",F=a==="mouseout"||a==="pointerout",j&&c!==Gh&&(de=c.relatedTarget||c.fromElement)&&(io(de)||de[ro]))break e;if((F||j)&&(j=J.window===J?J:(j=J.ownerDocument)?j.defaultView||j.parentWindow:window,F?(de=c.relatedTarget||c.toElement,F=H,de=de?io(de):null,de!==null&&(We=o(de),Se=de.tag,de!==We||Se!==5&&Se!==27&&Se!==6)&&(de=null)):(F=null,de=H),F!==de)){if(Se=Ub,Q="onMouseLeave",B="onMouseEnter",q="mouse",(a==="pointerout"||a==="pointerover")&&(Se=qb,Q="onPointerLeave",B="onPointerEnter",q="pointer"),We=F==null?j:zs(F),$=de==null?j:zs(de),j=new Se(Q,q+"leave",F,c,J),j.target=We,j.relatedTarget=$,Q=null,io(J)===H&&(Se=new Se(B,q+"enter",de,c,J),Se.target=$,Se.relatedTarget=We,Q=Se),We=Q,F&&de)t:{for(Se=hL,B=F,q=de,$=0,Q=B;Q;Q=Se(Q))$++;Q=0;for(var ye=q;ye;ye=Se(ye))Q++;for(;0<$-Q;)B=Se(B),$--;for(;0<Q-$;)q=Se(q),Q--;for(;$--;){if(B===q||q!==null&&B===q.alternate){Se=B;break t}B=Se(B),q=Se(q)}Se=null}else Se=null;F!==null&&OE(ee,j,F,Se,!1),de!==null&&We!==null&&OE(ee,We,de,Se,!0)}}e:{if(j=H?zs(H):window,F=j.nodeName&&j.nodeName.toLowerCase(),F==="select"||F==="input"&&j.type==="file")var qe=Vb;else if(Gb(j))if(Kb)qe=TU;else{qe=wU;var pe=SU}else F=j.nodeName,!F||F.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?H&&jh(H.elementType)&&(qe=Vb):qe=EU;if(qe&&(qe=qe(a,H))){Fb(ee,qe,c,J);break e}pe&&pe(a,j,H),a==="focusout"&&H&&j.type==="number"&&H.memoizedProps.value!=null&&Hh(j,"number",j.value)}switch(pe=H?zs(H):window,a){case"focusin":(Gb(pe)||pe.contentEditable==="true")&&(po=pe,rp=H,Js=null);break;case"focusout":Js=rp=po=null;break;case"mousedown":ip=!0;break;case"contextmenu":case"mouseup":case"dragend":ip=!1,tS(ee,c,J);break;case"selectionchange":if(xU)break;case"keydown":case"keyup":tS(ee,c,J)}var Pe;if(Zh)e:{switch(a){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else ho?Hb(a,c)&&(De="onCompositionEnd"):a==="keydown"&&c.keyCode===229&&(De="onCompositionStart");De&&(Bb&&c.locale!=="ko"&&(ho||De!=="onCompositionStart"?De==="onCompositionEnd"&&ho&&(Pe=kb()):(Mi=J,Yh="value"in Mi?Mi.value:Mi.textContent,ho=!0)),pe=Lc(H,De),0<pe.length&&(De=new Lb(De,a,null,c,J),ee.push({event:De,listeners:pe}),Pe?De.data=Pe:(Pe=jb(c),Pe!==null&&(De.data=Pe)))),(Pe=gU?vU(a,c):yU(a,c))&&(De=Lc(H,"onBeforeInput"),0<De.length&&(pe=new Lb("onBeforeInput","beforeinput",null,c,J),ee.push({event:pe,listeners:De}),pe.data=Pe)),uL(ee,a,H,c,J)}CE(ee,s)})}function bl(a,s,c){return{instance:a,listener:s,currentTarget:c}}function Lc(a,s){for(var c=s+"Capture",p=[];a!==null;){var _=a,S=_.stateNode;if(_=_.tag,_!==5&&_!==26&&_!==27||S===null||(_=$s(a,c),_!=null&&p.unshift(bl(a,_,S)),_=$s(a,s),_!=null&&p.push(bl(a,_,S))),a.tag===3)return p;a=a.return}return[]}function hL(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function OE(a,s,c,p,_){for(var S=s._reactName,A=[];c!==null&&c!==p;){var P=c,D=P.alternate,H=P.stateNode;if(P=P.tag,D!==null&&D===p)break;P!==5&&P!==26&&P!==27||H===null||(D=H,_?(H=$s(c,S),H!=null&&A.unshift(bl(c,H,D))):_||(H=$s(c,S),H!=null&&A.push(bl(c,H,D)))),c=c.return}A.length!==0&&a.push({event:s,listeners:A})}var pL=/\r\n?/g,mL=/\u0000|\uFFFD/g;function PE(a){return(typeof a=="string"?a:""+a).replace(pL,`
`).replace(mL,"")}function IE(a,s){return s=PE(s),PE(a)===s}function Je(a,s,c,p,_,S){switch(c){case"children":typeof p=="string"?s==="body"||s==="textarea"&&p===""||uo(a,p):(typeof p=="number"||typeof p=="bigint")&&s!=="body"&&uo(a,""+p);break;case"className":$u(a,"class",p);break;case"tabIndex":$u(a,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":$u(a,c,p);break;case"style":Ib(a,p,S);break;case"data":if(s!=="object"){$u(a,"data",p);break}case"src":case"href":if(p===""&&(s!=="a"||c!=="href")){a.removeAttribute(c);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(c);break}p=ju(""+p),a.setAttribute(c,p);break;case"action":case"formAction":if(typeof p=="function"){a.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(c==="formAction"?(s!=="input"&&Je(a,s,"name",_.name,_,null),Je(a,s,"formEncType",_.formEncType,_,null),Je(a,s,"formMethod",_.formMethod,_,null),Je(a,s,"formTarget",_.formTarget,_,null)):(Je(a,s,"encType",_.encType,_,null),Je(a,s,"method",_.method,_,null),Je(a,s,"target",_.target,_,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(c);break}p=ju(""+p),a.setAttribute(c,p);break;case"onClick":p!=null&&(a.onclick=Lr);break;case"onScroll":p!=null&&Ne("scroll",a);break;case"onScrollEnd":p!=null&&Ne("scrollend",a);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(c=p.__html,c!=null){if(_.children!=null)throw Error(r(60));a.innerHTML=c}}break;case"multiple":a.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":a.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){a.removeAttribute("xlink:href");break}c=ju(""+p),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(c,""+p):a.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(c,""):a.removeAttribute(c);break;case"capture":case"download":p===!0?a.setAttribute(c,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(c,p):a.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?a.setAttribute(c,p):a.removeAttribute(c);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?a.removeAttribute(c):a.setAttribute(c,p);break;case"popover":Ne("beforetoggle",a),Ne("toggle",a),zu(a,"popover",p);break;case"xlinkActuate":Ur(a,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":Ur(a,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":Ur(a,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":Ur(a,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":Ur(a,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":Ur(a,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":Ur(a,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":Ur(a,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":Ur(a,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":zu(a,"is",p);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=j2.get(c)||c,zu(a,c,p))}}function Om(a,s,c,p,_,S){switch(c){case"style":Ib(a,p,S);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(c=p.__html,c!=null){if(_.children!=null)throw Error(r(60));a.innerHTML=c}}break;case"children":typeof p=="string"?uo(a,p):(typeof p=="number"||typeof p=="bigint")&&uo(a,""+p);break;case"onScroll":p!=null&&Ne("scroll",a);break;case"onScrollEnd":p!=null&&Ne("scrollend",a);break;case"onClick":p!=null&&(a.onclick=Lr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wb.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(_=c.endsWith("Capture"),s=c.slice(2,_?c.length-7:void 0),S=a[hn]||null,S=S!=null?S[c]:null,typeof S=="function"&&a.removeEventListener(s,S,_),typeof p=="function")){typeof S!="function"&&S!==null&&(c in a?a[c]=null:a.hasAttribute(c)&&a.removeAttribute(c)),a.addEventListener(s,p,_);break e}c in a?a[c]=p:p===!0?a.setAttribute(c,""):zu(a,c,p)}}}function Yt(a,s,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",a),Ne("load",a);var p=!1,_=!1,S;for(S in c)if(c.hasOwnProperty(S)){var A=c[S];if(A!=null)switch(S){case"src":p=!0;break;case"srcSet":_=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Je(a,s,S,A,c,null)}}_&&Je(a,s,"srcSet",c.srcSet,c,null),p&&Je(a,s,"src",c.src,c,null);return;case"input":Ne("invalid",a);var P=S=A=_=null,D=null,H=null;for(p in c)if(c.hasOwnProperty(p)){var J=c[p];if(J!=null)switch(p){case"name":_=J;break;case"type":A=J;break;case"checked":D=J;break;case"defaultChecked":H=J;break;case"value":S=J;break;case"defaultValue":P=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,s));break;default:Je(a,s,p,J,c,null)}}Cb(a,S,P,D,H,A,_,!1);return;case"select":Ne("invalid",a),p=A=S=null;for(_ in c)if(c.hasOwnProperty(_)&&(P=c[_],P!=null))switch(_){case"value":S=P;break;case"defaultValue":A=P;break;case"multiple":p=P;default:Je(a,s,_,P,c,null)}s=S,c=A,a.multiple=!!p,s!=null?lo(a,!!p,s,!1):c!=null&&lo(a,!!p,c,!0);return;case"textarea":Ne("invalid",a),S=_=p=null;for(A in c)if(c.hasOwnProperty(A)&&(P=c[A],P!=null))switch(A){case"value":p=P;break;case"defaultValue":_=P;break;case"children":S=P;break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(r(91));break;default:Je(a,s,A,P,c,null)}Ob(a,p,_,S);return;case"option":for(D in c)if(c.hasOwnProperty(D)&&(p=c[D],p!=null))switch(D){case"selected":a.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:Je(a,s,D,p,c,null)}return;case"dialog":Ne("beforetoggle",a),Ne("toggle",a),Ne("cancel",a),Ne("close",a);break;case"iframe":case"object":Ne("load",a);break;case"video":case"audio":for(p=0;p<_l.length;p++)Ne(_l[p],a);break;case"image":Ne("error",a),Ne("load",a);break;case"details":Ne("toggle",a);break;case"embed":case"source":case"link":Ne("error",a),Ne("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in c)if(c.hasOwnProperty(H)&&(p=c[H],p!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Je(a,s,H,p,c,null)}return;default:if(jh(s)){for(J in c)c.hasOwnProperty(J)&&(p=c[J],p!==void 0&&Om(a,s,J,p,c,void 0));return}}for(P in c)c.hasOwnProperty(P)&&(p=c[P],p!=null&&Je(a,s,P,p,c,null))}function gL(a,s,c,p){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var _=null,S=null,A=null,P=null,D=null,H=null,J=null;for(F in c){var ee=c[F];if(c.hasOwnProperty(F)&&ee!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":D=ee;default:p.hasOwnProperty(F)||Je(a,s,F,null,p,ee)}}for(var j in p){var F=p[j];if(ee=c[j],p.hasOwnProperty(j)&&(F!=null||ee!=null))switch(j){case"type":S=F;break;case"name":_=F;break;case"checked":H=F;break;case"defaultChecked":J=F;break;case"value":A=F;break;case"defaultValue":P=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,s));break;default:F!==ee&&Je(a,s,j,F,p,ee)}}$h(a,A,P,D,H,J,S,_);return;case"select":F=A=P=j=null;for(S in c)if(D=c[S],c.hasOwnProperty(S)&&D!=null)switch(S){case"value":break;case"multiple":F=D;default:p.hasOwnProperty(S)||Je(a,s,S,null,p,D)}for(_ in p)if(S=p[_],D=c[_],p.hasOwnProperty(_)&&(S!=null||D!=null))switch(_){case"value":j=S;break;case"defaultValue":P=S;break;case"multiple":A=S;default:S!==D&&Je(a,s,_,S,p,D)}s=P,c=A,p=F,j!=null?lo(a,!!c,j,!1):!!p!=!!c&&(s!=null?lo(a,!!c,s,!0):lo(a,!!c,c?[]:"",!1));return;case"textarea":F=j=null;for(P in c)if(_=c[P],c.hasOwnProperty(P)&&_!=null&&!p.hasOwnProperty(P))switch(P){case"value":break;case"children":break;default:Je(a,s,P,null,p,_)}for(A in p)if(_=p[A],S=c[A],p.hasOwnProperty(A)&&(_!=null||S!=null))switch(A){case"value":j=_;break;case"defaultValue":F=_;break;case"children":break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(r(91));break;default:_!==S&&Je(a,s,A,_,p,S)}Rb(a,j,F);return;case"option":for(var de in c)if(j=c[de],c.hasOwnProperty(de)&&j!=null&&!p.hasOwnProperty(de))switch(de){case"selected":a.selected=!1;break;default:Je(a,s,de,null,p,j)}for(D in p)if(j=p[D],F=c[D],p.hasOwnProperty(D)&&j!==F&&(j!=null||F!=null))switch(D){case"selected":a.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Je(a,s,D,j,p,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in c)j=c[Se],c.hasOwnProperty(Se)&&j!=null&&!p.hasOwnProperty(Se)&&Je(a,s,Se,null,p,j);for(H in p)if(j=p[H],F=c[H],p.hasOwnProperty(H)&&j!==F&&(j!=null||F!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,s));break;default:Je(a,s,H,j,p,F)}return;default:if(jh(s)){for(var We in c)j=c[We],c.hasOwnProperty(We)&&j!==void 0&&!p.hasOwnProperty(We)&&Om(a,s,We,void 0,p,j);for(J in p)j=p[J],F=c[J],!p.hasOwnProperty(J)||j===F||j===void 0&&F===void 0||Om(a,s,J,j,p,F);return}}for(var B in c)j=c[B],c.hasOwnProperty(B)&&j!=null&&!p.hasOwnProperty(B)&&Je(a,s,B,null,p,j);for(ee in p)j=p[ee],F=c[ee],!p.hasOwnProperty(ee)||j===F||j==null&&F==null||Je(a,s,ee,j,p,F)}function ME(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function vL(){if(typeof performance.getEntriesByType=="function"){for(var a=0,s=0,c=performance.getEntriesByType("resource"),p=0;p<c.length;p++){var _=c[p],S=_.transferSize,A=_.initiatorType,P=_.duration;if(S&&P&&ME(A)){for(A=0,P=_.responseEnd,p+=1;p<c.length;p++){var D=c[p],H=D.startTime;if(H>P)break;var J=D.transferSize,ee=D.initiatorType;J&&ME(ee)&&(D=D.responseEnd,A+=J*(D<P?1:(P-H)/(D-H)))}if(--p,s+=8*(S+A)/(_.duration/1e3),a++,10<a)break}}if(0<a)return s/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var Pm=null,Im=null;function qc(a){return a.nodeType===9?a:a.ownerDocument}function NE(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function kE(a,s){if(a===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&s==="foreignObject"?0:a}function Mm(a,s){return a==="textarea"||a==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Nm=null;function yL(){var a=window.event;return a&&a.type==="popstate"?a===Nm?!1:(Nm=a,!0):(Nm=null,!1)}var DE=typeof setTimeout=="function"?setTimeout:void 0,_L=typeof clearTimeout=="function"?clearTimeout:void 0,UE=typeof Promise=="function"?Promise:void 0,bL=typeof queueMicrotask=="function"?queueMicrotask:typeof UE<"u"?function(a){return UE.resolve(null).then(a).catch(SL)}:DE;function SL(a){setTimeout(function(){throw a})}function Ji(a){return a==="head"}function LE(a,s){var c=s,p=0;do{var _=c.nextSibling;if(a.removeChild(c),_&&_.nodeType===8)if(c=_.data,c==="/$"||c==="/&"){if(p===0){a.removeChild(_),$o(s);return}p--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")p++;else if(c==="html")Sl(a.ownerDocument.documentElement);else if(c==="head"){c=a.ownerDocument.head,Sl(c);for(var S=c.firstChild;S;){var A=S.nextSibling,P=S.nodeName;S[Bs]||P==="SCRIPT"||P==="STYLE"||P==="LINK"&&S.rel.toLowerCase()==="stylesheet"||c.removeChild(S),S=A}}else c==="body"&&Sl(a.ownerDocument.body);c=_}while(c);$o(s)}function qE(a,s){var c=a;a=0;do{var p=c.nextSibling;if(c.nodeType===1?s?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(s?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),p&&p.nodeType===8)if(c=p.data,c==="/$"){if(a===0)break;a--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||a++;c=p}while(c)}function km(a){var s=a.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var c=s;switch(s=s.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":km(c),Bh(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}a.removeChild(c)}}function wL(a,s,c,p){for(;a.nodeType===1;){var _=c;if(a.nodeName.toLowerCase()!==s.toLowerCase()){if(!p&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(p){if(!a[Bs])switch(s){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(S=a.getAttribute("rel"),S==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(S!==_.rel||a.getAttribute("href")!==(_.href==null||_.href===""?null:_.href)||a.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin)||a.getAttribute("title")!==(_.title==null?null:_.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(S=a.getAttribute("src"),(S!==(_.src==null?null:_.src)||a.getAttribute("type")!==(_.type==null?null:_.type)||a.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin))&&S&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(s==="input"&&a.type==="hidden"){var S=_.name==null?null:""+_.name;if(_.type==="hidden"&&a.getAttribute("name")===S)return a}else return a;if(a=Qn(a.nextSibling),a===null)break}return null}function EL(a,s,c){if(s==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!c||(a=Qn(a.nextSibling),a===null))return null;return a}function BE(a,s){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!s||(a=Qn(a.nextSibling),a===null))return null;return a}function Dm(a){return a.data==="$?"||a.data==="$~"}function Um(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function TL(a,s){var c=a.ownerDocument;if(a.data==="$~")a._reactRetry=s;else if(a.data!=="$?"||c.readyState!=="loading")s();else{var p=function(){s(),c.removeEventListener("DOMContentLoaded",p)};c.addEventListener("DOMContentLoaded",p),a._reactRetry=p}}function Qn(a){for(;a!=null;a=a.nextSibling){var s=a.nodeType;if(s===1||s===3)break;if(s===8){if(s=a.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return a}var Lm=null;function zE(a){a=a.nextSibling;for(var s=0;a;){if(a.nodeType===8){var c=a.data;if(c==="/$"||c==="/&"){if(s===0)return Qn(a.nextSibling);s--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||s++}a=a.nextSibling}return null}function $E(a){a=a.previousSibling;for(var s=0;a;){if(a.nodeType===8){var c=a.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(s===0)return a;s--}else c!=="/$"&&c!=="/&"||s++}a=a.previousSibling}return null}function HE(a,s,c){switch(s=qc(c),a){case"html":if(a=s.documentElement,!a)throw Error(r(452));return a;case"head":if(a=s.head,!a)throw Error(r(453));return a;case"body":if(a=s.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function Sl(a){for(var s=a.attributes;s.length;)a.removeAttributeNode(s[0]);Bh(a)}var Zn=new Map,jE=new Set;function Bc(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Zr=Z.d;Z.d={f:AL,r:xL,D:CL,C:RL,L:OL,m:PL,X:ML,S:IL,M:NL};function AL(){var a=Zr.f(),s=Pc();return a||s}function xL(a){var s=ao(a);s!==null&&s.tag===5&&s.type==="form"?ow(s):Zr.r(a)}var qo=typeof document>"u"?null:document;function GE(a,s,c){var p=qo;if(p&&typeof s=="string"&&s){var _=Fn(s);_='link[rel="'+a+'"][href="'+_+'"]',typeof c=="string"&&(_+='[crossorigin="'+c+'"]'),jE.has(_)||(jE.add(_),a={rel:a,crossOrigin:c,href:s},p.querySelector(_)===null&&(s=p.createElement("link"),Yt(s,"link",a),Nt(s),p.head.appendChild(s)))}}function CL(a){Zr.D(a),GE("dns-prefetch",a,null)}function RL(a,s){Zr.C(a,s),GE("preconnect",a,s)}function OL(a,s,c){Zr.L(a,s,c);var p=qo;if(p&&a&&s){var _='link[rel="preload"][as="'+Fn(s)+'"]';s==="image"&&c&&c.imageSrcSet?(_+='[imagesrcset="'+Fn(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(_+='[imagesizes="'+Fn(c.imageSizes)+'"]')):_+='[href="'+Fn(a)+'"]';var S=_;switch(s){case"style":S=Bo(a);break;case"script":S=zo(a)}Zn.has(S)||(a=m({rel:"preload",href:s==="image"&&c&&c.imageSrcSet?void 0:a,as:s},c),Zn.set(S,a),p.querySelector(_)!==null||s==="style"&&p.querySelector(wl(S))||s==="script"&&p.querySelector(El(S))||(s=p.createElement("link"),Yt(s,"link",a),Nt(s),p.head.appendChild(s)))}}function PL(a,s){Zr.m(a,s);var c=qo;if(c&&a){var p=s&&typeof s.as=="string"?s.as:"script",_='link[rel="modulepreload"][as="'+Fn(p)+'"][href="'+Fn(a)+'"]',S=_;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=zo(a)}if(!Zn.has(S)&&(a=m({rel:"modulepreload",href:a},s),Zn.set(S,a),c.querySelector(_)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(El(S)))return}p=c.createElement("link"),Yt(p,"link",a),Nt(p),c.head.appendChild(p)}}}function IL(a,s,c){Zr.S(a,s,c);var p=qo;if(p&&a){var _=oo(p).hoistableStyles,S=Bo(a);s=s||"default";var A=_.get(S);if(!A){var P={loading:0,preload:null};if(A=p.querySelector(wl(S)))P.loading=5;else{a=m({rel:"stylesheet",href:a,"data-precedence":s},c),(c=Zn.get(S))&&qm(a,c);var D=A=p.createElement("link");Nt(D),Yt(D,"link",a),D._p=new Promise(function(H,J){D.onload=H,D.onerror=J}),D.addEventListener("load",function(){P.loading|=1}),D.addEventListener("error",function(){P.loading|=2}),P.loading|=4,zc(A,s,p)}A={type:"stylesheet",instance:A,count:1,state:P},_.set(S,A)}}}function ML(a,s){Zr.X(a,s);var c=qo;if(c&&a){var p=oo(c).hoistableScripts,_=zo(a),S=p.get(_);S||(S=c.querySelector(El(_)),S||(a=m({src:a,async:!0},s),(s=Zn.get(_))&&Bm(a,s),S=c.createElement("script"),Nt(S),Yt(S,"link",a),c.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},p.set(_,S))}}function NL(a,s){Zr.M(a,s);var c=qo;if(c&&a){var p=oo(c).hoistableScripts,_=zo(a),S=p.get(_);S||(S=c.querySelector(El(_)),S||(a=m({src:a,async:!0,type:"module"},s),(s=Zn.get(_))&&Bm(a,s),S=c.createElement("script"),Nt(S),Yt(S,"link",a),c.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},p.set(_,S))}}function FE(a,s,c,p){var _=(_=be.current)?Bc(_):null;if(!_)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(s=Bo(c.href),c=oo(_).hoistableStyles,p=c.get(s),p||(p={type:"style",instance:null,count:0,state:null},c.set(s,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){a=Bo(c.href);var S=oo(_).hoistableStyles,A=S.get(a);if(A||(_=_.ownerDocument||_,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(a,A),(S=_.querySelector(wl(a)))&&!S._p&&(A.instance=S,A.state.loading=5),Zn.has(a)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Zn.set(a,c),S||kL(_,a,c,A.state))),s&&p===null)throw Error(r(528,""));return A}if(s&&p!==null)throw Error(r(529,""));return null;case"script":return s=c.async,c=c.src,typeof c=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=zo(c),c=oo(_).hoistableScripts,p=c.get(s),p||(p={type:"script",instance:null,count:0,state:null},c.set(s,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function Bo(a){return'href="'+Fn(a)+'"'}function wl(a){return'link[rel="stylesheet"]['+a+"]"}function VE(a){return m({},a,{"data-precedence":a.precedence,precedence:null})}function kL(a,s,c,p){a.querySelector('link[rel="preload"][as="style"]['+s+"]")?p.loading=1:(s=a.createElement("link"),p.preload=s,s.addEventListener("load",function(){return p.loading|=1}),s.addEventListener("error",function(){return p.loading|=2}),Yt(s,"link",c),Nt(s),a.head.appendChild(s))}function zo(a){return'[src="'+Fn(a)+'"]'}function El(a){return"script[async]"+a}function KE(a,s,c){if(s.count++,s.instance===null)switch(s.type){case"style":var p=a.querySelector('style[data-href~="'+Fn(c.href)+'"]');if(p)return s.instance=p,Nt(p),p;var _=m({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return p=(a.ownerDocument||a).createElement("style"),Nt(p),Yt(p,"style",_),zc(p,c.precedence,a),s.instance=p;case"stylesheet":_=Bo(c.href);var S=a.querySelector(wl(_));if(S)return s.state.loading|=4,s.instance=S,Nt(S),S;p=VE(c),(_=Zn.get(_))&&qm(p,_),S=(a.ownerDocument||a).createElement("link"),Nt(S);var A=S;return A._p=new Promise(function(P,D){A.onload=P,A.onerror=D}),Yt(S,"link",p),s.state.loading|=4,zc(S,c.precedence,a),s.instance=S;case"script":return S=zo(c.src),(_=a.querySelector(El(S)))?(s.instance=_,Nt(_),_):(p=c,(_=Zn.get(S))&&(p=m({},c),Bm(p,_)),a=a.ownerDocument||a,_=a.createElement("script"),Nt(_),Yt(_,"link",p),a.head.appendChild(_),s.instance=_);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(p=s.instance,s.state.loading|=4,zc(p,c.precedence,a));return s.instance}function zc(a,s,c){for(var p=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),_=p.length?p[p.length-1]:null,S=_,A=0;A<p.length;A++){var P=p[A];if(P.dataset.precedence===s)S=P;else if(S!==_)break}S?S.parentNode.insertBefore(a,S.nextSibling):(s=c.nodeType===9?c.head:c,s.insertBefore(a,s.firstChild))}function qm(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.title==null&&(a.title=s.title)}function Bm(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.integrity==null&&(a.integrity=s.integrity)}var $c=null;function YE(a,s,c){if($c===null){var p=new Map,_=$c=new Map;_.set(c,p)}else _=$c,p=_.get(c),p||(p=new Map,_.set(c,p));if(p.has(a))return p;for(p.set(a,null),c=c.getElementsByTagName(a),_=0;_<c.length;_++){var S=c[_];if(!(S[Bs]||S[Gt]||a==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var A=S.getAttribute(s)||"";A=a+A;var P=p.get(A);P?P.push(S):p.set(A,[S])}}return p}function JE(a,s,c){a=a.ownerDocument||a,a.head.insertBefore(c,s==="title"?a.querySelector("head > title"):null)}function DL(a,s,c){if(c===1||s.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return a=s.disabled,typeof s.precedence=="string"&&a==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function WE(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function UL(a,s,c,p){if(c.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var _=Bo(p.href),S=s.querySelector(wl(_));if(S){s=S._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(a.count++,a=Hc.bind(a),s.then(a,a)),c.state.loading|=4,c.instance=S,Nt(S);return}S=s.ownerDocument||s,p=VE(p),(_=Zn.get(_))&&qm(p,_),S=S.createElement("link"),Nt(S);var A=S;A._p=new Promise(function(P,D){A.onload=P,A.onerror=D}),Yt(S,"link",p),c.instance=S}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(c,s),(s=c.state.preload)&&(c.state.loading&3)===0&&(a.count++,c=Hc.bind(a),s.addEventListener("load",c),s.addEventListener("error",c))}}var zm=0;function LL(a,s){return a.stylesheets&&a.count===0&&Gc(a,a.stylesheets),0<a.count||0<a.imgCount?function(c){var p=setTimeout(function(){if(a.stylesheets&&Gc(a,a.stylesheets),a.unsuspend){var S=a.unsuspend;a.unsuspend=null,S()}},6e4+s);0<a.imgBytes&&zm===0&&(zm=62500*vL());var _=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Gc(a,a.stylesheets),a.unsuspend)){var S=a.unsuspend;a.unsuspend=null,S()}},(a.imgBytes>zm?50:800)+s);return a.unsuspend=c,function(){a.unsuspend=null,clearTimeout(p),clearTimeout(_)}}:null}function Hc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Gc(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var jc=null;function Gc(a,s){a.stylesheets=null,a.unsuspend!==null&&(a.count++,jc=new Map,s.forEach(qL,a),jc=null,Hc.call(a))}function qL(a,s){if(!(s.state.loading&4)){var c=jc.get(a);if(c)var p=c.get(null);else{c=new Map,jc.set(a,c);for(var _=a.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<_.length;S++){var A=_[S];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(c.set(A.dataset.precedence,A),p=A)}p&&c.set(null,p)}_=s.instance,A=_.getAttribute("data-precedence"),S=c.get(A)||p,S===p&&c.set(null,_),c.set(A,_),this.count++,p=Hc.bind(this),_.addEventListener("load",p),_.addEventListener("error",p),S?S.parentNode.insertBefore(_,S.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(_,a.firstChild)),s.state.loading|=4}}var Tl={$$typeof:R,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function BL(a,s,c,p,_,S,A,P,D){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Dh(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dh(0),this.hiddenUpdates=Dh(null),this.identifierPrefix=p,this.onUncaughtError=_,this.onCaughtError=S,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function XE(a,s,c,p,_,S,A,P,D,H,J,ee){return a=new BL(a,s,c,A,D,H,J,ee,P),s=1,S===!0&&(s|=24),S=In(3,null,null,s),a.current=S,S.stateNode=a,s=_p(),s.refCount++,a.pooledCache=s,s.refCount++,S.memoizedState={element:p,isDehydrated:c,cache:s},Ep(S),a}function QE(a){return a?(a=vo,a):vo}function ZE(a,s,c,p,_,S){_=QE(_),p.context===null?p.context=_:p.pendingContext=_,p=qi(s),p.payload={element:c},S=S===void 0?null:S,S!==null&&(p.callback=S),c=Bi(a,p,s),c!==null&&(_n(c,a,s),nl(c,a,s))}function eT(a,s){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var c=a.retryLane;a.retryLane=c!==0&&c<s?c:s}}function $m(a,s){eT(a,s),(a=a.alternate)&&eT(a,s)}function tT(a){if(a.tag===13||a.tag===31){var s=va(a,67108864);s!==null&&_n(s,a,67108864),$m(a,67108864)}}function nT(a){if(a.tag===13||a.tag===31){var s=Un();s=Uh(s);var c=va(a,s);c!==null&&_n(c,a,s),$m(a,s)}}var Fc=!0;function zL(a,s,c,p){var _=z.T;z.T=null;var S=Z.p;try{Z.p=2,Hm(a,s,c,p)}finally{Z.p=S,z.T=_}}function $L(a,s,c,p){var _=z.T;z.T=null;var S=Z.p;try{Z.p=8,Hm(a,s,c,p)}finally{Z.p=S,z.T=_}}function Hm(a,s,c,p){if(Fc){var _=jm(p);if(_===null)Rm(a,s,p,Vc,c),iT(a,p);else if(jL(_,a,s,c,p))p.stopPropagation();else if(iT(a,p),s&4&&-1<HL.indexOf(a)){for(;_!==null;){var S=ao(_);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var A=da(S.pendingLanes);if(A!==0){var P=S;for(P.pendingLanes|=2,P.entangledLanes|=2;A;){var D=1<<31-On(A);P.entanglements[1]|=D,A&=~D}Rr(S),(je&6)===0&&(Rc=Cn()+500,yl(0))}}break;case 31:case 13:P=va(S,2),P!==null&&_n(P,S,2),Pc(),$m(S,2)}if(S=jm(p),S===null&&Rm(a,s,p,Vc,c),S===_)break;_=S}_!==null&&p.stopPropagation()}else Rm(a,s,p,null,c)}}function jm(a){return a=Fh(a),Gm(a)}var Vc=null;function Gm(a){if(Vc=null,a=io(a),a!==null){var s=o(a);if(s===null)a=null;else{var c=s.tag;if(c===13){if(a=l(s),a!==null)return a;a=null}else if(c===31){if(a=u(s),a!==null)return a;a=null}else if(c===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;a=null}else s!==a&&(a=null)}}return Vc=a,null}function rT(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(C2()){case fb:return 2;case db:return 8;case Du:case R2:return 32;case hb:return 268435456;default:return 32}default:return 32}}var Fm=!1,Wi=null,Xi=null,Qi=null,Al=new Map,xl=new Map,Zi=[],HL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function iT(a,s){switch(a){case"focusin":case"focusout":Wi=null;break;case"dragenter":case"dragleave":Xi=null;break;case"mouseover":case"mouseout":Qi=null;break;case"pointerover":case"pointerout":Al.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":xl.delete(s.pointerId)}}function Cl(a,s,c,p,_,S){return a===null||a.nativeEvent!==S?(a={blockedOn:s,domEventName:c,eventSystemFlags:p,nativeEvent:S,targetContainers:[_]},s!==null&&(s=ao(s),s!==null&&tT(s)),a):(a.eventSystemFlags|=p,s=a.targetContainers,_!==null&&s.indexOf(_)===-1&&s.push(_),a)}function jL(a,s,c,p,_){switch(s){case"focusin":return Wi=Cl(Wi,a,s,c,p,_),!0;case"dragenter":return Xi=Cl(Xi,a,s,c,p,_),!0;case"mouseover":return Qi=Cl(Qi,a,s,c,p,_),!0;case"pointerover":var S=_.pointerId;return Al.set(S,Cl(Al.get(S)||null,a,s,c,p,_)),!0;case"gotpointercapture":return S=_.pointerId,xl.set(S,Cl(xl.get(S)||null,a,s,c,p,_)),!0}return!1}function aT(a){var s=io(a.target);if(s!==null){var c=o(s);if(c!==null){if(s=c.tag,s===13){if(s=l(c),s!==null){a.blockedOn=s,_b(a.priority,function(){nT(c)});return}}else if(s===31){if(s=u(c),s!==null){a.blockedOn=s,_b(a.priority,function(){nT(c)});return}}else if(s===3&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Kc(a){if(a.blockedOn!==null)return!1;for(var s=a.targetContainers;0<s.length;){var c=jm(a.nativeEvent);if(c===null){c=a.nativeEvent;var p=new c.constructor(c.type,c);Gh=p,c.target.dispatchEvent(p),Gh=null}else return s=ao(c),s!==null&&tT(s),a.blockedOn=c,!1;s.shift()}return!0}function oT(a,s,c){Kc(a)&&c.delete(s)}function GL(){Fm=!1,Wi!==null&&Kc(Wi)&&(Wi=null),Xi!==null&&Kc(Xi)&&(Xi=null),Qi!==null&&Kc(Qi)&&(Qi=null),Al.forEach(oT),xl.forEach(oT)}function Yc(a,s){a.blockedOn===s&&(a.blockedOn=null,Fm||(Fm=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,GL)))}var Jc=null;function sT(a){Jc!==a&&(Jc=a,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Jc===a&&(Jc=null);for(var s=0;s<a.length;s+=3){var c=a[s],p=a[s+1],_=a[s+2];if(typeof p!="function"){if(Gm(p||c)===null)continue;break}var S=ao(c);S!==null&&(a.splice(s,3),s-=3,jp(S,{pending:!0,data:_,method:c.method,action:p},p,_))}}))}function $o(a){function s(D){return Yc(D,a)}Wi!==null&&Yc(Wi,a),Xi!==null&&Yc(Xi,a),Qi!==null&&Yc(Qi,a),Al.forEach(s),xl.forEach(s);for(var c=0;c<Zi.length;c++){var p=Zi[c];p.blockedOn===a&&(p.blockedOn=null)}for(;0<Zi.length&&(c=Zi[0],c.blockedOn===null);)aT(c),c.blockedOn===null&&Zi.shift();if(c=(a.ownerDocument||a).$$reactFormReplay,c!=null)for(p=0;p<c.length;p+=3){var _=c[p],S=c[p+1],A=_[hn]||null;if(typeof S=="function")A||sT(c);else if(A){var P=null;if(S&&S.hasAttribute("formAction")){if(_=S,A=S[hn]||null)P=A.formAction;else if(Gm(_)!==null)continue}else P=A.action;typeof P=="function"?c[p+1]=P:(c.splice(p,3),p-=3),sT(c)}}}function lT(){function a(S){S.canIntercept&&S.info==="react-transition"&&S.intercept({handler:function(){return new Promise(function(A){return _=A})},focusReset:"manual",scroll:"manual"})}function s(){_!==null&&(_(),_=null),p||setTimeout(c,20)}function c(){if(!p&&!navigation.transition){var S=navigation.currentEntry;S&&S.url!=null&&navigation.navigate(S.url,{state:S.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,_=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(c,100),function(){p=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),_!==null&&(_(),_=null)}}}function Vm(a){this._internalRoot=a}Wc.prototype.render=Vm.prototype.render=function(a){var s=this._internalRoot;if(s===null)throw Error(r(409));var c=s.current,p=Un();ZE(c,p,a,s,null,null)},Wc.prototype.unmount=Vm.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var s=a.containerInfo;ZE(a.current,2,null,a,null,null),Pc(),s[ro]=null}};function Wc(a){this._internalRoot=a}Wc.prototype.unstable_scheduleHydration=function(a){if(a){var s=yb();a={blockedOn:null,target:a,priority:s};for(var c=0;c<Zi.length&&s!==0&&s<Zi[c].priority;c++);Zi.splice(c,0,a),c===0&&aT(a)}};var uT=t.version;if(uT!=="19.2.1")throw Error(r(527,uT,"19.2.1"));Z.findDOMNode=function(a){var s=a._reactInternals;if(s===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=d(s),a=a!==null?h(a):null,a=a===null?null:a.stateNode,a};var FL={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xc.isDisabled&&Xc.supportsFiber)try{Us=Xc.inject(FL),Rn=Xc}catch{}}return Ol.createRoot=function(a,s){if(!i(a))throw Error(r(299));var c=!1,p="",_=gw,S=vw,A=yw;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(p=s.identifierPrefix),s.onUncaughtError!==void 0&&(_=s.onUncaughtError),s.onCaughtError!==void 0&&(S=s.onCaughtError),s.onRecoverableError!==void 0&&(A=s.onRecoverableError)),s=XE(a,1,!1,null,null,c,p,null,_,S,A,lT),a[ro]=s.current,Cm(a),new Vm(s)},Ol.hydrateRoot=function(a,s,c){if(!i(a))throw Error(r(299));var p=!1,_="",S=gw,A=vw,P=yw,D=null;return c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(_=c.identifierPrefix),c.onUncaughtError!==void 0&&(S=c.onUncaughtError),c.onCaughtError!==void 0&&(A=c.onCaughtError),c.onRecoverableError!==void 0&&(P=c.onRecoverableError),c.formState!==void 0&&(D=c.formState)),s=XE(a,1,!0,s,c??null,p,_,D,S,A,P,lT),s.context=QE(null),c=s.current,p=Un(),p=Uh(p),_=qi(p),_.callback=null,Bi(c,_,p),c=p,s.current.lanes=c,qs(s,c),Rr(s),a[ro]=s.current,Cm(a),new Wc(s)},Ol.version="19.2.1",Ol}var _T;function rq(){if(_T)return Wm.exports;_T=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Wm.exports=nq(),Wm.exports}var iq=rq();const aq=wr(iq);var qa=(e=>(e.ST="st",e.KG="kg",e.G="g",e.L="l",e.DL="dl",e.CL="cl",e.ML="ml",e.PKT="pkt",e))(qa||{}),ni=(e=>(e.FRUKT_GRONT="Frukt & Grnt",e.MEJERI="Mejeri",e.SKASSERI="Skafferi",e.FRYS="Frys",e.KYL="Kyl",e.DRYCK="Dryck",e.MEAT_FISH="Ktt & Fisk",e.OTHER="vrigt",e))(ni||{});const oq=({items:e,onRemove:t})=>{const[n,r]=C.useState("All"),i=f=>{const d=new Date(f).getTime()-new Date().getTime();return Math.ceil(d/(1e3*3600*24))},o=[...e].sort((f,d)=>new Date(f.expiryDate).getTime()-new Date(d.expiryDate).getTime()),l=n==="All"?o:o.filter(f=>f.category===n),u=["All",...Object.values(ni)];return k.jsxs("div",{className:"pb-20",children:[k.jsx("div",{className:"flex overflow-x-auto gap-2 p-4 bg-white sticky top-0 z-10 shadow-sm scrollbar-hide",children:u.map(f=>k.jsx("button",{onClick:()=>r(f),className:`px-4 py-1.5 rounded-full text-sm font-medium whitespace-nowrap transition-colors ${n===f?"bg-emerald-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:f},f))}),k.jsx("div",{className:"p-4 space-y-3",children:l.length===0?k.jsxs("div",{className:"text-center text-gray-400 mt-10",children:[k.jsx("p",{children:"Lagret r tomt."}),k.jsx("p",{className:"text-sm",children:"Brja scanna matvaror eller kvitton!"})]}):l.map(f=>{const d=i(f.expiryDate);let h="bg-green-100 text-green-800";return d<0?h="bg-red-100 text-red-800":d<=3&&(h="bg-yellow-100 text-yellow-800"),k.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100 flex justify-between items-center",children:[k.jsxs("div",{className:"flex-1",children:[k.jsxs("div",{className:"flex justify-between items-start",children:[k.jsx("h3",{className:"font-semibold text-gray-800 capitalize",children:f.name}),k.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${h}`,children:d<0?`Utgick fr ${Math.abs(d)} dagar sen`:`${d} dagar kvar`})]}),k.jsxs("div",{className:"text-sm text-gray-500 mt-1 flex gap-3",children:[k.jsxs("span",{children:[f.quantity," ",f.unit]}),k.jsx("span",{children:""}),k.jsx("span",{children:f.category}),f.priceInfo&&k.jsxs(k.Fragment,{children:[k.jsx("span",{children:""}),k.jsxs("span",{children:[f.priceInfo," kr"]})]})]})]}),k.jsx("button",{onClick:()=>t(f.id),className:"ml-4 p-2 text-gray-400 hover:text-red-500 transition-colors","aria-label":"Remove item",children:k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:k.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]},f.id)})})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let sq,lq;function uq(){return{geminiUrl:sq,vertexUrl:lq}}function cq(e,t,n,r){var i,o;if(!(e!=null&&e.baseUrl)){const l=uq();return t?(i=l.vertexUrl)!==null&&i!==void 0?i:n:(o=l.geminiUrl)!==null&&o!==void 0?o:r}return e.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bi{}function le(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(t,i)){const o=t[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function v(e,t,n){for(let o=0;o<t.length-1;o++){const l=t[o];if(l.endsWith("[]")){const u=l.slice(0,-2);if(!(u in e))if(Array.isArray(n))e[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(e[u])){const f=e[u];if(Array.isArray(n))for(let d=0;d<f.length;d++){const h=f[d];v(h,t.slice(o+1),n[d])}else for(const d of f)v(d,t.slice(o+1),n)}return}else if(l.endsWith("[0]")){const u=l.slice(0,-3);u in e||(e[u]=[{}]);const f=e[u];v(f[0],t.slice(o+1),n);return}(!e[l]||typeof e[l]!="object")&&(e[l]={}),e=e[l]}const r=t[t.length-1],i=e[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(e,n):e[r]=n}function g(e,t,n=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let r=0;r<t.length;r++){if(typeof e!="object"||e===null)return n;const i=t[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in e){const l=e[o];return Array.isArray(l)?l.map(u=>g(u,t.slice(r+1),n)):n}else return n}else e=e[i]}return e}catch(r){if(r instanceof TypeError)return n;throw r}}function fq(e,t){for(const[n,r]of Object.entries(t)){const i=n.split("."),o=r.split("."),l=new Set;let u=-1;for(let f=0;f<i.length;f++)if(i[f]==="*"){u=f;break}if(u!==-1&&o.length>u)for(let f=u;f<o.length;f++){const d=o[f];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&l.add(d)}Hv(e,i,o,0,l)}}function Hv(e,t,n,r,i){if(r>=t.length||typeof e!="object"||e===null)return;const o=t[r];if(o.endsWith("[]")){const l=o.slice(0,-2),u=e;if(l in u&&Array.isArray(u[l]))for(const f of u[l])Hv(f,t,n,r+1,i)}else if(o==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const l=e,u=Object.keys(l).filter(d=>!d.startsWith("_")&&!i.has(d)),f={};for(const d of u)f[d]=l[d];for(const[d,h]of Object.entries(f)){const m=[];for(const y of n.slice(r))y==="*"?m.push(d):m.push(y);v(l,m,h)}for(const d of u)delete l[d]}}else{const l=e;o in l&&Hv(l[o],t,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function d0(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dq(e){const t={},n=g(e,["operationName"]);n!=null&&v(t,["operationName"],n);const r=g(e,["resourceName"]);return r!=null&&v(t,["_url","resourceName"],r),t}function hq(e){const t={},n=g(e,["name"]);n!=null&&v(t,["name"],n);const r=g(e,["metadata"]);r!=null&&v(t,["metadata"],r);const i=g(e,["done"]);i!=null&&v(t,["done"],i);const o=g(e,["error"]);o!=null&&v(t,["error"],o);const l=g(e,["response","generateVideoResponse"]);return l!=null&&v(t,["response"],mq(l)),t}function pq(e){const t={},n=g(e,["name"]);n!=null&&v(t,["name"],n);const r=g(e,["metadata"]);r!=null&&v(t,["metadata"],r);const i=g(e,["done"]);i!=null&&v(t,["done"],i);const o=g(e,["error"]);o!=null&&v(t,["error"],o);const l=g(e,["response"]);return l!=null&&v(t,["response"],gq(l)),t}function mq(e){const t={},n=g(e,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>vq(l))),v(t,["generatedVideos"],o)}const r=g(e,["raiMediaFilteredCount"]);r!=null&&v(t,["raiMediaFilteredCount"],r);const i=g(e,["raiMediaFilteredReasons"]);return i!=null&&v(t,["raiMediaFilteredReasons"],i),t}function gq(e){const t={},n=g(e,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>yq(l))),v(t,["generatedVideos"],o)}const r=g(e,["raiMediaFilteredCount"]);r!=null&&v(t,["raiMediaFilteredCount"],r);const i=g(e,["raiMediaFilteredReasons"]);return i!=null&&v(t,["raiMediaFilteredReasons"],i),t}function vq(e){const t={},n=g(e,["video"]);return n!=null&&v(t,["video"],Tq(n)),t}function yq(e){const t={},n=g(e,["_self"]);return n!=null&&v(t,["video"],Aq(n)),t}function _q(e){const t={},n=g(e,["operationName"]);return n!=null&&v(t,["_url","operationName"],n),t}function bq(e){const t={},n=g(e,["operationName"]);return n!=null&&v(t,["_url","operationName"],n),t}function Sq(e){const t={},n=g(e,["name"]);n!=null&&v(t,["name"],n);const r=g(e,["metadata"]);r!=null&&v(t,["metadata"],r);const i=g(e,["done"]);i!=null&&v(t,["done"],i);const o=g(e,["error"]);o!=null&&v(t,["error"],o);const l=g(e,["response"]);return l!=null&&v(t,["response"],wq(l)),t}function wq(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=g(e,["parent"]);r!=null&&v(t,["parent"],r);const i=g(e,["documentName"]);return i!=null&&v(t,["documentName"],i),t}function DO(e){const t={},n=g(e,["name"]);n!=null&&v(t,["name"],n);const r=g(e,["metadata"]);r!=null&&v(t,["metadata"],r);const i=g(e,["done"]);i!=null&&v(t,["done"],i);const o=g(e,["error"]);o!=null&&v(t,["error"],o);const l=g(e,["response"]);return l!=null&&v(t,["response"],Eq(l)),t}function Eq(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=g(e,["parent"]);r!=null&&v(t,["parent"],r);const i=g(e,["documentName"]);return i!=null&&v(t,["documentName"],i),t}function Tq(e){const t={},n=g(e,["uri"]);n!=null&&v(t,["uri"],n);const r=g(e,["encodedVideo"]);r!=null&&v(t,["videoBytes"],d0(r));const i=g(e,["encoding"]);return i!=null&&v(t,["mimeType"],i),t}function Aq(e){const t={},n=g(e,["gcsUri"]);n!=null&&v(t,["uri"],n);const r=g(e,["bytesBase64Encoded"]);r!=null&&v(t,["videoBytes"],d0(r));const i=g(e,["mimeType"]);return i!=null&&v(t,["mimeType"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var bT;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(bT||(bT={}));var ST;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(ST||(ST={}));var wT;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(wT||(wT={}));var Ie;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(Ie||(Ie={}));var ET;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(ET||(ET={}));var TT;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(TT||(TT={}));var AT;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(AT||(AT={}));var xT;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(xT||(xT={}));var CT;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(CT||(CT={}));var RT;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.HIGH="HIGH"})(RT||(RT={}));var OT;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(OT||(OT={}));var PT;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(PT||(PT={}));var IT;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(IT||(IT={}));var MT;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE"})(MT||(MT={}));var NT;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(NT||(NT={}));var kT;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(kT||(kT={}));var DT;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(DT||(DT={}));var UT;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(UT||(UT={}));var LT;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(LT||(LT={}));var Uf;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(Uf||(Uf={}));var qT;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(qT||(qT={}));var BT;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(BT||(BT={}));var zT;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(zT||(zT={}));var jv;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(jv||(jv={}));var $T;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})($T||($T={}));var HT;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(HT||(HT={}));var jT;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(jT||(jT={}));var GT;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(GT||(GT={}));var FT;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(FT||(FT={}));var VT;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(VT||(VT={}));var KT;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(KT||(KT={}));var YT;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(YT||(YT={}));var JT;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(JT||(JT={}));var WT;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(WT||(WT={}));var XT;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(XT||(XT={}));var QT;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(QT||(QT={}));var ZT;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(ZT||(ZT={}));var eA;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(eA||(eA={}));var tA;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(tA||(tA={}));var nA;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(nA||(nA={}));var rA;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(rA||(rA={}));var iA;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(iA||(iA={}));var aA;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING"})(aA||(aA={}));var oA;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(oA||(oA={}));var sA;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(sA||(sA={}));var lA;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(lA||(lA={}));var uA;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(uA||(uA={}));var cA;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(cA||(cA={}));var fA;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(fA||(fA={}));var dA;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(dA||(dA={}));var hA;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(hA||(hA={}));var pA;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(pA||(pA={}));var mA;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(mA||(mA={}));var gA;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(gA||(gA={}));var Qo;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(Qo||(Qo={}));class Gv{constructor(t){const n={};for(const r of t.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class Pl{get text(){var t,n,r,i,o,l,u,f;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",h=!1;const m=[];for(const y of(f=(u=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&f!==void 0?f:[]){for(const[b,w]of Object.entries(y))b!=="text"&&b!=="thought"&&b!=="thoughtSignature"&&(w!==null||w!==void 0)&&m.push(b);if(typeof y.text=="string"){if(typeof y.thought=="boolean"&&y.thought)continue;h=!0,d+=y.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?d:void 0}get data(){var t,n,r,i,o,l,u,f;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const h=[];for(const m of(f=(u=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&f!==void 0?f:[]){for(const[y,b]of Object.entries(m))y!=="inlineData"&&(b!==null||b!==void 0)&&h.push(y);m.inlineData&&typeof m.inlineData.data=="string"&&(d+=atob(m.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var t,n,r,i,o,l,u,f;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(f=(u=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||f===void 0?void 0:f.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var t,n,r,i,o,l,u,f,d;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(f=(u=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||f===void 0?void 0:f.filter(m=>m.executableCode).map(m=>m.executableCode).filter(m=>m!==void 0);if((h==null?void 0:h.length)!==0)return(d=h==null?void 0:h[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var t,n,r,i,o,l,u,f,d;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(f=(u=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||f===void 0?void 0:f.filter(m=>m.codeExecutionResult).map(m=>m.codeExecutionResult).filter(m=>m!==void 0);if((h==null?void 0:h.length)!==0)return(d=h==null?void 0:h[0])===null||d===void 0?void 0:d.output}}class vA{}class yA{}class xq{}class Cq{}class Rq{}class Oq{}class _A{}class bA{}class SA{}class Pq{}class Lf{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new Lf;let i;const o=t;return n?i=pq(o):i=hq(o),Object.assign(r,i),r}}class wA{}class EA{}class TA{}class AA{}class Iq{}class Mq{}class Nq{}class h0{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new h0,o=Sq(t);return Object.assign(r,o),r}}class kq{}class Dq{}class Uq{}class xA{}class Lq{get text(){var t,n,r;let i="",o=!1;const l=[];for(const u of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[f,d]of Object.entries(u))f!=="text"&&f!=="thought"&&d!==null&&l.push(f);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;o=!0,i+=u.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var t,n,r;let i="";const o=[];for(const l of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[u,f]of Object.entries(l))u!=="inlineData"&&f!==null&&o.push(u);l.inlineData&&typeof l.inlineData.data=="string"&&(i+=atob(l.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class qq{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class p0{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new p0,o=DO(t);return Object.assign(r,o),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ze(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function UO(e,t){const n=ze(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function LO(e){return Array.isArray(e)?e.map(t=>qf(t)):[qf(e)]}function qf(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function qO(e){const t=qf(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function BO(e){const t=qf(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function CA(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function zO(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>CA(t)):[CA(e)]}function Fv(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function RA(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function OA(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function an(e){if(e==null)throw new Error("ContentUnion is required");return Fv(e)?e:{role:"user",parts:zO(e)}}function m0(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const r=an(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(e.isVertexAI()){const n=an(t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>an(n)):[an(t)]}function ir(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(RA(e)||OA(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[an(e)]}const t=[],n=[],r=Fv(e[0]);for(const i of e){const o=Fv(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)t.push(i);else{if(RA(i)||OA(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||t.push({role:"user",parts:zO(n)}),t}function Bq(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(r=>r!=="null");if(n.length===1)t.type=Object.values(Ie).includes(n[0].toUpperCase())?n[0].toUpperCase():Ie.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const r of n)t.anyOf.push({type:Object.values(Ie).includes(r.toUpperCase())?r.toUpperCase():Ie.TYPE_UNSPECIFIED})}}function ts(e){const t={},n=["items"],r=["anyOf"],i=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=e.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(t.nullable=!0,e=o[1]):o[1].type==="null"&&(t.nullable=!0,e=o[0])),e.type instanceof Array&&Bq(e.type,t);for(const[l,u]of Object.entries(e))if(u!=null)if(l=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;t.type=Object.values(Ie).includes(u.toUpperCase())?u.toUpperCase():Ie.TYPE_UNSPECIFIED}else if(n.includes(l))t[l]=ts(u);else if(r.includes(l)){const f=[];for(const d of u){if(d.type=="null"){t.nullable=!0;continue}f.push(ts(d))}t[l]=f}else if(i.includes(l)){const f={};for(const[d,h]of Object.entries(u))f[d]=ts(h);t[l]=f}else{if(l==="additionalProperties")continue;t[l]=u}return t}function g0(e){return ts(e)}function v0(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function y0(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function ws(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=ts(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=ts(t.response));return e}function Es(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function zq(e,t,n,r=1){const i=!t.startsWith(`${n}/`)&&t.split("/").length===r;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:i?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:i?`${n}/${t}`:t}function Si(e,t){if(typeof t!="string")throw new Error("name must be a string");return zq(e,t,"cachedContents")}function $O(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function la(e){return d0(e)}function $q(e){return e!=null&&typeof e=="object"&&"name"in e}function Hq(e){return e!=null&&typeof e=="object"&&"video"in e}function jq(e){return e!=null&&typeof e=="object"&&"uri"in e}function HO(e){var t;let n;if($q(e)&&(n=e.name),!(jq(e)&&(n=e.uri,n===void 0))&&!(Hq(e)&&(n=(t=e.video)===null||t===void 0?void 0:t.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function jO(e,t){let n;return e.isVertexAI()?n=t?"publishers/google/models":"models":n=t?"models":"tunedModels",n}function GO(e){for(const t of["models","tunedModels","publisherModels"])if(Gq(e,t))return e[t];return[]}function Gq(e,t){return e!==null&&typeof e=="object"&&t in e}function Fq(e,t={}){const n=e,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),t.behavior&&(r.behavior=t.behavior),{functionDeclarations:[r]}}function Vq(e,t={}){const n=[],r=new Set;for(const i of e){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const l=Fq(i,t);l.functionDeclarations&&n.push(...l.functionDeclarations)}return{functionDeclarations:n}}function FO(e,t){let n;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))n={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))n={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function Kq(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function VO(e){if(typeof e!="object"||e===null)return{};const t=e,n=t.inlinedResponses;if(typeof n!="object"||n===null)return e;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return e;let o=!1;for(const l of i){if(typeof l!="object"||l===null)continue;const f=l.response;if(typeof f!="object"||f===null)continue;if(f.embedding!==void 0){o=!0;break}}return o&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function Ts(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function KO(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Yq(e){const t={},n=g(e,["responsesFile"]);n!=null&&v(t,["fileName"],n);const r=g(e,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>RB(l))),v(t,["inlinedResponses"],o)}const i=g(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),v(t,["inlinedEmbedContentResponses"],o)}return t}function Jq(e){const t={},n=g(e,["predictionsFormat"]);n!=null&&v(t,["format"],n);const r=g(e,["gcsDestination","outputUriPrefix"]);r!=null&&v(t,["gcsUri"],r);const i=g(e,["bigqueryDestination","outputUri"]);return i!=null&&v(t,["bigqueryUri"],i),t}function Wq(e){const t={},n=g(e,["format"]);n!=null&&v(t,["predictionsFormat"],n);const r=g(e,["gcsUri"]);r!=null&&v(t,["gcsDestination","outputUriPrefix"],r);const i=g(e,["bigqueryUri"]);if(i!=null&&v(t,["bigqueryDestination","outputUri"],i),g(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(g(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(g(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function Af(e){const t={},n=g(e,["name"]);n!=null&&v(t,["name"],n);const r=g(e,["metadata","displayName"]);r!=null&&v(t,["displayName"],r);const i=g(e,["metadata","state"]);i!=null&&v(t,["state"],KO(i));const o=g(e,["metadata","createTime"]);o!=null&&v(t,["createTime"],o);const l=g(e,["metadata","endTime"]);l!=null&&v(t,["endTime"],l);const u=g(e,["metadata","updateTime"]);u!=null&&v(t,["updateTime"],u);const f=g(e,["metadata","model"]);f!=null&&v(t,["model"],f);const d=g(e,["metadata","output"]);return d!=null&&v(t,["dest"],Yq(VO(d))),t}function Vv(e){const t={},n=g(e,["name"]);n!=null&&v(t,["name"],n);const r=g(e,["displayName"]);r!=null&&v(t,["displayName"],r);const i=g(e,["state"]);i!=null&&v(t,["state"],KO(i));const o=g(e,["error"]);o!=null&&v(t,["error"],o);const l=g(e,["createTime"]);l!=null&&v(t,["createTime"],l);const u=g(e,["startTime"]);u!=null&&v(t,["startTime"],u);const f=g(e,["endTime"]);f!=null&&v(t,["endTime"],f);const d=g(e,["updateTime"]);d!=null&&v(t,["updateTime"],d);const h=g(e,["model"]);h!=null&&v(t,["model"],h);const m=g(e,["inputConfig"]);m!=null&&v(t,["src"],Xq(m));const y=g(e,["outputConfig"]);y!=null&&v(t,["dest"],Jq(VO(y)));const b=g(e,["completionStats"]);return b!=null&&v(t,["completionStats"],b),t}function Xq(e){const t={},n=g(e,["instancesFormat"]);n!=null&&v(t,["format"],n);const r=g(e,["gcsSource","uris"]);r!=null&&v(t,["gcsUri"],r);const i=g(e,["bigquerySource","inputUri"]);return i!=null&&v(t,["bigqueryUri"],i),t}function Qq(e,t){const n={};if(g(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(g(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(g(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=g(t,["fileName"]);r!=null&&v(n,["fileName"],r);const i=g(t,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>CB(e,l))),v(n,["requests","requests"],o)}return n}function Zq(e){const t={},n=g(e,["format"]);n!=null&&v(t,["instancesFormat"],n);const r=g(e,["gcsUri"]);r!=null&&v(t,["gcsSource","uris"],r);const i=g(e,["bigqueryUri"]);if(i!=null&&v(t,["bigquerySource","inputUri"],i),g(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(g(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function eB(e){const t={},n=g(e,["data"]);if(n!=null&&v(t,["data"],n),g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(e,["mimeType"]);return r!=null&&v(t,["mimeType"],r),t}function tB(e,t){const n={},r=g(t,["name"]);return r!=null&&v(n,["_url","name"],Ts(e,r)),n}function nB(e,t){const n={},r=g(t,["name"]);return r!=null&&v(n,["_url","name"],Ts(e,r)),n}function rB(e){const t={},n=g(e,["content"]);n!=null&&v(t,["content"],n);const r=g(e,["citationMetadata"]);r!=null&&v(t,["citationMetadata"],iB(r));const i=g(e,["tokenCount"]);i!=null&&v(t,["tokenCount"],i);const o=g(e,["finishReason"]);o!=null&&v(t,["finishReason"],o);const l=g(e,["avgLogprobs"]);l!=null&&v(t,["avgLogprobs"],l);const u=g(e,["groundingMetadata"]);u!=null&&v(t,["groundingMetadata"],u);const f=g(e,["index"]);f!=null&&v(t,["index"],f);const d=g(e,["logprobsResult"]);d!=null&&v(t,["logprobsResult"],d);const h=g(e,["safetyRatings"]);if(h!=null){let y=h;Array.isArray(y)&&(y=y.map(b=>b)),v(t,["safetyRatings"],y)}const m=g(e,["urlContextMetadata"]);return m!=null&&v(t,["urlContextMetadata"],m),t}function iB(e){const t={},n=g(e,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),v(t,["citations"],r)}return t}function YO(e){const t={},n=g(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>DB(o))),v(t,["parts"],i)}const r=g(e,["role"]);return r!=null&&v(t,["role"],r),t}function aB(e,t){const n={},r=g(e,["displayName"]);if(t!==void 0&&r!=null&&v(t,["batch","displayName"],r),g(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function oB(e,t){const n={},r=g(e,["displayName"]);t!==void 0&&r!=null&&v(t,["displayName"],r);const i=g(e,["dest"]);return t!==void 0&&i!=null&&v(t,["outputConfig"],Wq(Kq(i))),n}function PA(e,t){const n={},r=g(t,["model"]);r!=null&&v(n,["_url","model"],ze(e,r));const i=g(t,["src"]);i!=null&&v(n,["batch","inputConfig"],Qq(e,FO(e,i)));const o=g(t,["config"]);return o!=null&&aB(o,n),n}function sB(e,t){const n={},r=g(t,["model"]);r!=null&&v(n,["model"],ze(e,r));const i=g(t,["src"]);i!=null&&v(n,["inputConfig"],Zq(FO(e,i)));const o=g(t,["config"]);return o!=null&&oB(o,n),n}function lB(e,t){const n={},r=g(e,["displayName"]);return t!==void 0&&r!=null&&v(t,["batch","displayName"],r),n}function uB(e,t){const n={},r=g(t,["model"]);r!=null&&v(n,["_url","model"],ze(e,r));const i=g(t,["src"]);i!=null&&v(n,["batch","inputConfig"],gB(e,i));const o=g(t,["config"]);return o!=null&&lB(o,n),n}function cB(e,t){const n={},r=g(t,["name"]);return r!=null&&v(n,["_url","name"],Ts(e,r)),n}function fB(e,t){const n={},r=g(t,["name"]);return r!=null&&v(n,["_url","name"],Ts(e,r)),n}function dB(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=g(e,["name"]);r!=null&&v(t,["name"],r);const i=g(e,["done"]);i!=null&&v(t,["done"],i);const o=g(e,["error"]);return o!=null&&v(t,["error"],o),t}function hB(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=g(e,["name"]);r!=null&&v(t,["name"],r);const i=g(e,["done"]);i!=null&&v(t,["done"],i);const o=g(e,["error"]);return o!=null&&v(t,["error"],o),t}function pB(e,t){const n={},r=g(t,["contents"]);if(r!=null){let o=m0(e,r);Array.isArray(o)&&(o=o.map(l=>l)),v(n,["requests[]","request","content"],o)}const i=g(t,["config"]);return i!=null&&(v(n,["_self"],mB(i,n)),fq(n,{"requests[].*":"requests[].request.*"})),n}function mB(e,t){const n={},r=g(e,["taskType"]);t!==void 0&&r!=null&&v(t,["requests[]","taskType"],r);const i=g(e,["title"]);t!==void 0&&i!=null&&v(t,["requests[]","title"],i);const o=g(e,["outputDimensionality"]);if(t!==void 0&&o!=null&&v(t,["requests[]","outputDimensionality"],o),g(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(g(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function gB(e,t){const n={},r=g(t,["fileName"]);r!=null&&v(n,["file_name"],r);const i=g(t,["inlinedRequests"]);return i!=null&&v(n,["requests"],pB(e,i)),n}function vB(e){const t={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(e,["fileUri"]);n!=null&&v(t,["fileUri"],n);const r=g(e,["mimeType"]);return r!=null&&v(t,["mimeType"],r),t}function yB(e){const t={},n=g(e,["id"]);n!=null&&v(t,["id"],n);const r=g(e,["args"]);r!=null&&v(t,["args"],r);const i=g(e,["name"]);if(i!=null&&v(t,["name"],i),g(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function _B(e){const t={},n=g(e,["mode"]);n!=null&&v(t,["mode"],n);const r=g(e,["allowedFunctionNames"]);if(r!=null&&v(t,["allowedFunctionNames"],r),g(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function bB(e,t,n){const r={},i=g(t,["systemInstruction"]);n!==void 0&&i!=null&&v(n,["systemInstruction"],YO(an(i)));const o=g(t,["temperature"]);o!=null&&v(r,["temperature"],o);const l=g(t,["topP"]);l!=null&&v(r,["topP"],l);const u=g(t,["topK"]);u!=null&&v(r,["topK"],u);const f=g(t,["candidateCount"]);f!=null&&v(r,["candidateCount"],f);const d=g(t,["maxOutputTokens"]);d!=null&&v(r,["maxOutputTokens"],d);const h=g(t,["stopSequences"]);h!=null&&v(r,["stopSequences"],h);const m=g(t,["responseLogprobs"]);m!=null&&v(r,["responseLogprobs"],m);const y=g(t,["logprobs"]);y!=null&&v(r,["logprobs"],y);const b=g(t,["presencePenalty"]);b!=null&&v(r,["presencePenalty"],b);const w=g(t,["frequencyPenalty"]);w!=null&&v(r,["frequencyPenalty"],w);const E=g(t,["seed"]);E!=null&&v(r,["seed"],E);const T=g(t,["responseMimeType"]);T!=null&&v(r,["responseMimeType"],T);const x=g(t,["responseSchema"]);x!=null&&v(r,["responseSchema"],g0(x));const O=g(t,["responseJsonSchema"]);if(O!=null&&v(r,["responseJsonSchema"],O),g(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(g(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const R=g(t,["safetySettings"]);if(n!==void 0&&R!=null){let se=R;Array.isArray(se)&&(se=se.map(he=>UB(he))),v(n,["safetySettings"],se)}const M=g(t,["tools"]);if(n!==void 0&&M!=null){let se=Es(M);Array.isArray(se)&&(se=se.map(he=>qB(ws(he)))),v(n,["tools"],se)}const I=g(t,["toolConfig"]);if(n!==void 0&&I!=null&&v(n,["toolConfig"],LB(I)),g(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const N=g(t,["cachedContent"]);n!==void 0&&N!=null&&v(n,["cachedContent"],Si(e,N));const U=g(t,["responseModalities"]);U!=null&&v(r,["responseModalities"],U);const X=g(t,["mediaResolution"]);X!=null&&v(r,["mediaResolution"],X);const G=g(t,["speechConfig"]);if(G!=null&&v(r,["speechConfig"],v0(G)),g(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ie=g(t,["thinkingConfig"]);ie!=null&&v(r,["thinkingConfig"],ie);const W=g(t,["imageConfig"]);W!=null&&v(r,["imageConfig"],xB(W));const te=g(t,["enableEnhancedCivicAnswers"]);return te!=null&&v(r,["enableEnhancedCivicAnswers"],te),r}function SB(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=g(e,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(d=>rB(d))),v(t,["candidates"],f)}const i=g(e,["modelVersion"]);i!=null&&v(t,["modelVersion"],i);const o=g(e,["promptFeedback"]);o!=null&&v(t,["promptFeedback"],o);const l=g(e,["responseId"]);l!=null&&v(t,["responseId"],l);const u=g(e,["usageMetadata"]);return u!=null&&v(t,["usageMetadata"],u),t}function wB(e,t){const n={},r=g(t,["name"]);return r!=null&&v(n,["_url","name"],Ts(e,r)),n}function EB(e,t){const n={},r=g(t,["name"]);return r!=null&&v(n,["_url","name"],Ts(e,r)),n}function TB(e){const t={};if(g(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(e,["enableWidget"]);return n!=null&&v(t,["enableWidget"],n),t}function AB(e){const t={};if(g(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(e,["timeRangeFilter"]);return n!=null&&v(t,["timeRangeFilter"],n),t}function xB(e){const t={},n=g(e,["aspectRatio"]);n!=null&&v(t,["aspectRatio"],n);const r=g(e,["imageSize"]);if(r!=null&&v(t,["imageSize"],r),g(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(g(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function CB(e,t){const n={},r=g(t,["model"]);r!=null&&v(n,["request","model"],ze(e,r));const i=g(t,["contents"]);if(i!=null){let u=ir(i);Array.isArray(u)&&(u=u.map(f=>YO(f))),v(n,["request","contents"],u)}const o=g(t,["metadata"]);o!=null&&v(n,["metadata"],o);const l=g(t,["config"]);return l!=null&&v(n,["request","generationConfig"],bB(e,l,g(n,["request"],{}))),n}function RB(e){const t={},n=g(e,["response"]);n!=null&&v(t,["response"],SB(n));const r=g(e,["error"]);return r!=null&&v(t,["error"],r),t}function OB(e,t){const n={},r=g(e,["pageSize"]);t!==void 0&&r!=null&&v(t,["_query","pageSize"],r);const i=g(e,["pageToken"]);if(t!==void 0&&i!=null&&v(t,["_query","pageToken"],i),g(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function PB(e,t){const n={},r=g(e,["pageSize"]);t!==void 0&&r!=null&&v(t,["_query","pageSize"],r);const i=g(e,["pageToken"]);t!==void 0&&i!=null&&v(t,["_query","pageToken"],i);const o=g(e,["filter"]);return t!==void 0&&o!=null&&v(t,["_query","filter"],o),n}function IB(e){const t={},n=g(e,["config"]);return n!=null&&OB(n,t),t}function MB(e){const t={},n=g(e,["config"]);return n!=null&&PB(n,t),t}function NB(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=g(e,["nextPageToken"]);r!=null&&v(t,["nextPageToken"],r);const i=g(e,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>Af(l))),v(t,["batchJobs"],o)}return t}function kB(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=g(e,["nextPageToken"]);r!=null&&v(t,["nextPageToken"],r);const i=g(e,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>Vv(l))),v(t,["batchJobs"],o)}return t}function DB(e){const t={},n=g(e,["mediaResolution"]);n!=null&&v(t,["mediaResolution"],n);const r=g(e,["codeExecutionResult"]);r!=null&&v(t,["codeExecutionResult"],r);const i=g(e,["executableCode"]);i!=null&&v(t,["executableCode"],i);const o=g(e,["fileData"]);o!=null&&v(t,["fileData"],vB(o));const l=g(e,["functionCall"]);l!=null&&v(t,["functionCall"],yB(l));const u=g(e,["functionResponse"]);u!=null&&v(t,["functionResponse"],u);const f=g(e,["inlineData"]);f!=null&&v(t,["inlineData"],eB(f));const d=g(e,["text"]);d!=null&&v(t,["text"],d);const h=g(e,["thought"]);h!=null&&v(t,["thought"],h);const m=g(e,["thoughtSignature"]);m!=null&&v(t,["thoughtSignature"],m);const y=g(e,["videoMetadata"]);return y!=null&&v(t,["videoMetadata"],y),t}function UB(e){const t={},n=g(e,["category"]);if(n!=null&&v(t,["category"],n),g(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=g(e,["threshold"]);return r!=null&&v(t,["threshold"],r),t}function LB(e){const t={},n=g(e,["functionCallingConfig"]);n!=null&&v(t,["functionCallingConfig"],_B(n));const r=g(e,["retrievalConfig"]);return r!=null&&v(t,["retrievalConfig"],r),t}function qB(e){const t={},n=g(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),v(t,["functionDeclarations"],h)}if(g(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(e,["googleSearchRetrieval"]);r!=null&&v(t,["googleSearchRetrieval"],r);const i=g(e,["computerUse"]);i!=null&&v(t,["computerUse"],i);const o=g(e,["fileSearch"]);o!=null&&v(t,["fileSearch"],o);const l=g(e,["codeExecution"]);if(l!=null&&v(t,["codeExecution"],l),g(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=g(e,["googleMaps"]);u!=null&&v(t,["googleMaps"],TB(u));const f=g(e,["googleSearch"]);f!=null&&v(t,["googleSearch"],AB(f));const d=g(e,["urlContext"]);return d!=null&&v(t,["urlContext"],d),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ci;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(ci||(ci={}));class Za{constructor(t,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,r,i)}init(t,n,r){var i,o;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let l={config:{}};!r||Object.keys(r).length===0?l={config:{}}:typeof r=="object"?l=Object.assign({},r):l=r,l.config&&(l.config.pageToken=n.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(o=(i=l.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class BB extends bi{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Za(ci.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(t){const n=PA(this.apiClient,t),r=n._url,i=le("{model}:batchGenerateContent",r),u=n.batch.inputConfig.requests,f=u.requests,d=[];for(const h of f){const m=Object.assign({},h);if(m.systemInstruction){const y=m.systemInstruction;delete m.systemInstruction;const b=m.request;b.systemInstruction=y,m.request=b}d.push(m)}return u.requests=d,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const o=this.getGcsUri(t),l=this.getBigqueryUri(t);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(l)r.dest=`${l}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(t){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=sB(this.apiClient,t);return u=le("batchPredictionJobs",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>Vv(h))}else{const d=PA(this.apiClient,t);return u=le("{model}:batchGenerateContent",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>Af(h))}}async createEmbeddingsInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=uB(this.apiClient,t);return o=le("{model}:asyncBatchEmbedContent",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>Af(f))}}async get(t){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=EB(this.apiClient,t);return u=le("batchPredictionJobs/{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>Vv(h))}else{const d=wB(this.apiClient,t);return u=le("batches/{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>Af(h))}}async cancel(t){var n,r,i,o;let l="",u={};if(this.apiClient.isVertexAI()){const f=nB(this.apiClient,t);l=le("batchPredictionJobs/{name}:cancel",f._url),u=f._query,delete f._url,delete f._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}else{const f=tB(this.apiClient,t);l=le("batches/{name}:cancel",f._url),u=f._query,delete f._url,delete f._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(t){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=MB(t);return u=le("batchPredictionJobs",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const m=kB(h),y=new xA;return Object.assign(y,m),y})}else{const d=IB(t);return u=le("batches",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const m=NB(h),y=new xA;return Object.assign(y,m),y})}}async delete(t){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=fB(this.apiClient,t);return u=le("batchPredictionJobs/{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>hB(h))}else{const d=cB(this.apiClient,t);return u=le("batches/{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>dB(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zB(e){const t={},n=g(e,["data"]);if(n!=null&&v(t,["data"],n),g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(e,["mimeType"]);return r!=null&&v(t,["mimeType"],r),t}function IA(e){const t={},n=g(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>uz(o))),v(t,["parts"],i)}const r=g(e,["role"]);return r!=null&&v(t,["role"],r),t}function $B(e,t){const n={},r=g(e,["ttl"]);t!==void 0&&r!=null&&v(t,["ttl"],r);const i=g(e,["expireTime"]);t!==void 0&&i!=null&&v(t,["expireTime"],i);const o=g(e,["displayName"]);t!==void 0&&o!=null&&v(t,["displayName"],o);const l=g(e,["contents"]);if(t!==void 0&&l!=null){let h=ir(l);Array.isArray(h)&&(h=h.map(m=>IA(m))),v(t,["contents"],h)}const u=g(e,["systemInstruction"]);t!==void 0&&u!=null&&v(t,["systemInstruction"],IA(an(u)));const f=g(e,["tools"]);if(t!==void 0&&f!=null){let h=f;Array.isArray(h)&&(h=h.map(m=>fz(m))),v(t,["tools"],h)}const d=g(e,["toolConfig"]);if(t!==void 0&&d!=null&&v(t,["toolConfig"],cz(d)),g(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function HB(e,t){const n={},r=g(e,["ttl"]);t!==void 0&&r!=null&&v(t,["ttl"],r);const i=g(e,["expireTime"]);t!==void 0&&i!=null&&v(t,["expireTime"],i);const o=g(e,["displayName"]);t!==void 0&&o!=null&&v(t,["displayName"],o);const l=g(e,["contents"]);if(t!==void 0&&l!=null){let m=ir(l);Array.isArray(m)&&(m=m.map(y=>y)),v(t,["contents"],m)}const u=g(e,["systemInstruction"]);t!==void 0&&u!=null&&v(t,["systemInstruction"],an(u));const f=g(e,["tools"]);if(t!==void 0&&f!=null){let m=f;Array.isArray(m)&&(m=m.map(y=>dz(y))),v(t,["tools"],m)}const d=g(e,["toolConfig"]);t!==void 0&&d!=null&&v(t,["toolConfig"],d);const h=g(e,["kmsKeyName"]);return t!==void 0&&h!=null&&v(t,["encryption_spec","kmsKeyName"],h),n}function jB(e,t){const n={},r=g(t,["model"]);r!=null&&v(n,["model"],UO(e,r));const i=g(t,["config"]);return i!=null&&$B(i,n),n}function GB(e,t){const n={},r=g(t,["model"]);r!=null&&v(n,["model"],UO(e,r));const i=g(t,["config"]);return i!=null&&HB(i,n),n}function FB(e,t){const n={},r=g(t,["name"]);return r!=null&&v(n,["_url","name"],Si(e,r)),n}function VB(e,t){const n={},r=g(t,["name"]);return r!=null&&v(n,["_url","name"],Si(e,r)),n}function KB(e){const t={},n=g(e,["sdkHttpResponse"]);return n!=null&&v(t,["sdkHttpResponse"],n),t}function YB(e){const t={},n=g(e,["sdkHttpResponse"]);return n!=null&&v(t,["sdkHttpResponse"],n),t}function JB(e){const t={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(e,["fileUri"]);n!=null&&v(t,["fileUri"],n);const r=g(e,["mimeType"]);return r!=null&&v(t,["mimeType"],r),t}function WB(e){const t={},n=g(e,["id"]);n!=null&&v(t,["id"],n);const r=g(e,["args"]);r!=null&&v(t,["args"],r);const i=g(e,["name"]);if(i!=null&&v(t,["name"],i),g(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function XB(e){const t={},n=g(e,["mode"]);n!=null&&v(t,["mode"],n);const r=g(e,["allowedFunctionNames"]);if(r!=null&&v(t,["allowedFunctionNames"],r),g(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function QB(e){const t={};if(g(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=g(e,["description"]);n!=null&&v(t,["description"],n);const r=g(e,["name"]);r!=null&&v(t,["name"],r);const i=g(e,["parameters"]);i!=null&&v(t,["parameters"],i);const o=g(e,["parametersJsonSchema"]);o!=null&&v(t,["parametersJsonSchema"],o);const l=g(e,["response"]);l!=null&&v(t,["response"],l);const u=g(e,["responseJsonSchema"]);return u!=null&&v(t,["responseJsonSchema"],u),t}function ZB(e,t){const n={},r=g(t,["name"]);return r!=null&&v(n,["_url","name"],Si(e,r)),n}function ez(e,t){const n={},r=g(t,["name"]);return r!=null&&v(n,["_url","name"],Si(e,r)),n}function tz(e){const t={};if(g(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(e,["enableWidget"]);return n!=null&&v(t,["enableWidget"],n),t}function nz(e){const t={};if(g(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(e,["timeRangeFilter"]);return n!=null&&v(t,["timeRangeFilter"],n),t}function rz(e,t){const n={},r=g(e,["pageSize"]);t!==void 0&&r!=null&&v(t,["_query","pageSize"],r);const i=g(e,["pageToken"]);return t!==void 0&&i!=null&&v(t,["_query","pageToken"],i),n}function iz(e,t){const n={},r=g(e,["pageSize"]);t!==void 0&&r!=null&&v(t,["_query","pageSize"],r);const i=g(e,["pageToken"]);return t!==void 0&&i!=null&&v(t,["_query","pageToken"],i),n}function az(e){const t={},n=g(e,["config"]);return n!=null&&rz(n,t),t}function oz(e){const t={},n=g(e,["config"]);return n!=null&&iz(n,t),t}function sz(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=g(e,["nextPageToken"]);r!=null&&v(t,["nextPageToken"],r);const i=g(e,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),v(t,["cachedContents"],o)}return t}function lz(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=g(e,["nextPageToken"]);r!=null&&v(t,["nextPageToken"],r);const i=g(e,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),v(t,["cachedContents"],o)}return t}function uz(e){const t={},n=g(e,["mediaResolution"]);n!=null&&v(t,["mediaResolution"],n);const r=g(e,["codeExecutionResult"]);r!=null&&v(t,["codeExecutionResult"],r);const i=g(e,["executableCode"]);i!=null&&v(t,["executableCode"],i);const o=g(e,["fileData"]);o!=null&&v(t,["fileData"],JB(o));const l=g(e,["functionCall"]);l!=null&&v(t,["functionCall"],WB(l));const u=g(e,["functionResponse"]);u!=null&&v(t,["functionResponse"],u);const f=g(e,["inlineData"]);f!=null&&v(t,["inlineData"],zB(f));const d=g(e,["text"]);d!=null&&v(t,["text"],d);const h=g(e,["thought"]);h!=null&&v(t,["thought"],h);const m=g(e,["thoughtSignature"]);m!=null&&v(t,["thoughtSignature"],m);const y=g(e,["videoMetadata"]);return y!=null&&v(t,["videoMetadata"],y),t}function cz(e){const t={},n=g(e,["functionCallingConfig"]);n!=null&&v(t,["functionCallingConfig"],XB(n));const r=g(e,["retrievalConfig"]);return r!=null&&v(t,["retrievalConfig"],r),t}function fz(e){const t={},n=g(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),v(t,["functionDeclarations"],h)}if(g(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(e,["googleSearchRetrieval"]);r!=null&&v(t,["googleSearchRetrieval"],r);const i=g(e,["computerUse"]);i!=null&&v(t,["computerUse"],i);const o=g(e,["fileSearch"]);o!=null&&v(t,["fileSearch"],o);const l=g(e,["codeExecution"]);if(l!=null&&v(t,["codeExecution"],l),g(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=g(e,["googleMaps"]);u!=null&&v(t,["googleMaps"],tz(u));const f=g(e,["googleSearch"]);f!=null&&v(t,["googleSearch"],nz(f));const d=g(e,["urlContext"]);return d!=null&&v(t,["urlContext"],d),t}function dz(e){const t={},n=g(e,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(y=>QB(y))),v(t,["functionDeclarations"],m)}const r=g(e,["retrieval"]);r!=null&&v(t,["retrieval"],r);const i=g(e,["googleSearchRetrieval"]);i!=null&&v(t,["googleSearchRetrieval"],i);const o=g(e,["computerUse"]);if(o!=null&&v(t,["computerUse"],o),g(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=g(e,["codeExecution"]);l!=null&&v(t,["codeExecution"],l);const u=g(e,["enterpriseWebSearch"]);u!=null&&v(t,["enterpriseWebSearch"],u);const f=g(e,["googleMaps"]);f!=null&&v(t,["googleMaps"],f);const d=g(e,["googleSearch"]);d!=null&&v(t,["googleSearch"],d);const h=g(e,["urlContext"]);return h!=null&&v(t,["urlContext"],h),t}function hz(e,t){const n={},r=g(e,["ttl"]);t!==void 0&&r!=null&&v(t,["ttl"],r);const i=g(e,["expireTime"]);return t!==void 0&&i!=null&&v(t,["expireTime"],i),n}function pz(e,t){const n={},r=g(e,["ttl"]);t!==void 0&&r!=null&&v(t,["ttl"],r);const i=g(e,["expireTime"]);return t!==void 0&&i!=null&&v(t,["expireTime"],i),n}function mz(e,t){const n={},r=g(t,["name"]);r!=null&&v(n,["_url","name"],Si(e,r));const i=g(t,["config"]);return i!=null&&hz(i,n),n}function gz(e,t){const n={},r=g(t,["name"]);r!=null&&v(n,["_url","name"],Si(e,r));const i=g(t,["config"]);return i!=null&&pz(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vz extends bi{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Za(ci.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(t){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=GB(this.apiClient,t);return u=le("cachedContents",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>h)}else{const d=jB(this.apiClient,t);return u=le("cachedContents",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>h)}}async get(t){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=ez(this.apiClient,t);return u=le("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>h)}else{const d=ZB(this.apiClient,t);return u=le("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>h)}}async delete(t){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=VB(this.apiClient,t);return u=le("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const m=YB(h),y=new TA;return Object.assign(y,m),y})}else{const d=FB(this.apiClient,t);return u=le("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const m=KB(h),y=new TA;return Object.assign(y,m),y})}}async update(t){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=gz(this.apiClient,t);return u=le("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>h)}else{const d=mz(this.apiClient,t);return u=le("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>h)}}async listInternal(t){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=oz(t);return u=le("cachedContents",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const m=lz(h),y=new AA;return Object.assign(y,m),y})}else{const d=az(t);return u=le("cachedContents",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const m=sz(h),y=new AA;return Object.assign(y,m),y})}}}function MA(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function it(e){return this instanceof it?(this.v=e,this):new it(e)}function ns(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",l),i[Symbol.asyncIterator]=function(){return this},i;function l(b){return function(w){return Promise.resolve(w).then(b,m)}}function u(b,w){r[b]&&(i[b]=function(E){return new Promise(function(T,x){o.push([b,E,T,x])>1||f(b,E)})},w&&(i[b]=w(i[b])))}function f(b,w){try{d(r[b](w))}catch(E){y(o[0][3],E)}}function d(b){b.value instanceof it?Promise.resolve(b.value.v).then(h,m):y(o[0][2],b)}function h(b){f("next",b)}function m(b){f("throw",b)}function y(b,w){b(w),o.shift(),o.length&&f(o[0][0],o[0][1])}}function Vl(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof MA=="function"?MA(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(l){return new Promise(function(u,f){l=e[o](l),i(u,f,l.done,l.value)})}}function i(o,l,u,f){Promise.resolve(f).then(function(d){o({value:d,done:u})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yz(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:JO(n)}function JO(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function _z(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function NA(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let r=0;for(;r<n;)if(e[r].role==="user")t.push(e[r]),r++;else{const i=[];let o=!0;for(;r<n&&e[r].role==="model";)i.push(e[r]),o&&!JO(e[r])&&(o=!1),r++;o?t.push(...i):t.pop()}return t}class bz{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new Sz(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class Sz{constructor(t,n,r,i={},o=[]){this.apiClient=t,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),_z(o)}async sendMessage(t){var n;await this.sendPromise;const r=an(t.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,l,u;const f=await i,d=(l=(o=f.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content,h=f.automaticFunctionCallingHistory,m=this.getHistory(!0).length;let y=[];h!=null&&(y=(u=h.slice(m))!==null&&u!==void 0?u:[]);const b=d?[d]:[];this.recordHistory(r,b,y)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(t){var n;await this.sendPromise;const r=an(t.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(t=!1){const n=t?NA(this.history):this.history;return structuredClone(n)}processStreamResponse(t,n){return ns(this,arguments,function*(){var i,o,l,u,f,d;const h=[];try{for(var m=!0,y=Vl(t),b;b=yield it(y.next()),i=b.done,!i;m=!0){u=b.value,m=!1;const w=u;if(yz(w)){const E=(d=(f=w.candidates)===null||f===void 0?void 0:f[0])===null||d===void 0?void 0:d.content;E!==void 0&&h.push(E)}yield yield it(w)}}catch(w){o={error:w}}finally{try{!m&&!i&&(l=y.return)&&(yield it(l.call(y)))}finally{if(o)throw o.error}}this.recordHistory(n,h)})}recordHistory(t,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...NA(r)):this.history.push(t),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zd extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,zd.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wz(e){const t={},n=g(e,["file"]);return n!=null&&v(t,["file"],n),t}function Ez(e){const t={},n=g(e,["sdkHttpResponse"]);return n!=null&&v(t,["sdkHttpResponse"],n),t}function Tz(e){const t={},n=g(e,["name"]);return n!=null&&v(t,["_url","file"],HO(n)),t}function Az(e){const t={},n=g(e,["sdkHttpResponse"]);return n!=null&&v(t,["sdkHttpResponse"],n),t}function xz(e){const t={},n=g(e,["name"]);return n!=null&&v(t,["_url","file"],HO(n)),t}function Cz(e,t){const n={},r=g(e,["pageSize"]);t!==void 0&&r!=null&&v(t,["_query","pageSize"],r);const i=g(e,["pageToken"]);return t!==void 0&&i!=null&&v(t,["_query","pageToken"],i),n}function Rz(e){const t={},n=g(e,["config"]);return n!=null&&Cz(n,t),t}function Oz(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=g(e,["nextPageToken"]);r!=null&&v(t,["nextPageToken"],r);const i=g(e,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),v(t,["files"],o)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Pz extends bi{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Za(ci.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>n)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Rz(t);return o=le("files",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const d=Oz(f),h=new kq;return Object.assign(h,d),h})}}async createInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=wz(t);return o=le("upload/v1beta/files",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=Ez(f),h=new Dq;return Object.assign(h,d),h})}}async get(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=xz(t);return o=le("files/{file}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async delete(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Tz(t);return o=le("files/{file}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const d=Az(f),h=new Uq;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xf(e){const t={},n=g(e,["data"]);if(n!=null&&v(t,["data"],n),g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(e,["mimeType"]);return r!=null&&v(t,["mimeType"],r),t}function Iz(e){const t={},n=g(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Kz(o))),v(t,["parts"],i)}const r=g(e,["role"]);return r!=null&&v(t,["role"],r),t}function Mz(e){const t={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(e,["fileUri"]);n!=null&&v(t,["fileUri"],n);const r=g(e,["mimeType"]);return r!=null&&v(t,["mimeType"],r),t}function Nz(e){const t={},n=g(e,["id"]);n!=null&&v(t,["id"],n);const r=g(e,["args"]);r!=null&&v(t,["args"],r);const i=g(e,["name"]);if(i!=null&&v(t,["name"],i),g(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function kz(e){const t={};if(g(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=g(e,["description"]);n!=null&&v(t,["description"],n);const r=g(e,["name"]);r!=null&&v(t,["name"],r);const i=g(e,["parameters"]);i!=null&&v(t,["parameters"],i);const o=g(e,["parametersJsonSchema"]);o!=null&&v(t,["parametersJsonSchema"],o);const l=g(e,["response"]);l!=null&&v(t,["response"],l);const u=g(e,["responseJsonSchema"]);return u!=null&&v(t,["responseJsonSchema"],u),t}function Dz(e){const t={},n=g(e,["modelSelectionConfig"]);n!=null&&v(t,["modelConfig"],n);const r=g(e,["responseJsonSchema"]);r!=null&&v(t,["responseJsonSchema"],r);const i=g(e,["audioTimestamp"]);i!=null&&v(t,["audioTimestamp"],i);const o=g(e,["candidateCount"]);o!=null&&v(t,["candidateCount"],o);const l=g(e,["enableAffectiveDialog"]);l!=null&&v(t,["enableAffectiveDialog"],l);const u=g(e,["frequencyPenalty"]);u!=null&&v(t,["frequencyPenalty"],u);const f=g(e,["logprobs"]);f!=null&&v(t,["logprobs"],f);const d=g(e,["maxOutputTokens"]);d!=null&&v(t,["maxOutputTokens"],d);const h=g(e,["mediaResolution"]);h!=null&&v(t,["mediaResolution"],h);const m=g(e,["presencePenalty"]);m!=null&&v(t,["presencePenalty"],m);const y=g(e,["responseLogprobs"]);y!=null&&v(t,["responseLogprobs"],y);const b=g(e,["responseMimeType"]);b!=null&&v(t,["responseMimeType"],b);const w=g(e,["responseModalities"]);w!=null&&v(t,["responseModalities"],w);const E=g(e,["responseSchema"]);E!=null&&v(t,["responseSchema"],E);const T=g(e,["routingConfig"]);T!=null&&v(t,["routingConfig"],T);const x=g(e,["seed"]);x!=null&&v(t,["seed"],x);const O=g(e,["speechConfig"]);O!=null&&v(t,["speechConfig"],WO(O));const R=g(e,["stopSequences"]);R!=null&&v(t,["stopSequences"],R);const M=g(e,["temperature"]);M!=null&&v(t,["temperature"],M);const I=g(e,["thinkingConfig"]);I!=null&&v(t,["thinkingConfig"],I);const N=g(e,["topK"]);N!=null&&v(t,["topK"],N);const U=g(e,["topP"]);if(U!=null&&v(t,["topP"],U),g(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function Uz(e){const t={};if(g(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(e,["enableWidget"]);return n!=null&&v(t,["enableWidget"],n),t}function Lz(e){const t={};if(g(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(e,["timeRangeFilter"]);return n!=null&&v(t,["timeRangeFilter"],n),t}function qz(e,t){const n={},r=g(e,["generationConfig"]);t!==void 0&&r!=null&&v(t,["setup","generationConfig"],r);const i=g(e,["responseModalities"]);t!==void 0&&i!=null&&v(t,["setup","generationConfig","responseModalities"],i);const o=g(e,["temperature"]);t!==void 0&&o!=null&&v(t,["setup","generationConfig","temperature"],o);const l=g(e,["topP"]);t!==void 0&&l!=null&&v(t,["setup","generationConfig","topP"],l);const u=g(e,["topK"]);t!==void 0&&u!=null&&v(t,["setup","generationConfig","topK"],u);const f=g(e,["maxOutputTokens"]);t!==void 0&&f!=null&&v(t,["setup","generationConfig","maxOutputTokens"],f);const d=g(e,["mediaResolution"]);t!==void 0&&d!=null&&v(t,["setup","generationConfig","mediaResolution"],d);const h=g(e,["seed"]);t!==void 0&&h!=null&&v(t,["setup","generationConfig","seed"],h);const m=g(e,["speechConfig"]);t!==void 0&&m!=null&&v(t,["setup","generationConfig","speechConfig"],y0(m));const y=g(e,["thinkingConfig"]);t!==void 0&&y!=null&&v(t,["setup","generationConfig","thinkingConfig"],y);const b=g(e,["enableAffectiveDialog"]);t!==void 0&&b!=null&&v(t,["setup","generationConfig","enableAffectiveDialog"],b);const w=g(e,["systemInstruction"]);t!==void 0&&w!=null&&v(t,["setup","systemInstruction"],Iz(an(w)));const E=g(e,["tools"]);if(t!==void 0&&E!=null){let N=Es(E);Array.isArray(N)&&(N=N.map(U=>Jz(ws(U)))),v(t,["setup","tools"],N)}const T=g(e,["sessionResumption"]);t!==void 0&&T!=null&&v(t,["setup","sessionResumption"],Yz(T));const x=g(e,["inputAudioTranscription"]);t!==void 0&&x!=null&&v(t,["setup","inputAudioTranscription"],x);const O=g(e,["outputAudioTranscription"]);t!==void 0&&O!=null&&v(t,["setup","outputAudioTranscription"],O);const R=g(e,["realtimeInputConfig"]);t!==void 0&&R!=null&&v(t,["setup","realtimeInputConfig"],R);const M=g(e,["contextWindowCompression"]);t!==void 0&&M!=null&&v(t,["setup","contextWindowCompression"],M);const I=g(e,["proactivity"]);return t!==void 0&&I!=null&&v(t,["setup","proactivity"],I),n}function Bz(e,t){const n={},r=g(e,["generationConfig"]);t!==void 0&&r!=null&&v(t,["setup","generationConfig"],Dz(r));const i=g(e,["responseModalities"]);t!==void 0&&i!=null&&v(t,["setup","generationConfig","responseModalities"],i);const o=g(e,["temperature"]);t!==void 0&&o!=null&&v(t,["setup","generationConfig","temperature"],o);const l=g(e,["topP"]);t!==void 0&&l!=null&&v(t,["setup","generationConfig","topP"],l);const u=g(e,["topK"]);t!==void 0&&u!=null&&v(t,["setup","generationConfig","topK"],u);const f=g(e,["maxOutputTokens"]);t!==void 0&&f!=null&&v(t,["setup","generationConfig","maxOutputTokens"],f);const d=g(e,["mediaResolution"]);t!==void 0&&d!=null&&v(t,["setup","generationConfig","mediaResolution"],d);const h=g(e,["seed"]);t!==void 0&&h!=null&&v(t,["setup","generationConfig","seed"],h);const m=g(e,["speechConfig"]);t!==void 0&&m!=null&&v(t,["setup","generationConfig","speechConfig"],WO(y0(m)));const y=g(e,["thinkingConfig"]);t!==void 0&&y!=null&&v(t,["setup","generationConfig","thinkingConfig"],y);const b=g(e,["enableAffectiveDialog"]);t!==void 0&&b!=null&&v(t,["setup","generationConfig","enableAffectiveDialog"],b);const w=g(e,["systemInstruction"]);t!==void 0&&w!=null&&v(t,["setup","systemInstruction"],an(w));const E=g(e,["tools"]);if(t!==void 0&&E!=null){let N=Es(E);Array.isArray(N)&&(N=N.map(U=>Wz(ws(U)))),v(t,["setup","tools"],N)}const T=g(e,["sessionResumption"]);t!==void 0&&T!=null&&v(t,["setup","sessionResumption"],T);const x=g(e,["inputAudioTranscription"]);t!==void 0&&x!=null&&v(t,["setup","inputAudioTranscription"],x);const O=g(e,["outputAudioTranscription"]);t!==void 0&&O!=null&&v(t,["setup","outputAudioTranscription"],O);const R=g(e,["realtimeInputConfig"]);t!==void 0&&R!=null&&v(t,["setup","realtimeInputConfig"],R);const M=g(e,["contextWindowCompression"]);t!==void 0&&M!=null&&v(t,["setup","contextWindowCompression"],M);const I=g(e,["proactivity"]);return t!==void 0&&I!=null&&v(t,["setup","proactivity"],I),n}function zz(e,t){const n={},r=g(t,["model"]);r!=null&&v(n,["setup","model"],ze(e,r));const i=g(t,["config"]);return i!=null&&v(n,["config"],qz(i,n)),n}function $z(e,t){const n={},r=g(t,["model"]);r!=null&&v(n,["setup","model"],ze(e,r));const i=g(t,["config"]);return i!=null&&v(n,["config"],Bz(i,n)),n}function Hz(e){const t={},n=g(e,["musicGenerationConfig"]);return n!=null&&v(t,["musicGenerationConfig"],n),t}function jz(e){const t={},n=g(e,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),v(t,["weightedPrompts"],r)}return t}function Gz(e){const t={},n=g(e,["media"]);if(n!=null){let d=LO(n);Array.isArray(d)&&(d=d.map(h=>xf(h))),v(t,["mediaChunks"],d)}const r=g(e,["audio"]);r!=null&&v(t,["audio"],xf(BO(r)));const i=g(e,["audioStreamEnd"]);i!=null&&v(t,["audioStreamEnd"],i);const o=g(e,["video"]);o!=null&&v(t,["video"],xf(qO(o)));const l=g(e,["text"]);l!=null&&v(t,["text"],l);const u=g(e,["activityStart"]);u!=null&&v(t,["activityStart"],u);const f=g(e,["activityEnd"]);return f!=null&&v(t,["activityEnd"],f),t}function Fz(e){const t={},n=g(e,["media"]);if(n!=null){let d=LO(n);Array.isArray(d)&&(d=d.map(h=>h)),v(t,["mediaChunks"],d)}const r=g(e,["audio"]);r!=null&&v(t,["audio"],BO(r));const i=g(e,["audioStreamEnd"]);i!=null&&v(t,["audioStreamEnd"],i);const o=g(e,["video"]);o!=null&&v(t,["video"],qO(o));const l=g(e,["text"]);l!=null&&v(t,["text"],l);const u=g(e,["activityStart"]);u!=null&&v(t,["activityStart"],u);const f=g(e,["activityEnd"]);return f!=null&&v(t,["activityEnd"],f),t}function Vz(e){const t={},n=g(e,["setupComplete"]);n!=null&&v(t,["setupComplete"],n);const r=g(e,["serverContent"]);r!=null&&v(t,["serverContent"],r);const i=g(e,["toolCall"]);i!=null&&v(t,["toolCall"],i);const o=g(e,["toolCallCancellation"]);o!=null&&v(t,["toolCallCancellation"],o);const l=g(e,["usageMetadata"]);l!=null&&v(t,["usageMetadata"],Xz(l));const u=g(e,["goAway"]);u!=null&&v(t,["goAway"],u);const f=g(e,["sessionResumptionUpdate"]);return f!=null&&v(t,["sessionResumptionUpdate"],f),t}function Kz(e){const t={},n=g(e,["mediaResolution"]);n!=null&&v(t,["mediaResolution"],n);const r=g(e,["codeExecutionResult"]);r!=null&&v(t,["codeExecutionResult"],r);const i=g(e,["executableCode"]);i!=null&&v(t,["executableCode"],i);const o=g(e,["fileData"]);o!=null&&v(t,["fileData"],Mz(o));const l=g(e,["functionCall"]);l!=null&&v(t,["functionCall"],Nz(l));const u=g(e,["functionResponse"]);u!=null&&v(t,["functionResponse"],u);const f=g(e,["inlineData"]);f!=null&&v(t,["inlineData"],xf(f));const d=g(e,["text"]);d!=null&&v(t,["text"],d);const h=g(e,["thought"]);h!=null&&v(t,["thought"],h);const m=g(e,["thoughtSignature"]);m!=null&&v(t,["thoughtSignature"],m);const y=g(e,["videoMetadata"]);return y!=null&&v(t,["videoMetadata"],y),t}function Yz(e){const t={},n=g(e,["handle"]);if(n!=null&&v(t,["handle"],n),g(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function WO(e){const t={},n=g(e,["voiceConfig"]);n!=null&&v(t,["voiceConfig"],n);const r=g(e,["languageCode"]);if(r!=null&&v(t,["languageCode"],r),g(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function Jz(e){const t={},n=g(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),v(t,["functionDeclarations"],h)}if(g(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(e,["googleSearchRetrieval"]);r!=null&&v(t,["googleSearchRetrieval"],r);const i=g(e,["computerUse"]);i!=null&&v(t,["computerUse"],i);const o=g(e,["fileSearch"]);o!=null&&v(t,["fileSearch"],o);const l=g(e,["codeExecution"]);if(l!=null&&v(t,["codeExecution"],l),g(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=g(e,["googleMaps"]);u!=null&&v(t,["googleMaps"],Uz(u));const f=g(e,["googleSearch"]);f!=null&&v(t,["googleSearch"],Lz(f));const d=g(e,["urlContext"]);return d!=null&&v(t,["urlContext"],d),t}function Wz(e){const t={},n=g(e,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(y=>kz(y))),v(t,["functionDeclarations"],m)}const r=g(e,["retrieval"]);r!=null&&v(t,["retrieval"],r);const i=g(e,["googleSearchRetrieval"]);i!=null&&v(t,["googleSearchRetrieval"],i);const o=g(e,["computerUse"]);if(o!=null&&v(t,["computerUse"],o),g(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=g(e,["codeExecution"]);l!=null&&v(t,["codeExecution"],l);const u=g(e,["enterpriseWebSearch"]);u!=null&&v(t,["enterpriseWebSearch"],u);const f=g(e,["googleMaps"]);f!=null&&v(t,["googleMaps"],f);const d=g(e,["googleSearch"]);d!=null&&v(t,["googleSearch"],d);const h=g(e,["urlContext"]);return h!=null&&v(t,["urlContext"],h),t}function Xz(e){const t={},n=g(e,["promptTokenCount"]);n!=null&&v(t,["promptTokenCount"],n);const r=g(e,["cachedContentTokenCount"]);r!=null&&v(t,["cachedContentTokenCount"],r);const i=g(e,["candidatesTokenCount"]);i!=null&&v(t,["responseTokenCount"],i);const o=g(e,["toolUsePromptTokenCount"]);o!=null&&v(t,["toolUsePromptTokenCount"],o);const l=g(e,["thoughtsTokenCount"]);l!=null&&v(t,["thoughtsTokenCount"],l);const u=g(e,["totalTokenCount"]);u!=null&&v(t,["totalTokenCount"],u);const f=g(e,["promptTokensDetails"]);if(f!=null){let b=f;Array.isArray(b)&&(b=b.map(w=>w)),v(t,["promptTokensDetails"],b)}const d=g(e,["cacheTokensDetails"]);if(d!=null){let b=d;Array.isArray(b)&&(b=b.map(w=>w)),v(t,["cacheTokensDetails"],b)}const h=g(e,["candidatesTokensDetails"]);if(h!=null){let b=h;Array.isArray(b)&&(b=b.map(w=>w)),v(t,["responseTokensDetails"],b)}const m=g(e,["toolUsePromptTokensDetails"]);if(m!=null){let b=m;Array.isArray(b)&&(b=b.map(w=>w)),v(t,["toolUsePromptTokensDetails"],b)}const y=g(e,["trafficType"]);return y!=null&&v(t,["trafficType"],y),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Qz(e){const t={},n=g(e,["data"]);if(n!=null&&v(t,["data"],n),g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(e,["mimeType"]);return r!=null&&v(t,["mimeType"],r),t}function Zz(e){const t={},n=g(e,["content"]);n!=null&&v(t,["content"],n);const r=g(e,["citationMetadata"]);r!=null&&v(t,["citationMetadata"],e3(r));const i=g(e,["tokenCount"]);i!=null&&v(t,["tokenCount"],i);const o=g(e,["finishReason"]);o!=null&&v(t,["finishReason"],o);const l=g(e,["avgLogprobs"]);l!=null&&v(t,["avgLogprobs"],l);const u=g(e,["groundingMetadata"]);u!=null&&v(t,["groundingMetadata"],u);const f=g(e,["index"]);f!=null&&v(t,["index"],f);const d=g(e,["logprobsResult"]);d!=null&&v(t,["logprobsResult"],d);const h=g(e,["safetyRatings"]);if(h!=null){let y=h;Array.isArray(y)&&(y=y.map(b=>b)),v(t,["safetyRatings"],y)}const m=g(e,["urlContextMetadata"]);return m!=null&&v(t,["urlContextMetadata"],m),t}function e3(e){const t={},n=g(e,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),v(t,["citations"],r)}return t}function t3(e,t){const n={},r=g(t,["model"]);r!=null&&v(n,["_url","model"],ze(e,r));const i=g(t,["contents"]);if(i!=null){let o=ir(i);Array.isArray(o)&&(o=o.map(l=>l)),v(n,["contents"],o)}return n}function n3(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=g(e,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),v(t,["tokensInfo"],i)}return t}function r3(e){const t={},n=g(e,["values"]);n!=null&&v(t,["values"],n);const r=g(e,["statistics"]);return r!=null&&v(t,["statistics"],i3(r)),t}function i3(e){const t={},n=g(e,["truncated"]);n!=null&&v(t,["truncated"],n);const r=g(e,["token_count"]);return r!=null&&v(t,["tokenCount"],r),t}function $d(e){const t={},n=g(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>h$(o))),v(t,["parts"],i)}const r=g(e,["role"]);return r!=null&&v(t,["role"],r),t}function a3(e){const t={},n=g(e,["controlType"]);n!=null&&v(t,["controlType"],n);const r=g(e,["enableControlImageComputation"]);return r!=null&&v(t,["computeControl"],r),t}function o3(e){const t={};if(g(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(g(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(g(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function s3(e,t){const n={},r=g(e,["systemInstruction"]);t!==void 0&&r!=null&&v(t,["systemInstruction"],an(r));const i=g(e,["tools"]);if(t!==void 0&&i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>tP(u))),v(t,["tools"],l)}const o=g(e,["generationConfig"]);return t!==void 0&&o!=null&&v(t,["generationConfig"],Q3(o)),n}function l3(e,t){const n={},r=g(t,["model"]);r!=null&&v(n,["_url","model"],ze(e,r));const i=g(t,["contents"]);if(i!=null){let l=ir(i);Array.isArray(l)&&(l=l.map(u=>$d(u))),v(n,["contents"],l)}const o=g(t,["config"]);return o!=null&&o3(o),n}function u3(e,t){const n={},r=g(t,["model"]);r!=null&&v(n,["_url","model"],ze(e,r));const i=g(t,["contents"]);if(i!=null){let l=ir(i);Array.isArray(l)&&(l=l.map(u=>u)),v(n,["contents"],l)}const o=g(t,["config"]);return o!=null&&s3(o,n),n}function c3(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=g(e,["totalTokens"]);r!=null&&v(t,["totalTokens"],r);const i=g(e,["cachedContentTokenCount"]);return i!=null&&v(t,["cachedContentTokenCount"],i),t}function f3(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=g(e,["totalTokens"]);return r!=null&&v(t,["totalTokens"],r),t}function d3(e,t){const n={},r=g(t,["model"]);return r!=null&&v(n,["_url","name"],ze(e,r)),n}function h3(e,t){const n={},r=g(t,["model"]);return r!=null&&v(n,["_url","name"],ze(e,r)),n}function p3(e){const t={},n=g(e,["sdkHttpResponse"]);return n!=null&&v(t,["sdkHttpResponse"],n),t}function m3(e){const t={},n=g(e,["sdkHttpResponse"]);return n!=null&&v(t,["sdkHttpResponse"],n),t}function g3(e,t){const n={},r=g(e,["outputGcsUri"]);t!==void 0&&r!=null&&v(t,["parameters","storageUri"],r);const i=g(e,["negativePrompt"]);t!==void 0&&i!=null&&v(t,["parameters","negativePrompt"],i);const o=g(e,["numberOfImages"]);t!==void 0&&o!=null&&v(t,["parameters","sampleCount"],o);const l=g(e,["aspectRatio"]);t!==void 0&&l!=null&&v(t,["parameters","aspectRatio"],l);const u=g(e,["guidanceScale"]);t!==void 0&&u!=null&&v(t,["parameters","guidanceScale"],u);const f=g(e,["seed"]);t!==void 0&&f!=null&&v(t,["parameters","seed"],f);const d=g(e,["safetyFilterLevel"]);t!==void 0&&d!=null&&v(t,["parameters","safetySetting"],d);const h=g(e,["personGeneration"]);t!==void 0&&h!=null&&v(t,["parameters","personGeneration"],h);const m=g(e,["includeSafetyAttributes"]);t!==void 0&&m!=null&&v(t,["parameters","includeSafetyAttributes"],m);const y=g(e,["includeRaiReason"]);t!==void 0&&y!=null&&v(t,["parameters","includeRaiReason"],y);const b=g(e,["language"]);t!==void 0&&b!=null&&v(t,["parameters","language"],b);const w=g(e,["outputMimeType"]);t!==void 0&&w!=null&&v(t,["parameters","outputOptions","mimeType"],w);const E=g(e,["outputCompressionQuality"]);t!==void 0&&E!=null&&v(t,["parameters","outputOptions","compressionQuality"],E);const T=g(e,["addWatermark"]);t!==void 0&&T!=null&&v(t,["parameters","addWatermark"],T);const x=g(e,["labels"]);t!==void 0&&x!=null&&v(t,["labels"],x);const O=g(e,["editMode"]);t!==void 0&&O!=null&&v(t,["parameters","editMode"],O);const R=g(e,["baseSteps"]);return t!==void 0&&R!=null&&v(t,["parameters","editConfig","baseSteps"],R),n}function v3(e,t){const n={},r=g(t,["model"]);r!=null&&v(n,["_url","model"],ze(e,r));const i=g(t,["prompt"]);i!=null&&v(n,["instances[0]","prompt"],i);const o=g(t,["referenceImages"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>_$(f))),v(n,["instances[0]","referenceImages"],u)}const l=g(t,["config"]);return l!=null&&g3(l,n),n}function y3(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=g(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Hd(o))),v(t,["generatedImages"],i)}return t}function _3(e,t){const n={},r=g(e,["taskType"]);t!==void 0&&r!=null&&v(t,["requests[]","taskType"],r);const i=g(e,["title"]);t!==void 0&&i!=null&&v(t,["requests[]","title"],i);const o=g(e,["outputDimensionality"]);if(t!==void 0&&o!=null&&v(t,["requests[]","outputDimensionality"],o),g(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(g(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function b3(e,t){const n={},r=g(e,["taskType"]);t!==void 0&&r!=null&&v(t,["instances[]","task_type"],r);const i=g(e,["title"]);t!==void 0&&i!=null&&v(t,["instances[]","title"],i);const o=g(e,["outputDimensionality"]);t!==void 0&&o!=null&&v(t,["parameters","outputDimensionality"],o);const l=g(e,["mimeType"]);t!==void 0&&l!=null&&v(t,["instances[]","mimeType"],l);const u=g(e,["autoTruncate"]);return t!==void 0&&u!=null&&v(t,["parameters","autoTruncate"],u),n}function S3(e,t){const n={},r=g(t,["model"]);r!=null&&v(n,["_url","model"],ze(e,r));const i=g(t,["contents"]);if(i!=null){let u=m0(e,i);Array.isArray(u)&&(u=u.map(f=>f)),v(n,["requests[]","content"],u)}const o=g(t,["config"]);o!=null&&_3(o,n);const l=g(t,["model"]);return l!==void 0&&v(n,["requests[]","model"],ze(e,l)),n}function w3(e,t){const n={},r=g(t,["model"]);r!=null&&v(n,["_url","model"],ze(e,r));const i=g(t,["contents"]);if(i!=null){let l=m0(e,i);Array.isArray(l)&&(l=l.map(u=>u)),v(n,["instances[]","content"],l)}const o=g(t,["config"]);return o!=null&&b3(o,n),n}function E3(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=g(e,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>l)),v(t,["embeddings"],o)}const i=g(e,["metadata"]);return i!=null&&v(t,["metadata"],i),t}function T3(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=g(e,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>r3(l))),v(t,["embeddings"],o)}const i=g(e,["metadata"]);return i!=null&&v(t,["metadata"],i),t}function A3(e){const t={},n=g(e,["endpoint"]);n!=null&&v(t,["name"],n);const r=g(e,["deployedModelId"]);return r!=null&&v(t,["deployedModelId"],r),t}function x3(e){const t={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(e,["fileUri"]);n!=null&&v(t,["fileUri"],n);const r=g(e,["mimeType"]);return r!=null&&v(t,["mimeType"],r),t}function C3(e){const t={},n=g(e,["id"]);n!=null&&v(t,["id"],n);const r=g(e,["args"]);r!=null&&v(t,["args"],r);const i=g(e,["name"]);if(i!=null&&v(t,["name"],i),g(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function R3(e){const t={},n=g(e,["mode"]);n!=null&&v(t,["mode"],n);const r=g(e,["allowedFunctionNames"]);if(r!=null&&v(t,["allowedFunctionNames"],r),g(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function O3(e){const t={};if(g(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=g(e,["description"]);n!=null&&v(t,["description"],n);const r=g(e,["name"]);r!=null&&v(t,["name"],r);const i=g(e,["parameters"]);i!=null&&v(t,["parameters"],i);const o=g(e,["parametersJsonSchema"]);o!=null&&v(t,["parametersJsonSchema"],o);const l=g(e,["response"]);l!=null&&v(t,["response"],l);const u=g(e,["responseJsonSchema"]);return u!=null&&v(t,["responseJsonSchema"],u),t}function P3(e,t,n){const r={},i=g(t,["systemInstruction"]);n!==void 0&&i!=null&&v(n,["systemInstruction"],$d(an(i)));const o=g(t,["temperature"]);o!=null&&v(r,["temperature"],o);const l=g(t,["topP"]);l!=null&&v(r,["topP"],l);const u=g(t,["topK"]);u!=null&&v(r,["topK"],u);const f=g(t,["candidateCount"]);f!=null&&v(r,["candidateCount"],f);const d=g(t,["maxOutputTokens"]);d!=null&&v(r,["maxOutputTokens"],d);const h=g(t,["stopSequences"]);h!=null&&v(r,["stopSequences"],h);const m=g(t,["responseLogprobs"]);m!=null&&v(r,["responseLogprobs"],m);const y=g(t,["logprobs"]);y!=null&&v(r,["logprobs"],y);const b=g(t,["presencePenalty"]);b!=null&&v(r,["presencePenalty"],b);const w=g(t,["frequencyPenalty"]);w!=null&&v(r,["frequencyPenalty"],w);const E=g(t,["seed"]);E!=null&&v(r,["seed"],E);const T=g(t,["responseMimeType"]);T!=null&&v(r,["responseMimeType"],T);const x=g(t,["responseSchema"]);x!=null&&v(r,["responseSchema"],g0(x));const O=g(t,["responseJsonSchema"]);if(O!=null&&v(r,["responseJsonSchema"],O),g(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(g(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const R=g(t,["safetySettings"]);if(n!==void 0&&R!=null){let se=R;Array.isArray(se)&&(se=se.map(he=>b$(he))),v(n,["safetySettings"],se)}const M=g(t,["tools"]);if(n!==void 0&&M!=null){let se=Es(M);Array.isArray(se)&&(se=se.map(he=>C$(ws(he)))),v(n,["tools"],se)}const I=g(t,["toolConfig"]);if(n!==void 0&&I!=null&&v(n,["toolConfig"],x$(I)),g(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const N=g(t,["cachedContent"]);n!==void 0&&N!=null&&v(n,["cachedContent"],Si(e,N));const U=g(t,["responseModalities"]);U!=null&&v(r,["responseModalities"],U);const X=g(t,["mediaResolution"]);X!=null&&v(r,["mediaResolution"],X);const G=g(t,["speechConfig"]);if(G!=null&&v(r,["speechConfig"],v0(G)),g(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ie=g(t,["thinkingConfig"]);ie!=null&&v(r,["thinkingConfig"],ie);const W=g(t,["imageConfig"]);W!=null&&v(r,["imageConfig"],r$(W));const te=g(t,["enableEnhancedCivicAnswers"]);return te!=null&&v(r,["enableEnhancedCivicAnswers"],te),r}function I3(e,t,n){const r={},i=g(t,["systemInstruction"]);n!==void 0&&i!=null&&v(n,["systemInstruction"],an(i));const o=g(t,["temperature"]);o!=null&&v(r,["temperature"],o);const l=g(t,["topP"]);l!=null&&v(r,["topP"],l);const u=g(t,["topK"]);u!=null&&v(r,["topK"],u);const f=g(t,["candidateCount"]);f!=null&&v(r,["candidateCount"],f);const d=g(t,["maxOutputTokens"]);d!=null&&v(r,["maxOutputTokens"],d);const h=g(t,["stopSequences"]);h!=null&&v(r,["stopSequences"],h);const m=g(t,["responseLogprobs"]);m!=null&&v(r,["responseLogprobs"],m);const y=g(t,["logprobs"]);y!=null&&v(r,["logprobs"],y);const b=g(t,["presencePenalty"]);b!=null&&v(r,["presencePenalty"],b);const w=g(t,["frequencyPenalty"]);w!=null&&v(r,["frequencyPenalty"],w);const E=g(t,["seed"]);E!=null&&v(r,["seed"],E);const T=g(t,["responseMimeType"]);T!=null&&v(r,["responseMimeType"],T);const x=g(t,["responseSchema"]);x!=null&&v(r,["responseSchema"],g0(x));const O=g(t,["responseJsonSchema"]);O!=null&&v(r,["responseJsonSchema"],O);const R=g(t,["routingConfig"]);R!=null&&v(r,["routingConfig"],R);const M=g(t,["modelSelectionConfig"]);M!=null&&v(r,["modelConfig"],M);const I=g(t,["safetySettings"]);if(n!==void 0&&I!=null){let z=I;Array.isArray(z)&&(z=z.map(Z=>Z)),v(n,["safetySettings"],z)}const N=g(t,["tools"]);if(n!==void 0&&N!=null){let z=Es(N);Array.isArray(z)&&(z=z.map(Z=>tP(ws(Z)))),v(n,["tools"],z)}const U=g(t,["toolConfig"]);n!==void 0&&U!=null&&v(n,["toolConfig"],U);const X=g(t,["labels"]);n!==void 0&&X!=null&&v(n,["labels"],X);const G=g(t,["cachedContent"]);n!==void 0&&G!=null&&v(n,["cachedContent"],Si(e,G));const ie=g(t,["responseModalities"]);ie!=null&&v(r,["responseModalities"],ie);const W=g(t,["mediaResolution"]);W!=null&&v(r,["mediaResolution"],W);const te=g(t,["speechConfig"]);te!=null&&v(r,["speechConfig"],eP(v0(te)));const se=g(t,["audioTimestamp"]);se!=null&&v(r,["audioTimestamp"],se);const he=g(t,["thinkingConfig"]);he!=null&&v(r,["thinkingConfig"],he);const Ae=g(t,["imageConfig"]);if(Ae!=null&&v(r,["imageConfig"],i$(Ae)),g(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return r}function kA(e,t){const n={},r=g(t,["model"]);r!=null&&v(n,["_url","model"],ze(e,r));const i=g(t,["contents"]);if(i!=null){let l=ir(i);Array.isArray(l)&&(l=l.map(u=>$d(u))),v(n,["contents"],l)}const o=g(t,["config"]);return o!=null&&v(n,["generationConfig"],P3(e,o,n)),n}function DA(e,t){const n={},r=g(t,["model"]);r!=null&&v(n,["_url","model"],ze(e,r));const i=g(t,["contents"]);if(i!=null){let l=ir(i);Array.isArray(l)&&(l=l.map(u=>u)),v(n,["contents"],l)}const o=g(t,["config"]);return o!=null&&v(n,["generationConfig"],I3(e,o,n)),n}function UA(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=g(e,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(d=>Zz(d))),v(t,["candidates"],f)}const i=g(e,["modelVersion"]);i!=null&&v(t,["modelVersion"],i);const o=g(e,["promptFeedback"]);o!=null&&v(t,["promptFeedback"],o);const l=g(e,["responseId"]);l!=null&&v(t,["responseId"],l);const u=g(e,["usageMetadata"]);return u!=null&&v(t,["usageMetadata"],u),t}function LA(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=g(e,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(h=>h)),v(t,["candidates"],d)}const i=g(e,["createTime"]);i!=null&&v(t,["createTime"],i);const o=g(e,["modelVersion"]);o!=null&&v(t,["modelVersion"],o);const l=g(e,["promptFeedback"]);l!=null&&v(t,["promptFeedback"],l);const u=g(e,["responseId"]);u!=null&&v(t,["responseId"],u);const f=g(e,["usageMetadata"]);return f!=null&&v(t,["usageMetadata"],f),t}function M3(e,t){const n={};if(g(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(g(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=g(e,["numberOfImages"]);t!==void 0&&r!=null&&v(t,["parameters","sampleCount"],r);const i=g(e,["aspectRatio"]);t!==void 0&&i!=null&&v(t,["parameters","aspectRatio"],i);const o=g(e,["guidanceScale"]);if(t!==void 0&&o!=null&&v(t,["parameters","guidanceScale"],o),g(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=g(e,["safetyFilterLevel"]);t!==void 0&&l!=null&&v(t,["parameters","safetySetting"],l);const u=g(e,["personGeneration"]);t!==void 0&&u!=null&&v(t,["parameters","personGeneration"],u);const f=g(e,["includeSafetyAttributes"]);t!==void 0&&f!=null&&v(t,["parameters","includeSafetyAttributes"],f);const d=g(e,["includeRaiReason"]);t!==void 0&&d!=null&&v(t,["parameters","includeRaiReason"],d);const h=g(e,["language"]);t!==void 0&&h!=null&&v(t,["parameters","language"],h);const m=g(e,["outputMimeType"]);t!==void 0&&m!=null&&v(t,["parameters","outputOptions","mimeType"],m);const y=g(e,["outputCompressionQuality"]);if(t!==void 0&&y!=null&&v(t,["parameters","outputOptions","compressionQuality"],y),g(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(g(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const b=g(e,["imageSize"]);if(t!==void 0&&b!=null&&v(t,["parameters","sampleImageSize"],b),g(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function N3(e,t){const n={},r=g(e,["outputGcsUri"]);t!==void 0&&r!=null&&v(t,["parameters","storageUri"],r);const i=g(e,["negativePrompt"]);t!==void 0&&i!=null&&v(t,["parameters","negativePrompt"],i);const o=g(e,["numberOfImages"]);t!==void 0&&o!=null&&v(t,["parameters","sampleCount"],o);const l=g(e,["aspectRatio"]);t!==void 0&&l!=null&&v(t,["parameters","aspectRatio"],l);const u=g(e,["guidanceScale"]);t!==void 0&&u!=null&&v(t,["parameters","guidanceScale"],u);const f=g(e,["seed"]);t!==void 0&&f!=null&&v(t,["parameters","seed"],f);const d=g(e,["safetyFilterLevel"]);t!==void 0&&d!=null&&v(t,["parameters","safetySetting"],d);const h=g(e,["personGeneration"]);t!==void 0&&h!=null&&v(t,["parameters","personGeneration"],h);const m=g(e,["includeSafetyAttributes"]);t!==void 0&&m!=null&&v(t,["parameters","includeSafetyAttributes"],m);const y=g(e,["includeRaiReason"]);t!==void 0&&y!=null&&v(t,["parameters","includeRaiReason"],y);const b=g(e,["language"]);t!==void 0&&b!=null&&v(t,["parameters","language"],b);const w=g(e,["outputMimeType"]);t!==void 0&&w!=null&&v(t,["parameters","outputOptions","mimeType"],w);const E=g(e,["outputCompressionQuality"]);t!==void 0&&E!=null&&v(t,["parameters","outputOptions","compressionQuality"],E);const T=g(e,["addWatermark"]);t!==void 0&&T!=null&&v(t,["parameters","addWatermark"],T);const x=g(e,["labels"]);t!==void 0&&x!=null&&v(t,["labels"],x);const O=g(e,["imageSize"]);t!==void 0&&O!=null&&v(t,["parameters","sampleImageSize"],O);const R=g(e,["enhancePrompt"]);return t!==void 0&&R!=null&&v(t,["parameters","enhancePrompt"],R),n}function k3(e,t){const n={},r=g(t,["model"]);r!=null&&v(n,["_url","model"],ze(e,r));const i=g(t,["prompt"]);i!=null&&v(n,["instances[0]","prompt"],i);const o=g(t,["config"]);return o!=null&&M3(o,n),n}function D3(e,t){const n={},r=g(t,["model"]);r!=null&&v(n,["_url","model"],ze(e,r));const i=g(t,["prompt"]);i!=null&&v(n,["instances[0]","prompt"],i);const o=g(t,["config"]);return o!=null&&N3(o,n),n}function U3(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=g(e,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>Y3(l))),v(t,["generatedImages"],o)}const i=g(e,["positivePromptSafetyAttributes"]);return i!=null&&v(t,["positivePromptSafetyAttributes"],QO(i)),t}function L3(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=g(e,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>Hd(l))),v(t,["generatedImages"],o)}const i=g(e,["positivePromptSafetyAttributes"]);return i!=null&&v(t,["positivePromptSafetyAttributes"],ZO(i)),t}function q3(e,t){const n={},r=g(e,["numberOfVideos"]);if(t!==void 0&&r!=null&&v(t,["parameters","sampleCount"],r),g(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(g(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=g(e,["durationSeconds"]);if(t!==void 0&&i!=null&&v(t,["parameters","durationSeconds"],i),g(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=g(e,["aspectRatio"]);t!==void 0&&o!=null&&v(t,["parameters","aspectRatio"],o);const l=g(e,["resolution"]);t!==void 0&&l!=null&&v(t,["parameters","resolution"],l);const u=g(e,["personGeneration"]);if(t!==void 0&&u!=null&&v(t,["parameters","personGeneration"],u),g(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const f=g(e,["negativePrompt"]);t!==void 0&&f!=null&&v(t,["parameters","negativePrompt"],f);const d=g(e,["enhancePrompt"]);if(t!==void 0&&d!=null&&v(t,["parameters","enhancePrompt"],d),g(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const h=g(e,["lastFrame"]);t!==void 0&&h!=null&&v(t,["instances[0]","lastFrame"],jd(h));const m=g(e,["referenceImages"]);if(t!==void 0&&m!=null){let y=m;Array.isArray(y)&&(y=y.map(b=>z$(b))),v(t,["instances[0]","referenceImages"],y)}if(g(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(g(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function B3(e,t){const n={},r=g(e,["numberOfVideos"]);t!==void 0&&r!=null&&v(t,["parameters","sampleCount"],r);const i=g(e,["outputGcsUri"]);t!==void 0&&i!=null&&v(t,["parameters","storageUri"],i);const o=g(e,["fps"]);t!==void 0&&o!=null&&v(t,["parameters","fps"],o);const l=g(e,["durationSeconds"]);t!==void 0&&l!=null&&v(t,["parameters","durationSeconds"],l);const u=g(e,["seed"]);t!==void 0&&u!=null&&v(t,["parameters","seed"],u);const f=g(e,["aspectRatio"]);t!==void 0&&f!=null&&v(t,["parameters","aspectRatio"],f);const d=g(e,["resolution"]);t!==void 0&&d!=null&&v(t,["parameters","resolution"],d);const h=g(e,["personGeneration"]);t!==void 0&&h!=null&&v(t,["parameters","personGeneration"],h);const m=g(e,["pubsubTopic"]);t!==void 0&&m!=null&&v(t,["parameters","pubsubTopic"],m);const y=g(e,["negativePrompt"]);t!==void 0&&y!=null&&v(t,["parameters","negativePrompt"],y);const b=g(e,["enhancePrompt"]);t!==void 0&&b!=null&&v(t,["parameters","enhancePrompt"],b);const w=g(e,["generateAudio"]);t!==void 0&&w!=null&&v(t,["parameters","generateAudio"],w);const E=g(e,["lastFrame"]);t!==void 0&&E!=null&&v(t,["instances[0]","lastFrame"],Er(E));const T=g(e,["referenceImages"]);if(t!==void 0&&T!=null){let R=T;Array.isArray(R)&&(R=R.map(M=>$$(M))),v(t,["instances[0]","referenceImages"],R)}const x=g(e,["mask"]);t!==void 0&&x!=null&&v(t,["instances[0]","mask"],B$(x));const O=g(e,["compressionQuality"]);return t!==void 0&&O!=null&&v(t,["parameters","compressionQuality"],O),n}function z3(e){const t={},n=g(e,["name"]);n!=null&&v(t,["name"],n);const r=g(e,["metadata"]);r!=null&&v(t,["metadata"],r);const i=g(e,["done"]);i!=null&&v(t,["done"],i);const o=g(e,["error"]);o!=null&&v(t,["error"],o);const l=g(e,["response","generateVideoResponse"]);return l!=null&&v(t,["response"],G3(l)),t}function $3(e){const t={},n=g(e,["name"]);n!=null&&v(t,["name"],n);const r=g(e,["metadata"]);r!=null&&v(t,["metadata"],r);const i=g(e,["done"]);i!=null&&v(t,["done"],i);const o=g(e,["error"]);o!=null&&v(t,["error"],o);const l=g(e,["response"]);return l!=null&&v(t,["response"],F3(l)),t}function H3(e,t){const n={},r=g(t,["model"]);r!=null&&v(n,["_url","model"],ze(e,r));const i=g(t,["prompt"]);i!=null&&v(n,["instances[0]","prompt"],i);const o=g(t,["image"]);o!=null&&v(n,["instances[0]","image"],jd(o));const l=g(t,["video"]);l!=null&&v(n,["instances[0]","video"],nP(l));const u=g(t,["source"]);u!=null&&V3(u,n);const f=g(t,["config"]);return f!=null&&q3(f,n),n}function j3(e,t){const n={},r=g(t,["model"]);r!=null&&v(n,["_url","model"],ze(e,r));const i=g(t,["prompt"]);i!=null&&v(n,["instances[0]","prompt"],i);const o=g(t,["image"]);o!=null&&v(n,["instances[0]","image"],Er(o));const l=g(t,["video"]);l!=null&&v(n,["instances[0]","video"],rP(l));const u=g(t,["source"]);u!=null&&K3(u,n);const f=g(t,["config"]);return f!=null&&B3(f,n),n}function G3(e){const t={},n=g(e,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>W3(l))),v(t,["generatedVideos"],o)}const r=g(e,["raiMediaFilteredCount"]);r!=null&&v(t,["raiMediaFilteredCount"],r);const i=g(e,["raiMediaFilteredReasons"]);return i!=null&&v(t,["raiMediaFilteredReasons"],i),t}function F3(e){const t={},n=g(e,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>X3(l))),v(t,["generatedVideos"],o)}const r=g(e,["raiMediaFilteredCount"]);r!=null&&v(t,["raiMediaFilteredCount"],r);const i=g(e,["raiMediaFilteredReasons"]);return i!=null&&v(t,["raiMediaFilteredReasons"],i),t}function V3(e,t){const n={},r=g(e,["prompt"]);t!==void 0&&r!=null&&v(t,["instances[0]","prompt"],r);const i=g(e,["image"]);t!==void 0&&i!=null&&v(t,["instances[0]","image"],jd(i));const o=g(e,["video"]);return t!==void 0&&o!=null&&v(t,["instances[0]","video"],nP(o)),n}function K3(e,t){const n={},r=g(e,["prompt"]);t!==void 0&&r!=null&&v(t,["instances[0]","prompt"],r);const i=g(e,["image"]);t!==void 0&&i!=null&&v(t,["instances[0]","image"],Er(i));const o=g(e,["video"]);return t!==void 0&&o!=null&&v(t,["instances[0]","video"],rP(o)),n}function Y3(e){const t={},n=g(e,["_self"]);n!=null&&v(t,["image"],a$(n));const r=g(e,["raiFilteredReason"]);r!=null&&v(t,["raiFilteredReason"],r);const i=g(e,["_self"]);return i!=null&&v(t,["safetyAttributes"],QO(i)),t}function Hd(e){const t={},n=g(e,["_self"]);n!=null&&v(t,["image"],XO(n));const r=g(e,["raiFilteredReason"]);r!=null&&v(t,["raiFilteredReason"],r);const i=g(e,["_self"]);i!=null&&v(t,["safetyAttributes"],ZO(i));const o=g(e,["prompt"]);return o!=null&&v(t,["enhancedPrompt"],o),t}function J3(e){const t={},n=g(e,["_self"]);n!=null&&v(t,["mask"],XO(n));const r=g(e,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),v(t,["labels"],i)}return t}function W3(e){const t={},n=g(e,["video"]);return n!=null&&v(t,["video"],L$(n)),t}function X3(e){const t={},n=g(e,["_self"]);return n!=null&&v(t,["video"],q$(n)),t}function Q3(e){const t={},n=g(e,["modelSelectionConfig"]);n!=null&&v(t,["modelConfig"],n);const r=g(e,["responseJsonSchema"]);r!=null&&v(t,["responseJsonSchema"],r);const i=g(e,["audioTimestamp"]);i!=null&&v(t,["audioTimestamp"],i);const o=g(e,["candidateCount"]);o!=null&&v(t,["candidateCount"],o);const l=g(e,["enableAffectiveDialog"]);l!=null&&v(t,["enableAffectiveDialog"],l);const u=g(e,["frequencyPenalty"]);u!=null&&v(t,["frequencyPenalty"],u);const f=g(e,["logprobs"]);f!=null&&v(t,["logprobs"],f);const d=g(e,["maxOutputTokens"]);d!=null&&v(t,["maxOutputTokens"],d);const h=g(e,["mediaResolution"]);h!=null&&v(t,["mediaResolution"],h);const m=g(e,["presencePenalty"]);m!=null&&v(t,["presencePenalty"],m);const y=g(e,["responseLogprobs"]);y!=null&&v(t,["responseLogprobs"],y);const b=g(e,["responseMimeType"]);b!=null&&v(t,["responseMimeType"],b);const w=g(e,["responseModalities"]);w!=null&&v(t,["responseModalities"],w);const E=g(e,["responseSchema"]);E!=null&&v(t,["responseSchema"],E);const T=g(e,["routingConfig"]);T!=null&&v(t,["routingConfig"],T);const x=g(e,["seed"]);x!=null&&v(t,["seed"],x);const O=g(e,["speechConfig"]);O!=null&&v(t,["speechConfig"],eP(O));const R=g(e,["stopSequences"]);R!=null&&v(t,["stopSequences"],R);const M=g(e,["temperature"]);M!=null&&v(t,["temperature"],M);const I=g(e,["thinkingConfig"]);I!=null&&v(t,["thinkingConfig"],I);const N=g(e,["topK"]);N!=null&&v(t,["topK"],N);const U=g(e,["topP"]);if(U!=null&&v(t,["topP"],U),g(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function Z3(e,t){const n={},r=g(t,["model"]);return r!=null&&v(n,["_url","name"],ze(e,r)),n}function e$(e,t){const n={},r=g(t,["model"]);return r!=null&&v(n,["_url","name"],ze(e,r)),n}function t$(e){const t={};if(g(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(e,["enableWidget"]);return n!=null&&v(t,["enableWidget"],n),t}function n$(e){const t={};if(g(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(e,["timeRangeFilter"]);return n!=null&&v(t,["timeRangeFilter"],n),t}function r$(e){const t={},n=g(e,["aspectRatio"]);n!=null&&v(t,["aspectRatio"],n);const r=g(e,["imageSize"]);if(r!=null&&v(t,["imageSize"],r),g(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(g(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function i$(e){const t={},n=g(e,["aspectRatio"]);n!=null&&v(t,["aspectRatio"],n);const r=g(e,["imageSize"]);r!=null&&v(t,["imageSize"],r);const i=g(e,["outputMimeType"]);i!=null&&v(t,["imageOutputOptions","mimeType"],i);const o=g(e,["outputCompressionQuality"]);return o!=null&&v(t,["imageOutputOptions","compressionQuality"],o),t}function a$(e){const t={},n=g(e,["bytesBase64Encoded"]);n!=null&&v(t,["imageBytes"],la(n));const r=g(e,["mimeType"]);return r!=null&&v(t,["mimeType"],r),t}function XO(e){const t={},n=g(e,["gcsUri"]);n!=null&&v(t,["gcsUri"],n);const r=g(e,["bytesBase64Encoded"]);r!=null&&v(t,["imageBytes"],la(r));const i=g(e,["mimeType"]);return i!=null&&v(t,["mimeType"],i),t}function jd(e){const t={};if(g(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=g(e,["imageBytes"]);n!=null&&v(t,["bytesBase64Encoded"],la(n));const r=g(e,["mimeType"]);return r!=null&&v(t,["mimeType"],r),t}function Er(e){const t={},n=g(e,["gcsUri"]);n!=null&&v(t,["gcsUri"],n);const r=g(e,["imageBytes"]);r!=null&&v(t,["bytesBase64Encoded"],la(r));const i=g(e,["mimeType"]);return i!=null&&v(t,["mimeType"],i),t}function o$(e,t,n){const r={},i=g(t,["pageSize"]);n!==void 0&&i!=null&&v(n,["_query","pageSize"],i);const o=g(t,["pageToken"]);n!==void 0&&o!=null&&v(n,["_query","pageToken"],o);const l=g(t,["filter"]);n!==void 0&&l!=null&&v(n,["_query","filter"],l);const u=g(t,["queryBase"]);return n!==void 0&&u!=null&&v(n,["_url","models_url"],jO(e,u)),r}function s$(e,t,n){const r={},i=g(t,["pageSize"]);n!==void 0&&i!=null&&v(n,["_query","pageSize"],i);const o=g(t,["pageToken"]);n!==void 0&&o!=null&&v(n,["_query","pageToken"],o);const l=g(t,["filter"]);n!==void 0&&l!=null&&v(n,["_query","filter"],l);const u=g(t,["queryBase"]);return n!==void 0&&u!=null&&v(n,["_url","models_url"],jO(e,u)),r}function l$(e,t){const n={},r=g(t,["config"]);return r!=null&&o$(e,r,n),n}function u$(e,t){const n={},r=g(t,["config"]);return r!=null&&s$(e,r,n),n}function c$(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=g(e,["nextPageToken"]);r!=null&&v(t,["nextPageToken"],r);const i=g(e,["_self"]);if(i!=null){let o=GO(i);Array.isArray(o)&&(o=o.map(l=>Kv(l))),v(t,["models"],o)}return t}function f$(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=g(e,["nextPageToken"]);r!=null&&v(t,["nextPageToken"],r);const i=g(e,["_self"]);if(i!=null){let o=GO(i);Array.isArray(o)&&(o=o.map(l=>Yv(l))),v(t,["models"],o)}return t}function d$(e){const t={},n=g(e,["maskMode"]);n!=null&&v(t,["maskMode"],n);const r=g(e,["segmentationClasses"]);r!=null&&v(t,["maskClasses"],r);const i=g(e,["maskDilation"]);return i!=null&&v(t,["dilation"],i),t}function Kv(e){const t={},n=g(e,["name"]);n!=null&&v(t,["name"],n);const r=g(e,["displayName"]);r!=null&&v(t,["displayName"],r);const i=g(e,["description"]);i!=null&&v(t,["description"],i);const o=g(e,["version"]);o!=null&&v(t,["version"],o);const l=g(e,["_self"]);l!=null&&v(t,["tunedModelInfo"],R$(l));const u=g(e,["inputTokenLimit"]);u!=null&&v(t,["inputTokenLimit"],u);const f=g(e,["outputTokenLimit"]);f!=null&&v(t,["outputTokenLimit"],f);const d=g(e,["supportedGenerationMethods"]);d!=null&&v(t,["supportedActions"],d);const h=g(e,["temperature"]);h!=null&&v(t,["temperature"],h);const m=g(e,["maxTemperature"]);m!=null&&v(t,["maxTemperature"],m);const y=g(e,["topP"]);y!=null&&v(t,["topP"],y);const b=g(e,["topK"]);b!=null&&v(t,["topK"],b);const w=g(e,["thinking"]);return w!=null&&v(t,["thinking"],w),t}function Yv(e){const t={},n=g(e,["name"]);n!=null&&v(t,["name"],n);const r=g(e,["displayName"]);r!=null&&v(t,["displayName"],r);const i=g(e,["description"]);i!=null&&v(t,["description"],i);const o=g(e,["versionId"]);o!=null&&v(t,["version"],o);const l=g(e,["deployedModels"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(y=>A3(y))),v(t,["endpoints"],m)}const u=g(e,["labels"]);u!=null&&v(t,["labels"],u);const f=g(e,["_self"]);f!=null&&v(t,["tunedModelInfo"],O$(f));const d=g(e,["defaultCheckpointId"]);d!=null&&v(t,["defaultCheckpointId"],d);const h=g(e,["checkpoints"]);if(h!=null){let m=h;Array.isArray(m)&&(m=m.map(y=>y)),v(t,["checkpoints"],m)}return t}function h$(e){const t={},n=g(e,["mediaResolution"]);n!=null&&v(t,["mediaResolution"],n);const r=g(e,["codeExecutionResult"]);r!=null&&v(t,["codeExecutionResult"],r);const i=g(e,["executableCode"]);i!=null&&v(t,["executableCode"],i);const o=g(e,["fileData"]);o!=null&&v(t,["fileData"],x3(o));const l=g(e,["functionCall"]);l!=null&&v(t,["functionCall"],C3(l));const u=g(e,["functionResponse"]);u!=null&&v(t,["functionResponse"],u);const f=g(e,["inlineData"]);f!=null&&v(t,["inlineData"],Qz(f));const d=g(e,["text"]);d!=null&&v(t,["text"],d);const h=g(e,["thought"]);h!=null&&v(t,["thought"],h);const m=g(e,["thoughtSignature"]);m!=null&&v(t,["thoughtSignature"],m);const y=g(e,["videoMetadata"]);return y!=null&&v(t,["videoMetadata"],y),t}function p$(e){const t={},n=g(e,["productImage"]);return n!=null&&v(t,["image"],Er(n)),t}function m$(e,t){const n={},r=g(e,["numberOfImages"]);t!==void 0&&r!=null&&v(t,["parameters","sampleCount"],r);const i=g(e,["baseSteps"]);t!==void 0&&i!=null&&v(t,["parameters","baseSteps"],i);const o=g(e,["outputGcsUri"]);t!==void 0&&o!=null&&v(t,["parameters","storageUri"],o);const l=g(e,["seed"]);t!==void 0&&l!=null&&v(t,["parameters","seed"],l);const u=g(e,["safetyFilterLevel"]);t!==void 0&&u!=null&&v(t,["parameters","safetySetting"],u);const f=g(e,["personGeneration"]);t!==void 0&&f!=null&&v(t,["parameters","personGeneration"],f);const d=g(e,["addWatermark"]);t!==void 0&&d!=null&&v(t,["parameters","addWatermark"],d);const h=g(e,["outputMimeType"]);t!==void 0&&h!=null&&v(t,["parameters","outputOptions","mimeType"],h);const m=g(e,["outputCompressionQuality"]);t!==void 0&&m!=null&&v(t,["parameters","outputOptions","compressionQuality"],m);const y=g(e,["enhancePrompt"]);t!==void 0&&y!=null&&v(t,["parameters","enhancePrompt"],y);const b=g(e,["labels"]);return t!==void 0&&b!=null&&v(t,["labels"],b),n}function g$(e,t){const n={},r=g(t,["model"]);r!=null&&v(n,["_url","model"],ze(e,r));const i=g(t,["source"]);i!=null&&y$(i,n);const o=g(t,["config"]);return o!=null&&m$(o,n),n}function v$(e){const t={},n=g(e,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Hd(i))),v(t,["generatedImages"],r)}return t}function y$(e,t){const n={},r=g(e,["prompt"]);t!==void 0&&r!=null&&v(t,["instances[0]","prompt"],r);const i=g(e,["personImage"]);t!==void 0&&i!=null&&v(t,["instances[0]","personImage","image"],Er(i));const o=g(e,["productImages"]);if(t!==void 0&&o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>p$(u))),v(t,["instances[0]","productImages"],l)}return n}function _$(e){const t={},n=g(e,["referenceImage"]);n!=null&&v(t,["referenceImage"],Er(n));const r=g(e,["referenceId"]);r!=null&&v(t,["referenceId"],r);const i=g(e,["referenceType"]);i!=null&&v(t,["referenceType"],i);const o=g(e,["maskImageConfig"]);o!=null&&v(t,["maskImageConfig"],d$(o));const l=g(e,["controlImageConfig"]);l!=null&&v(t,["controlImageConfig"],a3(l));const u=g(e,["styleImageConfig"]);u!=null&&v(t,["styleImageConfig"],u);const f=g(e,["subjectImageConfig"]);return f!=null&&v(t,["subjectImageConfig"],f),t}function QO(e){const t={},n=g(e,["safetyAttributes","categories"]);n!=null&&v(t,["categories"],n);const r=g(e,["safetyAttributes","scores"]);r!=null&&v(t,["scores"],r);const i=g(e,["contentType"]);return i!=null&&v(t,["contentType"],i),t}function ZO(e){const t={},n=g(e,["safetyAttributes","categories"]);n!=null&&v(t,["categories"],n);const r=g(e,["safetyAttributes","scores"]);r!=null&&v(t,["scores"],r);const i=g(e,["contentType"]);return i!=null&&v(t,["contentType"],i),t}function b$(e){const t={},n=g(e,["category"]);if(n!=null&&v(t,["category"],n),g(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=g(e,["threshold"]);return r!=null&&v(t,["threshold"],r),t}function S$(e){const t={},n=g(e,["image"]);return n!=null&&v(t,["image"],Er(n)),t}function w$(e,t){const n={},r=g(e,["mode"]);t!==void 0&&r!=null&&v(t,["parameters","mode"],r);const i=g(e,["maxPredictions"]);t!==void 0&&i!=null&&v(t,["parameters","maxPredictions"],i);const o=g(e,["confidenceThreshold"]);t!==void 0&&o!=null&&v(t,["parameters","confidenceThreshold"],o);const l=g(e,["maskDilation"]);t!==void 0&&l!=null&&v(t,["parameters","maskDilation"],l);const u=g(e,["binaryColorThreshold"]);t!==void 0&&u!=null&&v(t,["parameters","binaryColorThreshold"],u);const f=g(e,["labels"]);return t!==void 0&&f!=null&&v(t,["labels"],f),n}function E$(e,t){const n={},r=g(t,["model"]);r!=null&&v(n,["_url","model"],ze(e,r));const i=g(t,["source"]);i!=null&&A$(i,n);const o=g(t,["config"]);return o!=null&&w$(o,n),n}function T$(e){const t={},n=g(e,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>J3(i))),v(t,["generatedMasks"],r)}return t}function A$(e,t){const n={},r=g(e,["prompt"]);t!==void 0&&r!=null&&v(t,["instances[0]","prompt"],r);const i=g(e,["image"]);t!==void 0&&i!=null&&v(t,["instances[0]","image"],Er(i));const o=g(e,["scribbleImage"]);return t!==void 0&&o!=null&&v(t,["instances[0]","scribble"],S$(o)),n}function eP(e){const t={},n=g(e,["voiceConfig"]);n!=null&&v(t,["voiceConfig"],n);const r=g(e,["languageCode"]);if(r!=null&&v(t,["languageCode"],r),g(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function x$(e){const t={},n=g(e,["functionCallingConfig"]);n!=null&&v(t,["functionCallingConfig"],R3(n));const r=g(e,["retrievalConfig"]);return r!=null&&v(t,["retrievalConfig"],r),t}function C$(e){const t={},n=g(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),v(t,["functionDeclarations"],h)}if(g(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(e,["googleSearchRetrieval"]);r!=null&&v(t,["googleSearchRetrieval"],r);const i=g(e,["computerUse"]);i!=null&&v(t,["computerUse"],i);const o=g(e,["fileSearch"]);o!=null&&v(t,["fileSearch"],o);const l=g(e,["codeExecution"]);if(l!=null&&v(t,["codeExecution"],l),g(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=g(e,["googleMaps"]);u!=null&&v(t,["googleMaps"],t$(u));const f=g(e,["googleSearch"]);f!=null&&v(t,["googleSearch"],n$(f));const d=g(e,["urlContext"]);return d!=null&&v(t,["urlContext"],d),t}function tP(e){const t={},n=g(e,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(y=>O3(y))),v(t,["functionDeclarations"],m)}const r=g(e,["retrieval"]);r!=null&&v(t,["retrieval"],r);const i=g(e,["googleSearchRetrieval"]);i!=null&&v(t,["googleSearchRetrieval"],i);const o=g(e,["computerUse"]);if(o!=null&&v(t,["computerUse"],o),g(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=g(e,["codeExecution"]);l!=null&&v(t,["codeExecution"],l);const u=g(e,["enterpriseWebSearch"]);u!=null&&v(t,["enterpriseWebSearch"],u);const f=g(e,["googleMaps"]);f!=null&&v(t,["googleMaps"],f);const d=g(e,["googleSearch"]);d!=null&&v(t,["googleSearch"],d);const h=g(e,["urlContext"]);return h!=null&&v(t,["urlContext"],h),t}function R$(e){const t={},n=g(e,["baseModel"]);n!=null&&v(t,["baseModel"],n);const r=g(e,["createTime"]);r!=null&&v(t,["createTime"],r);const i=g(e,["updateTime"]);return i!=null&&v(t,["updateTime"],i),t}function O$(e){const t={},n=g(e,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&v(t,["baseModel"],n);const r=g(e,["createTime"]);r!=null&&v(t,["createTime"],r);const i=g(e,["updateTime"]);return i!=null&&v(t,["updateTime"],i),t}function P$(e,t){const n={},r=g(e,["displayName"]);t!==void 0&&r!=null&&v(t,["displayName"],r);const i=g(e,["description"]);t!==void 0&&i!=null&&v(t,["description"],i);const o=g(e,["defaultCheckpointId"]);return t!==void 0&&o!=null&&v(t,["defaultCheckpointId"],o),n}function I$(e,t){const n={},r=g(e,["displayName"]);t!==void 0&&r!=null&&v(t,["displayName"],r);const i=g(e,["description"]);t!==void 0&&i!=null&&v(t,["description"],i);const o=g(e,["defaultCheckpointId"]);return t!==void 0&&o!=null&&v(t,["defaultCheckpointId"],o),n}function M$(e,t){const n={},r=g(t,["model"]);r!=null&&v(n,["_url","name"],ze(e,r));const i=g(t,["config"]);return i!=null&&P$(i,n),n}function N$(e,t){const n={},r=g(t,["model"]);r!=null&&v(n,["_url","model"],ze(e,r));const i=g(t,["config"]);return i!=null&&I$(i,n),n}function k$(e,t){const n={},r=g(e,["outputGcsUri"]);t!==void 0&&r!=null&&v(t,["parameters","storageUri"],r);const i=g(e,["safetyFilterLevel"]);t!==void 0&&i!=null&&v(t,["parameters","safetySetting"],i);const o=g(e,["personGeneration"]);t!==void 0&&o!=null&&v(t,["parameters","personGeneration"],o);const l=g(e,["includeRaiReason"]);t!==void 0&&l!=null&&v(t,["parameters","includeRaiReason"],l);const u=g(e,["outputMimeType"]);t!==void 0&&u!=null&&v(t,["parameters","outputOptions","mimeType"],u);const f=g(e,["outputCompressionQuality"]);t!==void 0&&f!=null&&v(t,["parameters","outputOptions","compressionQuality"],f);const d=g(e,["enhanceInputImage"]);t!==void 0&&d!=null&&v(t,["parameters","upscaleConfig","enhanceInputImage"],d);const h=g(e,["imagePreservationFactor"]);t!==void 0&&h!=null&&v(t,["parameters","upscaleConfig","imagePreservationFactor"],h);const m=g(e,["labels"]);t!==void 0&&m!=null&&v(t,["labels"],m);const y=g(e,["numberOfImages"]);t!==void 0&&y!=null&&v(t,["parameters","sampleCount"],y);const b=g(e,["mode"]);return t!==void 0&&b!=null&&v(t,["parameters","mode"],b),n}function D$(e,t){const n={},r=g(t,["model"]);r!=null&&v(n,["_url","model"],ze(e,r));const i=g(t,["image"]);i!=null&&v(n,["instances[0]","image"],Er(i));const o=g(t,["upscaleFactor"]);o!=null&&v(n,["parameters","upscaleConfig","upscaleFactor"],o);const l=g(t,["config"]);return l!=null&&k$(l,n),n}function U$(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=g(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Hd(o))),v(t,["generatedImages"],i)}return t}function L$(e){const t={},n=g(e,["uri"]);n!=null&&v(t,["uri"],n);const r=g(e,["encodedVideo"]);r!=null&&v(t,["videoBytes"],la(r));const i=g(e,["encoding"]);return i!=null&&v(t,["mimeType"],i),t}function q$(e){const t={},n=g(e,["gcsUri"]);n!=null&&v(t,["uri"],n);const r=g(e,["bytesBase64Encoded"]);r!=null&&v(t,["videoBytes"],la(r));const i=g(e,["mimeType"]);return i!=null&&v(t,["mimeType"],i),t}function B$(e){const t={},n=g(e,["image"]);n!=null&&v(t,["_self"],Er(n));const r=g(e,["maskMode"]);return r!=null&&v(t,["maskMode"],r),t}function z$(e){const t={},n=g(e,["image"]);n!=null&&v(t,["image"],jd(n));const r=g(e,["referenceType"]);return r!=null&&v(t,["referenceType"],r),t}function $$(e){const t={},n=g(e,["image"]);n!=null&&v(t,["image"],Er(n));const r=g(e,["referenceType"]);return r!=null&&v(t,["referenceType"],r),t}function nP(e){const t={},n=g(e,["uri"]);n!=null&&v(t,["uri"],n);const r=g(e,["videoBytes"]);r!=null&&v(t,["encodedVideo"],la(r));const i=g(e,["mimeType"]);return i!=null&&v(t,["encoding"],i),t}function rP(e){const t={},n=g(e,["uri"]);n!=null&&v(t,["gcsUri"],n);const r=g(e,["videoBytes"]);r!=null&&v(t,["bytesBase64Encoded"],la(r));const i=g(e,["mimeType"]);return i!=null&&v(t,["mimeType"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function H$(e,t){const n={},r=g(e,["displayName"]);return t!==void 0&&r!=null&&v(t,["displayName"],r),n}function j$(e){const t={},n=g(e,["config"]);return n!=null&&H$(n,t),t}function G$(e,t){const n={},r=g(e,["force"]);return t!==void 0&&r!=null&&v(t,["_query","force"],r),n}function F$(e){const t={},n=g(e,["name"]);n!=null&&v(t,["_url","name"],n);const r=g(e,["config"]);return r!=null&&G$(r,t),t}function V$(e){const t={},n=g(e,["name"]);return n!=null&&v(t,["_url","name"],n),t}function K$(e,t){const n={},r=g(e,["customMetadata"]);if(t!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>l)),v(t,["customMetadata"],o)}const i=g(e,["chunkingConfig"]);return t!==void 0&&i!=null&&v(t,["chunkingConfig"],i),n}function Y$(e){const t={},n=g(e,["name"]);n!=null&&v(t,["name"],n);const r=g(e,["metadata"]);r!=null&&v(t,["metadata"],r);const i=g(e,["done"]);i!=null&&v(t,["done"],i);const o=g(e,["error"]);o!=null&&v(t,["error"],o);const l=g(e,["response"]);return l!=null&&v(t,["response"],W$(l)),t}function J$(e){const t={},n=g(e,["fileSearchStoreName"]);n!=null&&v(t,["_url","file_search_store_name"],n);const r=g(e,["fileName"]);r!=null&&v(t,["fileName"],r);const i=g(e,["config"]);return i!=null&&K$(i,t),t}function W$(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=g(e,["parent"]);r!=null&&v(t,["parent"],r);const i=g(e,["documentName"]);return i!=null&&v(t,["documentName"],i),t}function X$(e,t){const n={},r=g(e,["pageSize"]);t!==void 0&&r!=null&&v(t,["_query","pageSize"],r);const i=g(e,["pageToken"]);return t!==void 0&&i!=null&&v(t,["_query","pageToken"],i),n}function Q$(e){const t={},n=g(e,["config"]);return n!=null&&X$(n,t),t}function Z$(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=g(e,["nextPageToken"]);r!=null&&v(t,["nextPageToken"],r);const i=g(e,["fileSearchStores"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),v(t,["fileSearchStores"],o)}return t}function iP(e,t){const n={},r=g(e,["mimeType"]);t!==void 0&&r!=null&&v(t,["mimeType"],r);const i=g(e,["displayName"]);t!==void 0&&i!=null&&v(t,["displayName"],i);const o=g(e,["customMetadata"]);if(t!==void 0&&o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>f)),v(t,["customMetadata"],u)}const l=g(e,["chunkingConfig"]);return t!==void 0&&l!=null&&v(t,["chunkingConfig"],l),n}function eH(e){const t={},n=g(e,["fileSearchStoreName"]);n!=null&&v(t,["_url","file_search_store_name"],n);const r=g(e,["config"]);return r!=null&&iP(r,t),t}function tH(e){const t={},n=g(e,["sdkHttpResponse"]);return n!=null&&v(t,["sdkHttpResponse"],n),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const nH="Content-Type",rH="X-Server-Timeout",iH="User-Agent",Jv="x-goog-api-client",aH="1.32.0",oH=`google-genai-sdk/${aH}`,sH="v1beta1",lH="v1beta";class uH{constructor(t){var n,r;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:sH,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:lH,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&r.push(t.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),t!==""&&i.push(t),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t),i=this.constructUrl(t.path,n,r);if(t.queryParams)for(const[l,u]of Object.entries(t.queryParams))i.searchParams.append(l,String(u));let o={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=t.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),t.abortSignal),this.unaryApiCall(i,o,t.httpMethod)}patchHttpOptions(t,n){const r=JSON.parse(JSON.stringify(t));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t),i=this.constructUrl(t.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=t.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),t.abortSignal),this.streamApiCall(i,o,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,r,i){if(n&&n.timeout||i){const o=new AbortController,l=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const u=setTimeout(()=>o.abort(),n.timeout);u&&typeof u.unref=="function"&&u.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),t.signal=l}return n&&n.extraBody!==null&&cH(t,n.extraBody),t.headers=await this.getHeadersInternal(n,r),t}async unaryApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await qA(i),new Gv(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await qA(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(t){return ns(this,arguments,function*(){var r;const i=(r=t==null?void 0:t.body)===null||r===void 0?void 0:r.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let l="";const u="data:",f=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:d,value:h}=yield it(i.read());if(d){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const m=o.decode(h,{stream:!0});try{const w=JSON.parse(m);if("error"in w){const E=JSON.parse(JSON.stringify(w.error)),T=E.status,x=E.code,O=`got status: ${T}. ${JSON.stringify(w)}`;if(x>=400&&x<600)throw new zd({message:O,status:x})}}catch(w){if(w.name==="ApiError")throw w}l+=m;let y=-1,b=0;for(;;){y=-1,b=0;for(const T of f){const x=l.indexOf(T);x!==-1&&(y===-1||x<y)&&(y=x,b=T.length)}if(y===-1)break;const w=l.substring(0,y);l=l.substring(y+b);const E=w.trim();if(E.startsWith(u)){const T=E.substring(u.length).trim();try{const x=new Response(T,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield it(new Gv(x))}catch(x){throw new Error(`exception parsing stream chunk ${T}. ${x}`)}}}}}finally{i.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const t={},n=oH+" "+this.clientOptions.userAgentExtra;return t[iH]=n,t[Jv]=n,t[nH]="application/json",t}async getHeadersInternal(t,n){const r=new Headers;if(t&&t.headers){for(const[i,o]of Object.entries(t.headers))r.append(i,o);t.timeout&&t.timeout>0&&r.append(rH,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(t){var n;let r="";return typeof t=="string"&&(r=t.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(t,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,l=await o.stat(t);i.sizeBytes=String(l.size);const u=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:l.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=u;const f={file:i},d=this.getFileName(t),h=le("upload/v1beta/files",f._url),m=await this.fetchUploadUrl(h,i.sizeBytes,i.mimeType,d,f,n==null?void 0:n.httpOptions);return o.upload(t,m,this)}async uploadFileToFileSearchStore(t,n,r){var i;const o=this.clientOptions.uploader,l=await o.stat(n),u=String(l.size),f=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:l.type;if(f===void 0||f==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const d=`upload/v1beta/${t}:uploadToFileSearchStore`,h=this.getFileName(n),m={};r!=null&&iP(r,m);const y=await this.fetchUploadUrl(d,u,f,h,m,r==null?void 0:r.httpOptions);return o.uploadToFileSearchStore(n,y,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,n,r,i,o,l){var u;let f={};l?f=l:f={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const d=await this.request({path:t,body:JSON.stringify(o),httpMethod:"POST",httpOptions:f});if(!d||!(d!=null&&d.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(u=d==null?void 0:d.headers)===null||u===void 0?void 0:u["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function qA(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const n=e.status;let r;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?r=await e.json():r={error:{message:await e.text(),code:e.status,status:e.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new zd({message:i,status:n}):new Error(i)}}function cH(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof e.body=="string"&&e.body.length>0)try{const o=JSON.parse(e.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,l){const u=Object.assign({},o);for(const f in l)if(Object.prototype.hasOwnProperty.call(l,f)){const d=l[f],h=u[f];d&&typeof d=="object"&&!Array.isArray(d)&&h&&typeof h=="object"&&!Array.isArray(h)?u[f]=r(h,d):(h&&d&&typeof h!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${f}". Original type: ${typeof h}, New type: ${typeof d}. Overwriting.`),u[f]=d)}return u}const i=r(n,t);e.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fH="mcp_used/unknown";let dH=!1;function aP(e){for(const t of e)if(hH(t)||typeof t=="object"&&"inputSchema"in t)return!0;return dH}function oP(e){var t;const n=(t=e[Jv])!==null&&t!==void 0?t:"";e[Jv]=(n+` ${fH}`).trimStart()}function hH(e){return e!==null&&typeof e=="object"&&e instanceof _0}function pH(e){return ns(this,arguments,function*(n,r=100){let i,o=0;for(;o<r;){const l=yield it(n.listTools({cursor:i}));for(const u of l.tools)yield yield it(u),o++;if(!l.nextCursor)break;i=l.nextCursor}})}class _0{constructor(t=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=n}static create(t,n){return new _0(t,n)}async initialize(){var t,n,r,i;if(this.mcpTools.length>0)return;const o={},l=[];for(const h of this.mcpClients)try{for(var u=!0,f=(n=void 0,Vl(pH(h))),d;d=await f.next(),t=d.done,!t;u=!0){i=d.value,u=!1;const m=i;l.push(m);const y=m.name;if(o[y])throw new Error(`Duplicate function name ${y} found in MCP tools. Please ensure function names are unique.`);o[y]=h}}catch(m){n={error:m}}finally{try{!u&&!t&&(r=f.return)&&await r.call(f)}finally{if(n)throw n.error}}this.mcpTools=l,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),Vq(this.mcpTools,this.config)}async callTool(t){await this.initialize();const n=[];for(const r of t)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const l=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:l.isError?{error:l}:l}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function mH(e,t,n){const r=new qq;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),t(r)}class gH{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r}async connect(t){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),l=_H(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),f=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${u}`;let d=()=>{};const h=new Promise(R=>{d=R}),m=t.callbacks,y=function(){d({})},b=this.apiClient,w={onopen:y,onmessage:R=>{mH(b,m.onmessage,R)},onerror:(n=m==null?void 0:m.onerror)!==null&&n!==void 0?n:function(R){},onclose:(r=m==null?void 0:m.onclose)!==null&&r!==void 0?r:function(R){}},E=this.webSocketFactory.create(f,yH(l),w);E.connect(),await h;const O={setup:{model:ze(this.apiClient,t.model)}};return E.send(JSON.stringify(O)),new vH(E,this.apiClient)}}class vH{constructor(t,n){this.conn=t,this.apiClient=n}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=jz(t);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const n=Hz(t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(t){const n={playbackControl:t};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Qo.PLAY)}pause(){this.sendPlaybackControl(Qo.PAUSE)}stop(){this.sendPlaybackControl(Qo.STOP)}resetContext(){this.sendPlaybackControl(Qo.RESET_CONTEXT)}close(){this.conn.close()}}function yH(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function _H(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bH="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function SH(e,t,n){const r=new Lq;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(e.isVertexAI()){const l=Vz(o);Object.assign(r,l)}else Object.assign(r,o);t(r)}class wH{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r,this.music=new gH(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var n,r,i,o,l,u;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const f=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let h;const m=this.apiClient.getHeaders();t.config&&t.config.tools&&aP(t.config.tools)&&oP(m);const y=xH(m);if(this.apiClient.isVertexAI())h=`${f}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(y,h);else{const G=this.apiClient.getApiKey();let ie="BidiGenerateContent",W="key";G!=null&&G.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ie="BidiGenerateContentConstrained",W="access_token"),h=`${f}/ws/google.ai.generativelanguage.${d}.GenerativeService.${ie}?${W}=${G}`}let b=()=>{};const w=new Promise(G=>{b=G}),E=t.callbacks,T=function(){var G;(G=E==null?void 0:E.onopen)===null||G===void 0||G.call(E),b({})},x=this.apiClient,O={onopen:T,onmessage:G=>{SH(x,E.onmessage,G)},onerror:(n=E==null?void 0:E.onerror)!==null&&n!==void 0?n:function(G){},onclose:(r=E==null?void 0:E.onclose)!==null&&r!==void 0?r:function(G){}},R=this.webSocketFactory.create(h,AH(y),O);R.connect(),await w;let M=ze(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&M.startsWith("publishers/")){const G=this.apiClient.getProject(),ie=this.apiClient.getLocation();M=`projects/${G}/locations/${ie}/`+M}let I={};this.apiClient.isVertexAI()&&((i=t.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[Uf.AUDIO]}:t.config.responseModalities=[Uf.AUDIO]),!((o=t.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const N=(u=(l=t.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[],U=[];for(const G of N)if(this.isCallableTool(G)){const ie=G;U.push(await ie.tool())}else U.push(G);U.length>0&&(t.config.tools=U);const X={model:M,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?I=$z(this.apiClient,X):I=zz(this.apiClient,X),delete I.config,R.send(JSON.stringify(I)),new TH(R,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const EH={turnComplete:!0};class TH{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=ir(n.turns),t.isVertexAI()||(r=r.map(i=>$d(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!t.isVertexAI()&&!("id"in o))throw new Error(bH)}return{toolResponse:{functionResponses:r}}}sendClientContent(t){t=Object.assign(Object.assign({},EH),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:Fz(t)}:n={realtimeInput:Gz(t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function AH(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function xH(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const BA=10;function zA(e){var t,n,r;if(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let i=!1;for(const l of(n=e==null?void 0:e.tools)!==null&&n!==void 0?n:[])if(rs(l)){i=!0;break}if(!i)return!0;const o=(r=e==null?void 0:e.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function rs(e){return"callTool"in e&&typeof e.callTool=="function"}function CH(e){var t,n,r;return(r=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(i=>rs(i)))!==null&&r!==void 0?r:!1}function $A(e){var t;const n=[];return!((t=e==null?void 0:e.config)===null||t===void 0)&&t.tools&&e.config.tools.forEach((r,i)=>{if(rs(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(i)}),n}function HA(e){var t;return!(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class RH extends bi{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>{var r,i,o,l,u;const f=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!CH(n)||zA(n.config))return await this.generateContentInternal(f);const d=$A(n);if(d.length>0){const E=d.map(T=>`tools[${T}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${E}.`)}let h,m;const y=ir(f.contents),b=(o=(i=(r=f.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:BA;let w=0;for(;w<b&&(h=await this.generateContentInternal(f),!(!h.functionCalls||h.functionCalls.length===0));){const E=h.candidates[0].content,T=[];for(const x of(u=(l=n.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[])if(rs(x)){const R=await x.callTool(h.functionCalls);T.push(...R)}w++,m={role:"user",parts:T},f.contents=ir(f.contents),f.contents.push(E),f.contents.push(m),HA(f.config)&&(y.push(E),y.push(m))}return HA(f.config)&&(h.automaticFunctionCallingHistory=y),h},this.generateContentStream=async n=>{var r,i,o,l,u;if(this.maybeMoveToResponseJsonSchem(n),zA(n.config)){const m=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(m)}const f=$A(n);if(f.length>0){const m=f.map(y=>`tools[${y}]`).join(", ");throw new Error(`Incompatible tools found at ${m}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const d=(o=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,h=(u=(l=n==null?void 0:n.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||u===void 0?void 0:u.disable;if(d&&!h)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const l=[];if(r!=null&&r.generatedImages)for(const f of r.generatedImages)f&&(f!=null&&f.safetyAttributes)&&((i=f==null?void 0:f.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=f==null?void 0:f.safetyAttributes:l.push(f);let u;return o?u={generatedImages:l,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:u={generatedImages:l,sdkHttpResponse:r.sdkHttpResponse},u}),this.list=async n=>{var r;const l={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((r=l.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new Za(ci.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(l),l)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,o,l,u,f;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((l=(o=n.source)===null||o===void 0?void 0:o.video)===null||l===void 0)&&l.uri&&(!((f=(u=n.source)===null||u===void 0?void 0:u.video)===null||f===void 0)&&f.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var n,r,i;const o=(n=t.config)===null||n===void 0?void 0:n.tools;if(!o)return t;const l=await Promise.all(o.map(async f=>rs(f)?await f.tool():f)),u={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:l})};if(u.config.tools=l,t.config&&t.config.tools&&aP(t.config.tools)){const f=(i=(r=t.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let d=Object.assign({},f);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),oP(d),u.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:d})}return u}async initAfcToolsMap(t){var n,r,i;const o=new Map;for(const l of(r=(n=t.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(rs(l)){const u=l,f=await u.tool();for(const d of(i=f.functionDeclarations)!==null&&i!==void 0?i:[]){if(!d.name)throw new Error("Function declaration name is required.");if(o.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);o.set(d.name,u)}}return o}async processAfcStream(t){var n,r,i;const o=(i=(r=(n=t.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:BA;let l=!1,u=0;const f=await this.initAfcToolsMap(t);return(function(d,h,m){return ns(this,arguments,function*(){for(var y,b,w,E,T,x;u<o;){l&&(u++,l=!1);const I=yield it(d.processParamsMaybeAddMcpUsage(m)),N=yield it(d.generateContentStreamInternal(I)),U=[],X=[];try{for(var O=!0,R=(b=void 0,Vl(N)),M;M=yield it(R.next()),y=M.done,!y;O=!0){E=M.value,O=!1;const G=E;if(yield yield it(G),G.candidates&&(!((T=G.candidates[0])===null||T===void 0)&&T.content)){X.push(G.candidates[0].content);for(const ie of(x=G.candidates[0].content.parts)!==null&&x!==void 0?x:[])if(u<o&&ie.functionCall){if(!ie.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(ie.functionCall.name)){const W=yield it(h.get(ie.functionCall.name).callTool([ie.functionCall]));U.push(...W)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${ie.functionCall.name}`)}}}}catch(G){b={error:G}}finally{try{!O&&!y&&(w=R.return)&&(yield it(w.call(R)))}finally{if(b)throw b.error}}if(U.length>0){l=!0;const G=new Pl;G.candidates=[{content:{role:"user",parts:U}}],yield yield it(G);const ie=[];ie.push(...X),ie.push({role:"user",parts:U});const W=ir(m.contents).concat(ie);m.contents=W}else break}})})(this,f,t)}async generateContentInternal(t){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=DA(this.apiClient,t);return u=le("{model}:generateContent",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const m=LA(h),y=new Pl;return Object.assign(y,m),y})}else{const d=kA(this.apiClient,t);return u=le("{model}:generateContent",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const m=UA(h),y=new Pl;return Object.assign(y,m),y})}}async generateContentStreamInternal(t){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=DA(this.apiClient,t);return u=le("{model}:streamGenerateContent?alt=sse",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.requestStream({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}),l.then(function(m){return ns(this,arguments,function*(){var y,b,w,E;try{for(var T=!0,x=Vl(m),O;O=yield it(x.next()),y=O.done,!y;T=!0){E=O.value,T=!1;const R=E,M=LA(yield it(R.json()));M.sdkHttpResponse={headers:R.headers};const I=new Pl;Object.assign(I,M),yield yield it(I)}}catch(R){b={error:R}}finally{try{!T&&!y&&(w=x.return)&&(yield it(w.call(x)))}finally{if(b)throw b.error}}})})}else{const d=kA(this.apiClient,t);return u=le("{model}:streamGenerateContent?alt=sse",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.requestStream({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}),l.then(function(m){return ns(this,arguments,function*(){var y,b,w,E;try{for(var T=!0,x=Vl(m),O;O=yield it(x.next()),y=O.done,!y;T=!0){E=O.value,T=!1;const R=E,M=UA(yield it(R.json()));M.sdkHttpResponse={headers:R.headers};const I=new Pl;Object.assign(I,M),yield yield it(I)}}catch(R){b={error:R}}finally{try{!T&&!y&&(w=x.return)&&(yield it(w.call(x)))}finally{if(b)throw b.error}}})})}}async embedContent(t){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=w3(this.apiClient,t);return u=le("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const m=T3(h),y=new vA;return Object.assign(y,m),y})}else{const d=S3(this.apiClient,t);return u=le("{model}:batchEmbedContents",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const m=E3(h),y=new vA;return Object.assign(y,m),y})}}async generateImagesInternal(t){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=D3(this.apiClient,t);return u=le("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const m=L3(h),y=new yA;return Object.assign(y,m),y})}else{const d=k3(this.apiClient,t);return u=le("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const m=U3(h),y=new yA;return Object.assign(y,m),y})}}async editImageInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const u=v3(this.apiClient,t);return o=le("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const d=y3(f),h=new xq;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const u=D$(this.apiClient,t);return o=le("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const d=U$(f),h=new Cq;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const u=g$(this.apiClient,t);return o=le("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=v$(f),h=new Rq;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const u=E$(this.apiClient,t);return o=le("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=T$(f),h=new Oq;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=e$(this.apiClient,t);return u=le("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>Yv(h))}else{const d=Z3(this.apiClient,t);return u=le("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>Kv(h))}}async listInternal(t){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=u$(this.apiClient,t);return u=le("{models_url}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const m=f$(h),y=new _A;return Object.assign(y,m),y})}else{const d=l$(this.apiClient,t);return u=le("{models_url}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const m=c$(h),y=new _A;return Object.assign(y,m),y})}}async update(t){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=N$(this.apiClient,t);return u=le("{model}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>Yv(h))}else{const d=M$(this.apiClient,t);return u=le("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>Kv(h))}}async delete(t){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=h3(this.apiClient,t);return u=le("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const m=m3(h),y=new bA;return Object.assign(y,m),y})}else{const d=d3(this.apiClient,t);return u=le("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const m=p3(h),y=new bA;return Object.assign(y,m),y})}}async countTokens(t){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=u3(this.apiClient,t);return u=le("{model}:countTokens",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const m=f3(h),y=new SA;return Object.assign(y,m),y})}else{const d=l3(this.apiClient,t);return u=le("{model}:countTokens",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const m=c3(h),y=new SA;return Object.assign(y,m),y})}}async computeTokens(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const u=t3(this.apiClient,t);return o=le("{model}:computeTokens",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const d=n3(f),h=new Pq;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=j3(this.apiClient,t);return u=le("{model}:predictLongRunning",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>{const m=$3(h),y=new Lf;return Object.assign(y,m),y})}else{const d=H3(this.apiClient,t);return u=le("{model}:predictLongRunning",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>{const m=z3(h),y=new Lf;return Object.assign(y,m),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class OH extends bi{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(t){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=bq(t);return u=le("{operationName}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l}else{const d=_q(t);return u=le("{operationName}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l}}async fetchPredictVideosOperationInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const u=dq(t);return o=le("{resourceName}:fetchPredictOperation",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function PH(e){const t={},n=g(e,["data"]);if(n!=null&&v(t,["data"],n),g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(e,["mimeType"]);return r!=null&&v(t,["mimeType"],r),t}function IH(e){const t={},n=g(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>zH(o))),v(t,["parts"],i)}const r=g(e,["role"]);return r!=null&&v(t,["role"],r),t}function MH(e,t,n){const r={},i=g(t,["expireTime"]);n!==void 0&&i!=null&&v(n,["expireTime"],i);const o=g(t,["newSessionExpireTime"]);n!==void 0&&o!=null&&v(n,["newSessionExpireTime"],o);const l=g(t,["uses"]);n!==void 0&&l!=null&&v(n,["uses"],l);const u=g(t,["liveConnectConstraints"]);n!==void 0&&u!=null&&v(n,["bidiGenerateContentSetup"],BH(e,u));const f=g(t,["lockAdditionalFields"]);return n!==void 0&&f!=null&&v(n,["fieldMask"],f),r}function NH(e,t){const n={},r=g(t,["config"]);return r!=null&&v(n,["config"],MH(e,r,n)),n}function kH(e){const t={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(e,["fileUri"]);n!=null&&v(t,["fileUri"],n);const r=g(e,["mimeType"]);return r!=null&&v(t,["mimeType"],r),t}function DH(e){const t={},n=g(e,["id"]);n!=null&&v(t,["id"],n);const r=g(e,["args"]);r!=null&&v(t,["args"],r);const i=g(e,["name"]);if(i!=null&&v(t,["name"],i),g(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function UH(e){const t={};if(g(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(e,["enableWidget"]);return n!=null&&v(t,["enableWidget"],n),t}function LH(e){const t={};if(g(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(e,["timeRangeFilter"]);return n!=null&&v(t,["timeRangeFilter"],n),t}function qH(e,t){const n={},r=g(e,["generationConfig"]);t!==void 0&&r!=null&&v(t,["setup","generationConfig"],r);const i=g(e,["responseModalities"]);t!==void 0&&i!=null&&v(t,["setup","generationConfig","responseModalities"],i);const o=g(e,["temperature"]);t!==void 0&&o!=null&&v(t,["setup","generationConfig","temperature"],o);const l=g(e,["topP"]);t!==void 0&&l!=null&&v(t,["setup","generationConfig","topP"],l);const u=g(e,["topK"]);t!==void 0&&u!=null&&v(t,["setup","generationConfig","topK"],u);const f=g(e,["maxOutputTokens"]);t!==void 0&&f!=null&&v(t,["setup","generationConfig","maxOutputTokens"],f);const d=g(e,["mediaResolution"]);t!==void 0&&d!=null&&v(t,["setup","generationConfig","mediaResolution"],d);const h=g(e,["seed"]);t!==void 0&&h!=null&&v(t,["setup","generationConfig","seed"],h);const m=g(e,["speechConfig"]);t!==void 0&&m!=null&&v(t,["setup","generationConfig","speechConfig"],y0(m));const y=g(e,["thinkingConfig"]);t!==void 0&&y!=null&&v(t,["setup","generationConfig","thinkingConfig"],y);const b=g(e,["enableAffectiveDialog"]);t!==void 0&&b!=null&&v(t,["setup","generationConfig","enableAffectiveDialog"],b);const w=g(e,["systemInstruction"]);t!==void 0&&w!=null&&v(t,["setup","systemInstruction"],IH(an(w)));const E=g(e,["tools"]);if(t!==void 0&&E!=null){let N=Es(E);Array.isArray(N)&&(N=N.map(U=>HH(ws(U)))),v(t,["setup","tools"],N)}const T=g(e,["sessionResumption"]);t!==void 0&&T!=null&&v(t,["setup","sessionResumption"],$H(T));const x=g(e,["inputAudioTranscription"]);t!==void 0&&x!=null&&v(t,["setup","inputAudioTranscription"],x);const O=g(e,["outputAudioTranscription"]);t!==void 0&&O!=null&&v(t,["setup","outputAudioTranscription"],O);const R=g(e,["realtimeInputConfig"]);t!==void 0&&R!=null&&v(t,["setup","realtimeInputConfig"],R);const M=g(e,["contextWindowCompression"]);t!==void 0&&M!=null&&v(t,["setup","contextWindowCompression"],M);const I=g(e,["proactivity"]);return t!==void 0&&I!=null&&v(t,["setup","proactivity"],I),n}function BH(e,t){const n={},r=g(t,["model"]);r!=null&&v(n,["setup","model"],ze(e,r));const i=g(t,["config"]);return i!=null&&v(n,["config"],qH(i,n)),n}function zH(e){const t={},n=g(e,["mediaResolution"]);n!=null&&v(t,["mediaResolution"],n);const r=g(e,["codeExecutionResult"]);r!=null&&v(t,["codeExecutionResult"],r);const i=g(e,["executableCode"]);i!=null&&v(t,["executableCode"],i);const o=g(e,["fileData"]);o!=null&&v(t,["fileData"],kH(o));const l=g(e,["functionCall"]);l!=null&&v(t,["functionCall"],DH(l));const u=g(e,["functionResponse"]);u!=null&&v(t,["functionResponse"],u);const f=g(e,["inlineData"]);f!=null&&v(t,["inlineData"],PH(f));const d=g(e,["text"]);d!=null&&v(t,["text"],d);const h=g(e,["thought"]);h!=null&&v(t,["thought"],h);const m=g(e,["thoughtSignature"]);m!=null&&v(t,["thoughtSignature"],m);const y=g(e,["videoMetadata"]);return y!=null&&v(t,["videoMetadata"],y),t}function $H(e){const t={},n=g(e,["handle"]);if(n!=null&&v(t,["handle"],n),g(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function HH(e){const t={},n=g(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),v(t,["functionDeclarations"],h)}if(g(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(e,["googleSearchRetrieval"]);r!=null&&v(t,["googleSearchRetrieval"],r);const i=g(e,["computerUse"]);i!=null&&v(t,["computerUse"],i);const o=g(e,["fileSearch"]);o!=null&&v(t,["fileSearch"],o);const l=g(e,["codeExecution"]);if(l!=null&&v(t,["codeExecution"],l),g(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=g(e,["googleMaps"]);u!=null&&v(t,["googleMaps"],UH(u));const f=g(e,["googleSearch"]);f!=null&&v(t,["googleSearch"],LH(f));const d=g(e,["urlContext"]);return d!=null&&v(t,["urlContext"],d),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jH(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const r=e[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);t.push(...i)}else t.push(n)}return t.join(",")}function GH(e,t){let n=null;const r=e.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(e.bidiGenerateContentSetup=o,n=o):delete e.bidiGenerateContentSetup}else r!==void 0&&delete e.bidiGenerateContentSetup;const i=e.fieldMask;if(n){const o=jH(n);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)o?e.fieldMask=o:delete e.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];i.length>0&&(u=i.map(d=>l.includes(d)?`generationConfig.${d}`:d));const f=[];o&&f.push(o),u.length>0&&f.push(...u),f.length>0?e.fieldMask=f.join(","):delete e.fieldMask}else delete e.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?e.fieldMask=i.join(","):delete e.fieldMask;return e}class FH extends bi{constructor(t){super(),this.apiClient=t}async create(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=NH(this.apiClient,t);o=le("auth_tokens",u._url),l=u._query,delete u.config,delete u._url,delete u._query;const f=GH(u,t.config);return i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function VH(e,t){const n={},r=g(e,["force"]);return t!==void 0&&r!=null&&v(t,["_query","force"],r),n}function KH(e){const t={},n=g(e,["name"]);n!=null&&v(t,["_url","name"],n);const r=g(e,["config"]);return r!=null&&VH(r,t),t}function YH(e){const t={},n=g(e,["name"]);return n!=null&&v(t,["_url","name"],n),t}function JH(e,t){const n={},r=g(e,["pageSize"]);t!==void 0&&r!=null&&v(t,["_query","pageSize"],r);const i=g(e,["pageToken"]);return t!==void 0&&i!=null&&v(t,["_query","pageToken"],i),n}function WH(e){const t={},n=g(e,["parent"]);n!=null&&v(t,["_url","parent"],n);const r=g(e,["config"]);return r!=null&&JH(r,t),t}function XH(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=g(e,["nextPageToken"]);r!=null&&v(t,["nextPageToken"],r);const i=g(e,["documents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),v(t,["documents"],o)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class QH extends bi{constructor(t){super(),this.apiClient=t,this.list=async n=>new Za(ci.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=YH(t);return o=le("{name}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async delete(t){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=KH(t);i=le("{name}",l._url),o=l._query,delete l._url,delete l._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=WH(t);return o=le("{parent}/documents",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=XH(f),h=new Iq;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ZH extends bi{constructor(t,n=new QH(t)){super(),this.apiClient=t,this.documents=n,this.list=async(r={})=>new Za(ci.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=j$(t);return o=le("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async get(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=V$(t);return o=le("{name}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async delete(t){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=F$(t);i=le("{name}",l._url),o=l._query,delete l._url,delete l._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Q$(t);return o=le("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=Z$(f),h=new Mq;return Object.assign(h,d),h})}}async uploadToFileSearchStoreInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=eH(t);return o=le("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=tH(f),h=new Nq;return Object.assign(h,d),h})}}async importFile(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=J$(t);return o=le("{file_search_store_name}:importFile",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=Y$(f),h=new h0;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ej(e,t){const n={},r=g(e,["name"]);return r!=null&&v(n,["_url","name"],r),n}function tj(e,t){const n={},r=g(e,["name"]);return r!=null&&v(n,["_url","name"],r),n}function nj(e,t){const n={},r=g(e,["sdkHttpResponse"]);return r!=null&&v(n,["sdkHttpResponse"],r),n}function rj(e,t){const n={},r=g(e,["sdkHttpResponse"]);return r!=null&&v(n,["sdkHttpResponse"],r),n}function ij(e,t,n){const r={};if(g(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=g(e,["tunedModelDisplayName"]);if(t!==void 0&&i!=null&&v(t,["displayName"],i),g(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=g(e,["epochCount"]);t!==void 0&&o!=null&&v(t,["tuningTask","hyperparameters","epochCount"],o);const l=g(e,["learningRateMultiplier"]);if(l!=null&&v(r,["tuningTask","hyperparameters","learningRateMultiplier"],l),g(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(g(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(g(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=g(e,["batchSize"]);t!==void 0&&u!=null&&v(t,["tuningTask","hyperparameters","batchSize"],u);const f=g(e,["learningRate"]);if(t!==void 0&&f!=null&&v(t,["tuningTask","hyperparameters","learningRate"],f),g(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(g(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function aj(e,t,n){const r={};let i=g(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const b=g(e,["validationDataset"]);t!==void 0&&b!=null&&v(t,["supervisedTuningSpec"],jA(b))}else if(i==="PREFERENCE_TUNING"){const b=g(e,["validationDataset"]);t!==void 0&&b!=null&&v(t,["preferenceOptimizationSpec"],jA(b))}const o=g(e,["tunedModelDisplayName"]);t!==void 0&&o!=null&&v(t,["tunedModelDisplayName"],o);const l=g(e,["description"]);t!==void 0&&l!=null&&v(t,["description"],l);let u=g(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const b=g(e,["epochCount"]);t!==void 0&&b!=null&&v(t,["supervisedTuningSpec","hyperParameters","epochCount"],b)}else if(u==="PREFERENCE_TUNING"){const b=g(e,["epochCount"]);t!==void 0&&b!=null&&v(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],b)}let f=g(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const b=g(e,["learningRateMultiplier"]);t!==void 0&&b!=null&&v(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],b)}else if(f==="PREFERENCE_TUNING"){const b=g(e,["learningRateMultiplier"]);t!==void 0&&b!=null&&v(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],b)}let d=g(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const b=g(e,["exportLastCheckpointOnly"]);t!==void 0&&b!=null&&v(t,["supervisedTuningSpec","exportLastCheckpointOnly"],b)}else if(d==="PREFERENCE_TUNING"){const b=g(e,["exportLastCheckpointOnly"]);t!==void 0&&b!=null&&v(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],b)}let h=g(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const b=g(e,["adapterSize"]);t!==void 0&&b!=null&&v(t,["supervisedTuningSpec","hyperParameters","adapterSize"],b)}else if(h==="PREFERENCE_TUNING"){const b=g(e,["adapterSize"]);t!==void 0&&b!=null&&v(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],b)}if(g(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(g(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const m=g(e,["labels"]);t!==void 0&&m!=null&&v(t,["labels"],m);const y=g(e,["beta"]);return t!==void 0&&y!=null&&v(t,["preferenceOptimizationSpec","hyperParameters","beta"],y),r}function oj(e,t){const n={},r=g(e,["baseModel"]);r!=null&&v(n,["baseModel"],r);const i=g(e,["preTunedModel"]);i!=null&&v(n,["preTunedModel"],i);const o=g(e,["trainingDataset"]);o!=null&&vj(o);const l=g(e,["config"]);return l!=null&&ij(l,n),n}function sj(e,t){const n={},r=g(e,["baseModel"]);r!=null&&v(n,["baseModel"],r);const i=g(e,["preTunedModel"]);i!=null&&v(n,["preTunedModel"],i);const o=g(e,["trainingDataset"]);o!=null&&yj(o,n,t);const l=g(e,["config"]);return l!=null&&aj(l,n,t),n}function lj(e,t){const n={},r=g(e,["name"]);return r!=null&&v(n,["_url","name"],r),n}function uj(e,t){const n={},r=g(e,["name"]);return r!=null&&v(n,["_url","name"],r),n}function cj(e,t,n){const r={},i=g(e,["pageSize"]);t!==void 0&&i!=null&&v(t,["_query","pageSize"],i);const o=g(e,["pageToken"]);t!==void 0&&o!=null&&v(t,["_query","pageToken"],o);const l=g(e,["filter"]);return t!==void 0&&l!=null&&v(t,["_query","filter"],l),r}function fj(e,t,n){const r={},i=g(e,["pageSize"]);t!==void 0&&i!=null&&v(t,["_query","pageSize"],i);const o=g(e,["pageToken"]);t!==void 0&&o!=null&&v(t,["_query","pageToken"],o);const l=g(e,["filter"]);return t!==void 0&&l!=null&&v(t,["_query","filter"],l),r}function dj(e,t){const n={},r=g(e,["config"]);return r!=null&&cj(r,n),n}function hj(e,t){const n={},r=g(e,["config"]);return r!=null&&fj(r,n),n}function pj(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=g(e,["nextPageToken"]);i!=null&&v(n,["nextPageToken"],i);const o=g(e,["tunedModels"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>sP(u))),v(n,["tuningJobs"],l)}return n}function mj(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=g(e,["nextPageToken"]);i!=null&&v(n,["nextPageToken"],i);const o=g(e,["tuningJobs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>Wv(u))),v(n,["tuningJobs"],l)}return n}function gj(e,t){const n={},r=g(e,["name"]);r!=null&&v(n,["model"],r);const i=g(e,["name"]);return i!=null&&v(n,["endpoint"],i),n}function vj(e,t){const n={};if(g(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(g(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=g(e,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),v(n,["examples","examples"],i)}return n}function yj(e,t,n){const r={};let i=g(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const l=g(e,["gcsUri"]);t!==void 0&&l!=null&&v(t,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(i==="PREFERENCE_TUNING"){const l=g(e,["gcsUri"]);t!==void 0&&l!=null&&v(t,["preferenceOptimizationSpec","trainingDatasetUri"],l)}let o=g(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const l=g(e,["vertexDatasetResource"]);t!==void 0&&l!=null&&v(t,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(o==="PREFERENCE_TUNING"){const l=g(e,["vertexDatasetResource"]);t!==void 0&&l!=null&&v(t,["preferenceOptimizationSpec","trainingDatasetUri"],l)}if(g(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function sP(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=g(e,["name"]);i!=null&&v(n,["name"],i);const o=g(e,["state"]);o!=null&&v(n,["state"],$O(o));const l=g(e,["createTime"]);l!=null&&v(n,["createTime"],l);const u=g(e,["tuningTask","startTime"]);u!=null&&v(n,["startTime"],u);const f=g(e,["tuningTask","completeTime"]);f!=null&&v(n,["endTime"],f);const d=g(e,["updateTime"]);d!=null&&v(n,["updateTime"],d);const h=g(e,["description"]);h!=null&&v(n,["description"],h);const m=g(e,["baseModel"]);m!=null&&v(n,["baseModel"],m);const y=g(e,["_self"]);return y!=null&&v(n,["tunedModel"],gj(y)),n}function Wv(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=g(e,["name"]);i!=null&&v(n,["name"],i);const o=g(e,["state"]);o!=null&&v(n,["state"],$O(o));const l=g(e,["createTime"]);l!=null&&v(n,["createTime"],l);const u=g(e,["startTime"]);u!=null&&v(n,["startTime"],u);const f=g(e,["endTime"]);f!=null&&v(n,["endTime"],f);const d=g(e,["updateTime"]);d!=null&&v(n,["updateTime"],d);const h=g(e,["error"]);h!=null&&v(n,["error"],h);const m=g(e,["description"]);m!=null&&v(n,["description"],m);const y=g(e,["baseModel"]);y!=null&&v(n,["baseModel"],y);const b=g(e,["tunedModel"]);b!=null&&v(n,["tunedModel"],b);const w=g(e,["preTunedModel"]);w!=null&&v(n,["preTunedModel"],w);const E=g(e,["supervisedTuningSpec"]);E!=null&&v(n,["supervisedTuningSpec"],E);const T=g(e,["preferenceOptimizationSpec"]);T!=null&&v(n,["preferenceOptimizationSpec"],T);const x=g(e,["tuningDataStats"]);x!=null&&v(n,["tuningDataStats"],x);const O=g(e,["encryptionSpec"]);O!=null&&v(n,["encryptionSpec"],O);const R=g(e,["partnerModelTuningSpec"]);R!=null&&v(n,["partnerModelTuningSpec"],R);const M=g(e,["customBaseModel"]);M!=null&&v(n,["customBaseModel"],M);const I=g(e,["experiment"]);I!=null&&v(n,["experiment"],I);const N=g(e,["labels"]);N!=null&&v(n,["labels"],N);const U=g(e,["outputUri"]);U!=null&&v(n,["outputUri"],U);const X=g(e,["pipelineJob"]);X!=null&&v(n,["pipelineJob"],X);const G=g(e,["serviceAccount"]);G!=null&&v(n,["serviceAccount"],G);const ie=g(e,["tunedModelDisplayName"]);ie!=null&&v(n,["tunedModelDisplayName"],ie);const W=g(e,["veoTuningSpec"]);return W!=null&&v(n,["veoTuningSpec"],W),n}function _j(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=g(e,["name"]);i!=null&&v(n,["name"],i);const o=g(e,["metadata"]);o!=null&&v(n,["metadata"],o);const l=g(e,["done"]);l!=null&&v(n,["done"],l);const u=g(e,["error"]);return u!=null&&v(n,["error"],u),n}function jA(e,t){const n={},r=g(e,["gcsUri"]);r!=null&&v(n,["validationDatasetUri"],r);const i=g(e,["vertexDatasetResource"]);return i!=null&&v(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bj extends bi{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Za(ci.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let l="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?l=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(l=o.name.split("/operations/")[0]),{name:l,state:jv.JOB_STATE_QUEUED}}}}async getInternal(t){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=uj(t);return u=le("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>Wv(h))}else{const d=lj(t);return u=le("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>sP(h))}}async listInternal(t){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=hj(t);return u=le("tuningJobs",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const m=mj(h),y=new wA;return Object.assign(y,m),y})}else{const d=dj(t);return u=le("tunedModels",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const m=pj(h),y=new wA;return Object.assign(y,m),y})}}async cancel(t){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=tj(t);return u=le("{name}:cancel",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const m=rj(h),y=new EA;return Object.assign(y,m),y})}else{const d=ej(t);return u=le("{name}:cancel",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const m=nj(h),y=new EA;return Object.assign(y,m),y})}}async tuneInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const u=sj(t,t);return o=le("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>Wv(f))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=oj(t);return o=le("tunedModels",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>_j(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Sj{async download(t,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const wj=1024*1024*8,Ej=3,Tj=1e3,Aj=2,Bf="x-goog-upload-status";async function xj(e,t,n){var r;const i=await lP(e,t,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Bf])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function Cj(e,t,n){var r;const i=await lP(e,t,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Bf])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const l=DO(o),u=new p0;return Object.assign(u,l),u}async function lP(e,t,n){var r,i;let o=0,l=0,u=new Gv(new Response),f="upload";for(o=e.size;l<o;){const d=Math.min(wj,o-l),h=e.slice(l,l+d);l+d>=o&&(f+=", finalize");let m=0,y=Tj;for(;m<Ej&&(u=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":String(l),"Content-Length":String(d)}}}),!(!((r=u==null?void 0:u.headers)===null||r===void 0)&&r[Bf]));)m++,await Oj(y),y=y*Aj;if(l+=d,((i=u==null?void 0:u.headers)===null||i===void 0?void 0:i[Bf])!=="active")break;if(o<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return u}async function Rj(e){return{size:e.size,type:e.type}}function Oj(e){return new Promise(t=>setTimeout(t,e))}class Pj{async upload(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await xj(t,n,r)}async uploadToFileSearchStore(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await Cj(t,n,r)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await Rj(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ij{create(t,n,r){return new Mj(t,n,r)}}class Mj{constructor(t,n,r){this.url=t,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const GA="x-goog-api-key";class Nj{constructor(t){this.apiKey=t}async addAuthHeaders(t,n){if(t.get(GA)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(GA,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const kj="gl-node/";class Dj{constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const r=cq(t.httpOptions,t.vertexai,void 0,void 0);r&&(t.httpOptions?t.httpOptions.baseUrl=r:t.httpOptions={baseUrl:r}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const i=new Nj(this.apiKey);this.apiClient=new uH({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:kj+"web",uploader:new Pj,downloader:new Sj}),this.models=new RH(this.apiClient),this.live=new wH(this.apiClient,i,new Ij),this.batches=new BB(this.apiClient),this.chats=new bz(this.models,this.apiClient),this.caches=new vz(this.apiClient),this.files=new Pz(this.apiClient),this.operations=new OH(this.apiClient),this.authTokens=new FH(this.apiClient),this.tunings=new bj(this.apiClient),this.fileSearchStores=new ZH(this.apiClient)}}const b0=new Dj({apiKey:"AIzaSyBAY29mwgw2HeVgdNa9LNPvQfaI4pwO8No"}),S0="gemini-2.5-flash",w0=e=>e.replace(/```json/g,"").replace(/```/g,"").trim(),Uj=async e=>{const t=`
    Analysera denna bild. Det r antingen ett kvitto frn en mataffr eller ett foto p en eller flera matvaror.

    1. Om det r ett kvitto: Extrahera alla matvaror. Frsk uppskatta "expiryDate" (bst fre) generst baserat p produkttyp (t.ex. mjlk 7 dagar, konserver 1 r). Extrahera pris per vara.
    2. Om det r matvaror (foto): Identifiera vad det r, uppskatta mngd/vikt, och gissa bst fre datum. Uppskatta ett ca-pris i SEK.

    Returnera JSON enligt fljande schema.
  `;try{const n=await b0.models.generateContent({model:S0,contents:{parts:[{inlineData:{mimeType:"image/jpeg",data:e}},{text:t}]},config:{responseMimeType:"application/json",responseSchema:{type:Ie.OBJECT,properties:{detectedType:{type:Ie.STRING,enum:["receipt","food_object"]},totalCost:{type:Ie.NUMBER,description:"Total cost found on receipt or estimated sum"},items:{type:Ie.ARRAY,items:{type:Ie.OBJECT,properties:{name:{type:Ie.STRING},quantity:{type:Ie.NUMBER},unit:{type:Ie.STRING,enum:Object.values(qa)},category:{type:Ie.STRING,enum:Object.values(ni)},expiryDate:{type:Ie.STRING,description:"YYYY-MM-DD"},priceInfo:{type:Ie.NUMBER,description:"Price for this specific quantity"}},required:["name","quantity","unit","category","expiryDate"]}}},required:["detectedType","items"]}}});if(n.text)return JSON.parse(w0(n.text));throw new Error("No data returned")}catch(n){throw console.error("Gemini analysis error:",n),n}},Lj=async(e,t)=>{const n=JSON.stringify(t.map(i=>({id:i.id,name:i.name,qty:i.quantity,unit:i.unit}))),r=`
    Jag har lagat fljande: "${e}".
    Hr r mitt nuvarande lager (Inventory): ${n}.

    Uppgift:
    Identifiera vilka varor frn lagret som troligen anvndes och hur mycket.
    Returnera en lista p objekt att minska saldot p.
    Var konservativ men realistisk. Om jag har 1kg pasta och lagar 2 port pasta, dra ca 200g.
    Om en ingrediens inte finns i lagret, ignorera den (jag kanske kpte den och anvnde direkt utan att scanna).
  `;try{const i=await b0.models.generateContent({model:S0,contents:r,config:{responseMimeType:"application/json",responseSchema:{type:Ie.ARRAY,items:{type:Ie.OBJECT,properties:{itemId:{type:Ie.STRING,description:"The ID from the inventory list provided"},name:{type:Ie.STRING},currentQuantity:{type:Ie.NUMBER},deductAmount:{type:Ie.NUMBER},unit:{type:Ie.STRING}},required:["itemId","name","deductAmount"]}}}});return i.text?JSON.parse(w0(i.text)):[]}catch(i){return console.error("Gemini cooking deduction error:",i),[]}},qj=async e=>{const t=new Date,n=e.map(i=>{const o=new Date(i.expiryDate),l=Math.ceil((o.getTime()-t.getTime())/(1e3*3600*24));return{name:i.name,qty:`${i.quantity} ${i.unit}`,daysLeft:l}}),r=`
    Du r en kreativ kock. Fresl 3 matrtter baserat p fljande ingredienser jag har hemma.
    
    Lagerlista: ${JSON.stringify(n)}
    
    Regler:
    1. Prioritera starkt ingredienser som har f "daysLeft" (hller p att g ut).
    2. Det r okej att fresl recept dr jag saknar ngon enstaka ingrediens (t.ex. kryddor eller basvaror), men lista dessa under "missingIngredients".
    3. Ge instruktioner p Svenska.
    
    Format: JSON.
  `;try{const i=await b0.models.generateContent({model:S0,contents:r,config:{responseMimeType:"application/json",responseSchema:{type:Ie.ARRAY,items:{type:Ie.OBJECT,properties:{id:{type:Ie.STRING},title:{type:Ie.STRING},description:{type:Ie.STRING},ingredients:{type:Ie.ARRAY,items:{type:Ie.STRING}},missingIngredients:{type:Ie.ARRAY,items:{type:Ie.STRING}},instructions:{type:Ie.ARRAY,items:{type:Ie.STRING}},cookTime:{type:Ie.STRING}},required:["title","ingredients","instructions","cookTime"]}}}});return i.text?JSON.parse(w0(i.text)):[]}catch(i){return console.error("Gemini recipe suggestion error:",i),[]}},Bj=async e=>{try{const n=await(await fetch(`https://world.openfoodfacts.org/api/v0/product/${e}.json`)).json();if(n.status===1){const r=n.product,i=r.product_name_sv||r.product_name||"Oknd vara";let o=ni.OTHER;const l=(r.categories_tags||[]).join(" ").toLowerCase();l.includes("dairy")||l.includes("milk")||l.includes("cheese")?o=ni.MEJERI:l.includes("fruit")||l.includes("vegetable")?o=ni.FRUKT_GRONT:l.includes("meat")||l.includes("fish")?o=ni.MEAT_FISH:l.includes("beverage")||l.includes("drink")?o=ni.DRYCK:(l.includes("pantry")||l.includes("pasta")||l.includes("rice"))&&(o=ni.SKASSERI);let u=1,f=qa.ST;if(r.quantity){const m=r.quantity.toLowerCase();m.includes("kg")?(u=parseFloat(m),f=qa.KG):m.includes("g")?(u=parseFloat(m),f=qa.G):m.includes("l")?(u=parseFloat(m),f=qa.L):m.includes("ml")&&(u=parseFloat(m),f=qa.ML)}const d=new Date;d.setDate(d.getDate()+7);const h=d.toISOString().split("T")[0];return{id:"",name:i,quantity:u,unit:f,category:o,expiryDate:h,addedDate:new Date().toISOString(),source:"barcode",priceInfo:0}}return null}catch(t){return console.error("Barcode lookup failed",t),null}},zj=({onItemsIdentified:e,onClose:t})=>{const[n,r]=C.useState("photo"),i=C.useRef(null),[o,l]=C.useState(!1),[u,f]=C.useState(null),d=C.useRef(null);C.useEffect(()=>{let m=!0;if(n==="barcode"){const y=setTimeout(()=>{if(m&&document.getElementById("reader"))try{const b=new Html5QrcodeScanner("reader",{fps:10,qrbox:{width:250,height:250}},!1);d.current=b,b.render(async w=>{d.current&&(await d.current.clear(),d.current=null),l(!0);try{const E=await Bj(w);if(E){const{id:T,addedDate:x,source:O,...R}=E;e([R])}else f(`Kunde inte hitta vara fr streckkod: ${w}. Lgg till manuellt.`)}catch{f("Fel vid uppslagning av streckkod.")}finally{l(!1)}},w=>{})}catch(b){console.error("Scanner initialization failed",b)}},100);return()=>{m=!1,clearTimeout(y),d.current&&(d.current.clear().catch(b=>console.error("Failed to clear scanner",b)),d.current=null)}}},[n,e]);const h=async m=>{var w;const y=(w=m.target.files)==null?void 0:w[0];if(!y)return;l(!0),f(null);const b=new FileReader;b.onloadend=async()=>{try{const E=b.result.split(",")[1],T=await Uj(E);e(T.items)}catch(E){f("Kunde inte analysera bilden. Frsk igen."),console.error(E)}finally{l(!1)}},b.readAsDataURL(y)};return k.jsx("div",{className:"fixed inset-0 bg-black/90 z-50 flex flex-col items-center justify-center p-6",children:k.jsxs("div",{className:"bg-white w-full max-w-md rounded-2xl p-6 relative overflow-y-auto max-h-[90vh]",children:[k.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-800 z-10",children:k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),k.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4 text-center",children:"Lgg till varor"}),k.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1 mb-6",children:[k.jsx("button",{onClick:()=>{r("photo"),f(null)},className:`flex-1 py-2 text-sm font-medium rounded-md transition-all ${n==="photo"?"bg-white shadow-sm text-emerald-600":"text-gray-500"}`,children:"Fota (AI)"}),k.jsx("button",{onClick:()=>{r("barcode"),f(null)},className:`flex-1 py-2 text-sm font-medium rounded-md transition-all ${n==="barcode"?"bg-white shadow-sm text-emerald-600":"text-gray-500"}`,children:"Scanna kod"})]}),o?k.jsxs("div",{className:"flex flex-col items-center py-8",children:[k.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600 mb-4"}),k.jsx("p",{className:"text-gray-600 animate-pulse",children:n==="photo"?"Analyserar bild...":"Hmtar produktinfo..."})]}):k.jsxs("div",{className:"space-y-4",children:[u&&k.jsx("div",{className:"p-3 bg-red-50 text-red-600 rounded-lg text-sm text-center",children:u}),n==="photo"?k.jsxs(k.Fragment,{children:[k.jsxs("div",{className:"p-4 bg-emerald-50 rounded-lg border border-emerald-100 text-sm text-emerald-800",children:[k.jsx("p",{className:"font-semibold mb-1",children:"Tips!"}),k.jsxs("p",{children:["Du kan ta kort p ett ",k.jsx("strong",{children:"kvitto"})," fr att lgga till allt p en gng, eller fota ",k.jsx("strong",{children:"matvaran"})," direkt."]})]}),k.jsx("input",{type:"file",accept:"image/*",capture:"environment",ref:i,onChange:h,className:"hidden"}),k.jsxs("button",{onClick:()=>{var m;return(m=i.current)==null?void 0:m.click()},className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white font-bold py-4 px-6 rounded-xl flex items-center justify-center gap-2 transition-transform active:scale-95",children:[k.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Starta Kamera / Ladda upp"]})]}):k.jsxs("div",{className:"flex flex-col items-center",children:[k.jsx("div",{id:"reader",className:"w-full overflow-hidden rounded-lg bg-black"}),k.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"Rikta kameran mot streckkoden."})]})]})]})})},$j=({inventory:e,onConfirmDeduction:t})=>{const[n,r]=C.useState(""),[i,o]=C.useState(!1),[l,u]=C.useState(null),f=async h=>{if(h.preventDefault(),!!n.trim()){o(!0),u(null);try{const m=await Lj(n,e);u(m)}catch(m){console.error(m),alert("Ngot gick fel vid analysen.")}finally{o(!1)}}},d=()=>{l&&(t(l,n),u(null),r(""))};return k.jsxs("div",{className:"p-4 max-w-lg mx-auto pb-24",children:[k.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Vad har du lagat?"}),k.jsxs("form",{onSubmit:f,className:"mb-6",children:[k.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Matrtt och antal portioner"}),k.jsxs("div",{className:"flex gap-2",children:[k.jsx("input",{type:"text",value:n,onChange:h=>r(h.target.value),placeholder:"T.ex. Spagetti och kttfrsss, 4 portioner",className:"flex-1 p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:outline-none",disabled:i}),k.jsx("button",{type:"submit",disabled:i||!n,className:"bg-emerald-600 text-white px-6 rounded-xl font-medium disabled:opacity-50",children:i?"...":"Analysera"})]}),k.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"AI:n kollar ditt lager och freslr vad som ska tas bort."})]}),l&&k.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 animate-fade-in",children:[k.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Freslagna ndringar"}),l.length===0?k.jsx("p",{className:"text-gray-500 italic mb-4",children:"Inga matchande varor hittades i ditt lager att dra av."}):k.jsx("div",{className:"space-y-3 mb-6",children:l.map(h=>k.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-50 last:border-0",children:[k.jsxs("div",{children:[k.jsx("span",{className:"font-medium text-gray-800",children:h.name}),k.jsxs("div",{className:"text-xs text-gray-500",children:["Lager: ",h.currentQuantity," ",h.unit]})]}),k.jsxs("div",{className:"text-red-600 font-bold bg-red-50 px-2 py-1 rounded",children:["-",h.deductAmount," ",h.unit]})]},h.itemId))}),k.jsxs("div",{className:"flex gap-3",children:[k.jsx("button",{onClick:()=>u(null),className:"flex-1 py-3 text-gray-600 bg-gray-100 rounded-xl font-medium",children:"Avbryt"}),k.jsx("button",{onClick:d,className:"flex-1 py-3 bg-emerald-600 text-white rounded-xl font-medium shadow-md hover:bg-emerald-700",children:"Bekrfta & Uppdatera"})]})]})]})};function uP(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=uP(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function ot(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=uP(e))&&(r&&(r+=" "),r+=t);return r}var Hj=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function E0(e){if(typeof e!="string")return!1;var t=Hj;return t.includes(e)}var jj=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Gj=new Set(jj);function cP(e){return typeof e!="string"?!1:Gj.has(e)}function fP(e){return typeof e=="string"&&e.startsWith("data-")}function fi(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(cP(n)||fP(n))&&(t[n]=e[n]);return t}function T0(e){if(e==null)return null;if(C.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return fi(t)}return typeof e=="object"&&!Array.isArray(e)?fi(e):null}function ar(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(cP(n)||fP(n)||E0(n))&&(t[n]=e[n]);return t}var Fj=["children","width","height","viewBox","className","style","title","desc"];function Xv(){return Xv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xv.apply(null,arguments)}function Vj(e,t){if(e==null)return{};var n,r,i=Kj(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Kj(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var dP=C.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:o,className:l,style:u,title:f,desc:d}=e,h=Vj(e,Fj),m=o||{width:r,height:i,x:0,y:0},y=ot("recharts-surface",l);return C.createElement("svg",Xv({},ar(h),{className:y,width:r,height:i,style:u,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:t}),C.createElement("title",null,f),C.createElement("desc",null,d),n)}),Yj=["children","className"];function Qv(){return Qv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qv.apply(null,arguments)}function Jj(e,t){if(e==null)return{};var n,r,i=Wj(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Wj(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var di=C.forwardRef((e,t)=>{var{children:n,className:r}=e,i=Jj(e,Yj),o=ot("recharts-layer",r);return C.createElement("g",Qv({className:o},ar(i),{ref:t}),n)}),hP=kO(),Xj=C.createContext(null);function tt(e){return function(){return e}}const pP=Math.cos,zf=Math.sin,Tr=Math.sqrt,$f=Math.PI,Gd=2*$f,Zv=Math.PI,ey=2*Zv,Ma=1e-6,Qj=ey-Ma;function mP(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Zj(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return mP;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class eG{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?mP:Zj(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,l){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+l}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let l=this._x1,u=this._y1,f=r-t,d=i-n,h=l-t,m=u-n,y=h*h+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(y>Ma)if(!(Math.abs(m*f-d*h)>Ma)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let b=r-l,w=i-u,E=f*f+d*d,T=b*b+w*w,x=Math.sqrt(E),O=Math.sqrt(y),R=o*Math.tan((Zv-Math.acos((E+y-T)/(2*x*O)))/2),M=R/O,I=R/x;Math.abs(M-1)>Ma&&this._append`L${t+M*h},${n+M*m}`,this._append`A${o},${o},0,0,${+(m*b>h*w)},${this._x1=t+I*f},${this._y1=n+I*d}`}}arc(t,n,r,i,o,l){if(t=+t,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),f=r*Math.sin(i),d=t+u,h=n+f,m=1^l,y=l?i-o:o-i;this._x1===null?this._append`M${d},${h}`:(Math.abs(this._x1-d)>Ma||Math.abs(this._y1-h)>Ma)&&this._append`L${d},${h}`,r&&(y<0&&(y=y%ey+ey),y>Qj?this._append`A${r},${r},0,1,${m},${t-u},${n-f}A${r},${r},0,1,${m},${this._x1=d},${this._y1=h}`:y>Ma&&this._append`A${r},${r},0,${+(y>=Zv)},${m},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function A0(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new eG(t)}function x0(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function gP(e){this._context=e}gP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Fd(e){return new gP(e)}function vP(e){return e[0]}function yP(e){return e[1]}function _P(e,t){var n=tt(!0),r=null,i=Fd,o=null,l=A0(u);e=typeof e=="function"?e:e===void 0?vP:tt(e),t=typeof t=="function"?t:t===void 0?yP:tt(t);function u(f){var d,h=(f=x0(f)).length,m,y=!1,b;for(r==null&&(o=i(b=l())),d=0;d<=h;++d)!(d<h&&n(m=f[d],d,f))===y&&((y=!y)?o.lineStart():o.lineEnd()),y&&o.point(+e(m,d,f),+t(m,d,f));if(b)return o=null,b+""||null}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:tt(+f),u):e},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:tt(+f),u):t},u.defined=function(f){return arguments.length?(n=typeof f=="function"?f:tt(!!f),u):n},u.curve=function(f){return arguments.length?(i=f,r!=null&&(o=i(r)),u):i},u.context=function(f){return arguments.length?(f==null?r=o=null:o=i(r=f),u):r},u}function Qc(e,t,n){var r=null,i=tt(!0),o=null,l=Fd,u=null,f=A0(d);e=typeof e=="function"?e:e===void 0?vP:tt(+e),t=typeof t=="function"?t:tt(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?yP:tt(+n);function d(m){var y,b,w,E=(m=x0(m)).length,T,x=!1,O,R=new Array(E),M=new Array(E);for(o==null&&(u=l(O=f())),y=0;y<=E;++y){if(!(y<E&&i(T=m[y],y,m))===x)if(x=!x)b=y,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),w=y-1;w>=b;--w)u.point(R[w],M[w]);u.lineEnd(),u.areaEnd()}x&&(R[y]=+e(T,y,m),M[y]=+t(T,y,m),u.point(r?+r(T,y,m):R[y],n?+n(T,y,m):M[y]))}if(O)return u=null,O+""||null}function h(){return _P().defined(i).curve(l).context(o)}return d.x=function(m){return arguments.length?(e=typeof m=="function"?m:tt(+m),r=null,d):e},d.x0=function(m){return arguments.length?(e=typeof m=="function"?m:tt(+m),d):e},d.x1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:tt(+m),d):r},d.y=function(m){return arguments.length?(t=typeof m=="function"?m:tt(+m),n=null,d):t},d.y0=function(m){return arguments.length?(t=typeof m=="function"?m:tt(+m),d):t},d.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:tt(+m),d):n},d.lineX0=d.lineY0=function(){return h().x(e).y(t)},d.lineY1=function(){return h().x(e).y(n)},d.lineX1=function(){return h().x(r).y(t)},d.defined=function(m){return arguments.length?(i=typeof m=="function"?m:tt(!!m),d):i},d.curve=function(m){return arguments.length?(l=m,o!=null&&(u=l(o)),d):l},d.context=function(m){return arguments.length?(m==null?o=u=null:u=l(o=m),d):o},d}class bP{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function tG(e){return new bP(e,!0)}function nG(e){return new bP(e,!1)}const C0={draw(e,t){const n=Tr(t/$f);e.moveTo(n,0),e.arc(0,0,n,0,Gd)}},rG={draw(e,t){const n=Tr(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},SP=Tr(1/3),iG=SP*2,aG={draw(e,t){const n=Tr(t/iG),r=n*SP;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},oG={draw(e,t){const n=Tr(t),r=-n/2;e.rect(r,r,n,n)}},sG=.8908130915292852,wP=zf($f/10)/zf(7*$f/10),lG=zf(Gd/10)*wP,uG=-pP(Gd/10)*wP,cG={draw(e,t){const n=Tr(t*sG),r=lG*n,i=uG*n;e.moveTo(0,-n),e.lineTo(r,i);for(let o=1;o<5;++o){const l=Gd*o/5,u=pP(l),f=zf(l);e.lineTo(f*n,-u*n),e.lineTo(u*r-f*i,f*r+u*i)}e.closePath()}},eg=Tr(3),fG={draw(e,t){const n=-Tr(t/(eg*3));e.moveTo(0,n*2),e.lineTo(-eg*n,-n),e.lineTo(eg*n,-n),e.closePath()}},er=-.5,tr=Tr(3)/2,ty=1/Tr(12),dG=(ty/2+1)*3,hG={draw(e,t){const n=Tr(t/dG),r=n/2,i=n*ty,o=r,l=n*ty+n,u=-o,f=l;e.moveTo(r,i),e.lineTo(o,l),e.lineTo(u,f),e.lineTo(er*r-tr*i,tr*r+er*i),e.lineTo(er*o-tr*l,tr*o+er*l),e.lineTo(er*u-tr*f,tr*u+er*f),e.lineTo(er*r+tr*i,er*i-tr*r),e.lineTo(er*o+tr*l,er*l-tr*o),e.lineTo(er*u+tr*f,er*f-tr*u),e.closePath()}};function pG(e,t){let n=null,r=A0(i);e=typeof e=="function"?e:tt(e||C0),t=typeof t=="function"?t:tt(t===void 0?64:+t);function i(){let o;if(n||(n=o=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(e=typeof o=="function"?o:tt(o),i):e},i.size=function(o){return arguments.length?(t=typeof o=="function"?o:tt(+o),i):t},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Hf(){}function jf(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function EP(e){this._context=e}EP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:jf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:jf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function mG(e){return new EP(e)}function TP(e){this._context=e}TP.prototype={areaStart:Hf,areaEnd:Hf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:jf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function gG(e){return new TP(e)}function AP(e){this._context=e}AP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:jf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function vG(e){return new AP(e)}function xP(e){this._context=e}xP.prototype={areaStart:Hf,areaEnd:Hf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function yG(e){return new xP(e)}function FA(e){return e<0?-1:1}function VA(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),l=(n-e._y1)/(i||r<0&&-0),u=(o*i+l*r)/(r+i);return(FA(o)+FA(l))*Math.min(Math.abs(o),Math.abs(l),.5*Math.abs(u))||0}function KA(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function tg(e,t,n){var r=e._x0,i=e._y0,o=e._x1,l=e._y1,u=(o-r)/3;e._context.bezierCurveTo(r+u,i+u*t,o-u,l-u*n,o,l)}function Gf(e){this._context=e}Gf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:tg(this,this._t0,KA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,tg(this,KA(this,n=VA(this,e,t)),n);break;default:tg(this,this._t0,n=VA(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function CP(e){this._context=new RP(e)}(CP.prototype=Object.create(Gf.prototype)).point=function(e,t){Gf.prototype.point.call(this,t,e)};function RP(e){this._context=e}RP.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}};function _G(e){return new Gf(e)}function bG(e){return new CP(e)}function OP(e){this._context=e}OP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=YA(e),i=YA(t),o=0,l=1;l<n;++o,++l)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[l],t[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function YA(e){var t,n=e.length-1,r,i=new Array(n),o=new Array(n),l=new Array(n);for(i[0]=0,o[0]=2,l[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,o[t]=4,l[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,o[n-1]=7,l[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/o[t-1],o[t]-=r,l[t]-=r*l[t-1];for(i[n-1]=l[n-1]/o[n-1],t=n-2;t>=0;--t)i[t]=(l[t]-i[t+1])/o[t];for(o[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function SG(e){return new OP(e)}function Vd(e,t){this._context=e,this._t=t}Vd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function wG(e){return new Vd(e,.5)}function EG(e){return new Vd(e,0)}function TG(e){return new Vd(e,1)}function ls(e,t){if((l=e.length)>1)for(var n=1,r,i,o=e[t[0]],l,u=o.length;n<l;++n)for(i=o,o=e[t[n]],r=0;r<u;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function ny(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function AG(e,t){return e[t]}function xG(e){const t=[];return t.key=e,t}function CG(){var e=tt([]),t=ny,n=ls,r=AG;function i(o){var l=Array.from(e.apply(this,arguments),xG),u,f=l.length,d=-1,h;for(const m of o)for(u=0,++d;u<f;++u)(l[u][d]=[0,+r(m,l[u].key,d,o)]).data=m;for(u=0,h=x0(t(l));u<f;++u)l[h[u]].index=u;return n(l,h),l}return i.keys=function(o){return arguments.length?(e=typeof o=="function"?o:tt(Array.from(o)),i):e},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:tt(+o),i):r},i.order=function(o){return arguments.length?(t=o==null?ny:typeof o=="function"?o:tt(Array.from(o)),i):t},i.offset=function(o){return arguments.length?(n=o??ls,i):n},i}function RG(e,t){if((r=e.length)>0){for(var n,r,i=0,o=e[0].length,l;i<o;++i){for(l=n=0;n<r;++n)l+=e[n][i][1]||0;if(l)for(n=0;n<r;++n)e[n][i][1]/=l}ls(e,t)}}function OG(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,o=r.length;n<o;++n){for(var l=0,u=0;l<i;++l)u+=e[l][n][1]||0;r[n][1]+=r[n][0]=-u/2}ls(e,t)}}function PG(e,t){if(!(!((l=e.length)>0)||!((o=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,o,l;r<o;++r){for(var u=0,f=0,d=0;u<l;++u){for(var h=e[t[u]],m=h[r][1]||0,y=h[r-1][1]||0,b=(m-y)/2,w=0;w<u;++w){var E=e[t[w]],T=E[r][1]||0,x=E[r-1][1]||0;b+=T-x}f+=m,d+=b*m}i[r-1][1]+=i[r-1][0]=n,f&&(n-=d/f)}i[r-1][1]+=i[r-1][0]=n,ls(e,t)}}var ng={},rg={},JA;function IG(){return JA||(JA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(rg)),rg}var ig={},WA;function PP(){return WA||(WA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(ig)),ig}var ag={},XA;function R0(){return XA||(XA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(ag)),ag}var og={},sg={},QA;function MG(){return QA||(QA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(sg)),sg}var ZA;function O0(){return ZA||(ZA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MG(),n=R0();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const o=[],l=i.length;if(l===0)return o;let u=0,f="",d="",h=!1;for(i.charCodeAt(0)===46&&(o.push(""),u++);u<l;){const m=i[u];d?m==="\\"&&u+1<l?(u++,f+=i[u]):m===d?d="":f+=m:h?m==='"'||m==="'"?d=m:m==="]"?(h=!1,o.push(f),f=""):f+=m:m==="["?(h=!0,f&&(o.push(f),f="")):m==="."?f&&(o.push(f),f=""):f+=m,u++}return f&&o.push(f),o}e.toPath=r})(og)),og}var ex;function P0(){return ex||(ex=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IG(),n=PP(),r=R0(),i=O0();function o(u,f,d){if(u==null)return d;switch(typeof f){case"string":{if(t.isUnsafeProperty(f))return d;const h=u[f];return h===void 0?n.isDeepKey(f)?o(u,i.toPath(f),d):d:h}case"number":case"symbol":{typeof f=="number"&&(f=r.toKey(f));const h=u[f];return h===void 0?d:h}default:{if(Array.isArray(f))return l(u,f,d);if(Object.is(f==null?void 0:f.valueOf(),-0)?f="-0":f=String(f),t.isUnsafeProperty(f))return d;const h=u[f];return h===void 0?d:h}}}function l(u,f,d){if(f.length===0)return d;let h=u;for(let m=0;m<f.length;m++){if(h==null||t.isUnsafeProperty(f[m]))return d;h=h[f[m]]}return h===void 0?d:h}e.get=o})(ng)),ng}var lg,tx;function NG(){return tx||(tx=1,lg=P0().get),lg}var kG=NG();const us=wr(kG);var En=e=>e===0?0:e>0?1:-1,_r=e=>typeof e=="number"&&e!=+e,hi=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,ge=e=>(typeof e=="number"||e instanceof Number)&&!_r(e),Mr=e=>ge(e)||typeof e=="string",DG=0,Yl=e=>{var t=++DG;return"".concat(e||"").concat(t)},br=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ge(t)&&typeof t!="string")return r;var o;if(hi(t)){if(n==null)return r;var l=t.indexOf("%");o=n*parseFloat(t.slice(0,l))/100}else o=+t;return _r(o)&&(o=r),i&&n!=null&&o>n&&(o=n),o},IP=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1};function Qt(e,t,n){return ge(e)&&ge(t)?e+n*(t-e):t}function UG(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):us(r,t))===n)}var qt=e=>e===null||typeof e>"u",fu=e=>qt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function LG(e){return e!=null}function du(){}var qG=["type","size","sizeType"];function ry(){return ry=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ry.apply(null,arguments)}function nx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nx(Object(n),!0).forEach(function(r){BG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nx(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function BG(e,t,n){return(t=zG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zG(e){var t=$G(e,"string");return typeof t=="symbol"?t:t+""}function $G(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HG(e,t){if(e==null)return{};var n,r,i=jG(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function jG(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var MP={symbolCircle:C0,symbolCross:rG,symbolDiamond:aG,symbolSquare:oG,symbolStar:cG,symbolTriangle:fG,symbolWye:hG},GG=Math.PI/180,FG=e=>{var t="symbol".concat(fu(e));return MP[t]||C0},VG=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*GG;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},KG=(e,t)=>{MP["symbol".concat(fu(e))]=t},NP=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=HG(e,qG),o=rx(rx({},i),{},{type:t,size:n,sizeType:r}),l="circle";typeof t=="string"&&(l=t);var u=()=>{var y=FG(l),b=pG().type(y).size(VG(n,r,l)),w=b();if(w!==null)return w},{className:f,cx:d,cy:h}=o,m=ar(o);return ge(d)&&ge(h)&&ge(n)?C.createElement("path",ry({},m,{className:ot("recharts-symbols",f),transform:"translate(".concat(d,", ").concat(h,")"),d:u()})):null};NP.registerSymbol=KG;var kP=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,YG=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(C.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{E0(i)&&(r[i]=(o=>n[i](n,o)))}),r},JG=(e,t,n)=>r=>(e(t,n,r),null),I0=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var o=e[i];E0(i)&&typeof o=="function"&&(r||(r={}),r[i]=JG(o,t,n))}),r};function ix(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function WG(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ix(Object(n),!0).forEach(function(r){XG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ix(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function XG(e,t,n){return(t=QG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QG(e){var t=ZG(e,"string");return typeof t=="symbol"?t:t+""}function ZG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jn(e,t){var n=WG({},e),r=t,i=Object.keys(t),o=i.reduce((l,u)=>(l[u]===void 0&&r[u]!==void 0&&(l[u]=r[u]),l),n);return o}var ug={},cg={},ax;function e4(){return ax||(ax=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let o=0;o<n.length;o++){const l=n[o],u=r(l);i.has(u)||i.set(u,l)}return Array.from(i.values())}e.uniqBy=t})(cg)),cg}var fg={},ox;function DP(){return ox||(ox=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(fg)),fg}var dg={},hg={},pg={},sx;function t4(){return sx||(sx=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(pg)),pg}var lx;function M0(){return lx||(lx=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=t4();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(hg)),hg}var mg={},ux;function n4(){return ux||(ux=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(mg)),mg}var cx;function r4(){return cx||(cx=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=M0(),n=n4();function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(dg)),dg}var gg={},vg={},fx;function i4(){return fx||(fx=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=P0();function n(r){return function(i){return t.get(i,r)}}e.property=n})(vg)),vg}var yg={},_g={},bg={},Sg={},dx;function UP(){return dx||(dx=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(Sg)),Sg}var wg={},hx;function LP(){return hx||(hx=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(wg)),wg}var Eg={},px;function qP(){return px||(px=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(Eg)),Eg}var mx;function a4(){return mx||(mx=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UP(),n=LP(),r=qP();function i(h,m,y){return typeof y!="function"?i(h,m,()=>{}):o(h,m,function b(w,E,T,x,O,R){const M=y(w,E,T,x,O,R);return M!==void 0?!!M:o(w,E,b,R)},new Map)}function o(h,m,y,b){if(m===h)return!0;switch(typeof m){case"object":return l(h,m,y,b);case"function":return Object.keys(m).length>0?o(h,{...m},y,b):r.eq(h,m);default:return t.isObject(h)?typeof m=="string"?m==="":!0:r.eq(h,m)}}function l(h,m,y,b){if(m==null)return!0;if(Array.isArray(m))return f(h,m,y,b);if(m instanceof Map)return u(h,m,y,b);if(m instanceof Set)return d(h,m,y,b);const w=Object.keys(m);if(h==null)return w.length===0;if(w.length===0)return!0;if(b!=null&&b.has(m))return b.get(m)===h;b==null||b.set(m,h);try{for(let E=0;E<w.length;E++){const T=w[E];if(!n.isPrimitive(h)&&!(T in h)||m[T]===void 0&&h[T]!==void 0||m[T]===null&&h[T]!==null||!y(h[T],m[T],T,h,m,b))return!1}return!0}finally{b==null||b.delete(m)}}function u(h,m,y,b){if(m.size===0)return!0;if(!(h instanceof Map))return!1;for(const[w,E]of m.entries()){const T=h.get(w);if(y(T,E,w,h,m,b)===!1)return!1}return!0}function f(h,m,y,b){if(m.length===0)return!0;if(!Array.isArray(h))return!1;const w=new Set;for(let E=0;E<m.length;E++){const T=m[E];let x=!1;for(let O=0;O<h.length;O++){if(w.has(O))continue;const R=h[O];let M=!1;if(y(R,T,E,h,m,b)&&(M=!0),M){w.add(O),x=!0;break}}if(!x)return!1}return!0}function d(h,m,y,b){return m.size===0?!0:h instanceof Set?f([...h],[...m],y,b):!1}e.isMatchWith=i,e.isSetMatch=d})(bg)),bg}var gx;function BP(){return gx||(gx=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=a4();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(_g)),_g}var Tg={},Ag={},xg={},vx;function o4(){return vx||(vx=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(xg)),xg}var Cg={},yx;function zP(){return yx||(yx=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(Cg)),Cg}var Rg={},_x;function $P(){return _x||(_x=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",o="[object Arguments]",l="[object Symbol]",u="[object Date]",f="[object Map]",d="[object Set]",h="[object Array]",m="[object Function]",y="[object ArrayBuffer]",b="[object Object]",w="[object Error]",E="[object DataView]",T="[object Uint8Array]",x="[object Uint8ClampedArray]",O="[object Uint16Array]",R="[object Uint32Array]",M="[object BigUint64Array]",I="[object Int8Array]",N="[object Int16Array]",U="[object Int32Array]",X="[object BigInt64Array]",G="[object Float32Array]",ie="[object Float64Array]";e.argumentsTag=o,e.arrayBufferTag=y,e.arrayTag=h,e.bigInt64ArrayTag=X,e.bigUint64ArrayTag=M,e.booleanTag=i,e.dataViewTag=E,e.dateTag=u,e.errorTag=w,e.float32ArrayTag=G,e.float64ArrayTag=ie,e.functionTag=m,e.int16ArrayTag=N,e.int32ArrayTag=U,e.int8ArrayTag=I,e.mapTag=f,e.numberTag=r,e.objectTag=b,e.regexpTag=t,e.setTag=d,e.stringTag=n,e.symbolTag=l,e.uint16ArrayTag=O,e.uint32ArrayTag=R,e.uint8ArrayTag=T,e.uint8ClampedArrayTag=x})(Rg)),Rg}var Og={},bx;function s4(){return bx||(bx=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(Og)),Og}var Sx;function HP(){return Sx||(Sx=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=o4(),n=zP(),r=$P(),i=LP(),o=s4();function l(h,m){return u(h,void 0,h,new Map,m)}function u(h,m,y,b=new Map,w=void 0){const E=w==null?void 0:w(h,m,y,b);if(E!==void 0)return E;if(i.isPrimitive(h))return h;if(b.has(h))return b.get(h);if(Array.isArray(h)){const T=new Array(h.length);b.set(h,T);for(let x=0;x<h.length;x++)T[x]=u(h[x],x,y,b,w);return Object.hasOwn(h,"index")&&(T.index=h.index),Object.hasOwn(h,"input")&&(T.input=h.input),T}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const T=new RegExp(h.source,h.flags);return T.lastIndex=h.lastIndex,T}if(h instanceof Map){const T=new Map;b.set(h,T);for(const[x,O]of h)T.set(x,u(O,x,y,b,w));return T}if(h instanceof Set){const T=new Set;b.set(h,T);for(const x of h)T.add(u(x,void 0,y,b,w));return T}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(o.isTypedArray(h)){const T=new(Object.getPrototypeOf(h)).constructor(h.length);b.set(h,T);for(let x=0;x<h.length;x++)T[x]=u(h[x],x,y,b,w);return T}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const T=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return b.set(h,T),f(T,h,y,b,w),T}if(typeof File<"u"&&h instanceof File){const T=new File([h],h.name,{type:h.type});return b.set(h,T),f(T,h,y,b,w),T}if(typeof Blob<"u"&&h instanceof Blob){const T=new Blob([h],{type:h.type});return b.set(h,T),f(T,h,y,b,w),T}if(h instanceof Error){const T=new h.constructor;return b.set(h,T),T.message=h.message,T.name=h.name,T.stack=h.stack,T.cause=h.cause,f(T,h,y,b,w),T}if(h instanceof Boolean){const T=new Boolean(h.valueOf());return b.set(h,T),f(T,h,y,b,w),T}if(h instanceof Number){const T=new Number(h.valueOf());return b.set(h,T),f(T,h,y,b,w),T}if(h instanceof String){const T=new String(h.valueOf());return b.set(h,T),f(T,h,y,b,w),T}if(typeof h=="object"&&d(h)){const T=Object.create(Object.getPrototypeOf(h));return b.set(h,T),f(T,h,y,b,w),T}return h}function f(h,m,y=h,b,w){const E=[...Object.keys(m),...t.getSymbols(m)];for(let T=0;T<E.length;T++){const x=E[T],O=Object.getOwnPropertyDescriptor(h,x);(O==null||O.writable)&&(h[x]=u(m[x],x,y,b,w))}}function d(h){switch(n.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=u,e.copyProperties=f})(Ag)),Ag}var wx;function l4(){return wx||(wx=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HP();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(Tg)),Tg}var Ex;function u4(){return Ex||(Ex=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BP(),n=l4();function r(i){return i=n.cloneDeep(i),o=>t.isMatch(o,i)}e.matches=r})(yg)),yg}var Pg={},Ig={},Mg={},Tx;function c4(){return Tx||(Tx=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HP(),n=$P();function r(i,o){return t.cloneDeepWith(i,(l,u,f,d)=>{const h=o==null?void 0:o(l,u,f,d);if(h!==void 0)return h;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const m=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(m,i),m}case n.argumentsTag:{const m={};return t.copyProperties(m,i),m.length=i.length,m[Symbol.iterator]=i[Symbol.iterator],m}default:return}})}e.cloneDeepWith=r})(Mg)),Mg}var Ax;function f4(){return Ax||(Ax=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=c4();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(Ig)),Ig}var Ng={},kg={},xx;function jP(){return xx||(xx=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(kg)),kg}var Dg={},Cx;function d4(){return Cx||(Cx=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zP();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(Dg)),Dg}var Rx;function h4(){return Rx||(Rx=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PP(),n=jP(),r=d4(),i=O0();function o(l,u){let f;if(Array.isArray(u)?f=u:typeof u=="string"&&t.isDeepKey(u)&&(l==null?void 0:l[u])==null?f=i.toPath(u):f=[u],f.length===0)return!1;let d=l;for(let h=0;h<f.length;h++){const m=f[h];if((d==null||!Object.hasOwn(d,m))&&!((Array.isArray(d)||r.isArguments(d))&&n.isIndex(m)&&m<d.length))return!1;d=d[m]}return!0}e.has=o})(Ng)),Ng}var Ox;function p4(){return Ox||(Ox=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BP(),n=R0(),r=f4(),i=P0(),o=h4();function l(u,f){switch(typeof u){case"object":{Object.is(u==null?void 0:u.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return f=r.cloneDeep(f),function(d){const h=i.get(d,u);return h===void 0?o.has(d,u):f===void 0?h===void 0:t.isMatch(h,f)}}e.matchesProperty=l})(Pg)),Pg}var Px;function m4(){return Px||(Px=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DP(),n=i4(),r=u4(),i=p4();function o(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}e.iteratee=o})(gg)),gg}var Ix;function g4(){return Ix||(Ix=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=e4(),n=DP(),r=r4(),i=m4();function o(l,u=n.identity){return r.isArrayLikeObject(l)?t.uniqBy(Array.from(l),i.iteratee(u)):[]}e.uniqBy=o})(ug)),ug}var Ug,Mx;function v4(){return Mx||(Mx=1,Ug=g4().uniqBy),Ug}var y4=v4();const Nx=wr(y4);function _4(e,t,n){return t===!0?Nx(e,n):typeof t=="function"?Nx(e,t):e}var Lg={exports:{}},qg={},Bg={exports:{}},zg={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kx;function b4(){if(kx)return zg;kx=1;var e=Ss();function t(m,y){return m===y&&(m!==0||1/m===1/y)||m!==m&&y!==y}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,o=e.useLayoutEffect,l=e.useDebugValue;function u(m,y){var b=y(),w=r({inst:{value:b,getSnapshot:y}}),E=w[0].inst,T=w[1];return o(function(){E.value=b,E.getSnapshot=y,f(E)&&T({inst:E})},[m,b,y]),i(function(){return f(E)&&T({inst:E}),m(function(){f(E)&&T({inst:E})})},[m]),l(b),b}function f(m){var y=m.getSnapshot;m=m.value;try{var b=y();return!n(m,b)}catch{return!0}}function d(m,y){return y()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:u;return zg.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,zg}var Dx;function S4(){return Dx||(Dx=1,Bg.exports=b4()),Bg.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ux;function w4(){if(Ux)return qg;Ux=1;var e=Ss(),t=S4();function n(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,o=e.useRef,l=e.useEffect,u=e.useMemo,f=e.useDebugValue;return qg.useSyncExternalStoreWithSelector=function(d,h,m,y,b){var w=o(null);if(w.current===null){var E={hasValue:!1,value:null};w.current=E}else E=w.current;w=u(function(){function x(N){if(!O){if(O=!0,R=N,N=y(N),b!==void 0&&E.hasValue){var U=E.value;if(b(U,N))return M=U}return M=N}if(U=M,r(R,N))return U;var X=y(N);return b!==void 0&&b(U,X)?(R=N,U):(R=N,M=X)}var O=!1,R,M,I=m===void 0?null:m;return[function(){return x(h())},I===null?void 0:function(){return x(I())}]},[h,m,y,b]);var T=i(d,w[0],w[1]);return l(function(){E.hasValue=!0,E.value=T},[T]),f(T),T},qg}var Lx;function E4(){return Lx||(Lx=1,Lg.exports=w4()),Lg.exports}var T4=E4(),N0=C.createContext(null),A4=e=>e,yt=()=>{var e=C.useContext(N0);return e?e.store.dispatch:A4},Cf=()=>{},x4=()=>Cf,C4=(e,t)=>e===t;function _e(e){var t=C.useContext(N0);return T4.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:x4,t?t.store.getState:Cf,t?t.store.getState:Cf,t?e:Cf,C4)}function R4(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function O4(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function P4(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var qx=e=>Array.isArray(e)?e:[e];function I4(e){const t=Array.isArray(e[0])?e[0]:e;return P4(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function M4(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var N4=class{constructor(e){this.value=e}deref(){return this.value}},k4=typeof WeakRef<"u"?WeakRef:N4,D4=0,Bx=1;function Zc(){return{s:D4,v:void 0,o:null,p:null}}function GP(e,t={}){let n=Zc();const{resultEqualityCheck:r}=t;let i,o=0;function l(){var m;let u=n;const{length:f}=arguments;for(let y=0,b=f;y<b;y++){const w=arguments[y];if(typeof w=="function"||typeof w=="object"&&w!==null){let E=u.o;E===null&&(u.o=E=new WeakMap);const T=E.get(w);T===void 0?(u=Zc(),E.set(w,u)):u=T}else{let E=u.p;E===null&&(u.p=E=new Map);const T=E.get(w);T===void 0?(u=Zc(),E.set(w,u)):u=T}}const d=u;let h;if(u.s===Bx)h=u.v;else if(h=e.apply(null,arguments),o++,r){const y=((m=i==null?void 0:i.deref)==null?void 0:m.call(i))??i;y!=null&&r(y,h)&&(h=y,o!==0&&o--),i=typeof h=="object"&&h!==null||typeof h=="function"?new k4(h):h}return d.s=Bx,d.v=h,h}return l.clearCache=()=>{n=Zc(),l.resetResultsCount()},l.resultsCount=()=>o,l.resetResultsCount=()=>{o=0},l}function U4(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let o=0,l=0,u,f={},d=i.pop();typeof d=="object"&&(f=d,d=i.pop()),R4(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const h={...n,...f},{memoize:m,memoizeOptions:y=[],argsMemoize:b=GP,argsMemoizeOptions:w=[]}=h,E=qx(y),T=qx(w),x=I4(i),O=m(function(){return o++,d.apply(null,arguments)},...E),R=b(function(){l++;const I=M4(x,arguments);return u=O.apply(null,I),u},...T);return Object.assign(R,{resultFunc:d,memoizedResultFunc:O,dependencies:x,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>u,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:m,argsMemoize:b})};return Object.assign(r,{withTypes:()=>r}),r}var V=U4(GP),L4=Object.assign((e,t=V)=>{O4(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(o=>e[o]);return t(r,(...o)=>o.reduce((l,u,f)=>(l[n[f]]=u,l),{}))},{withTypes:()=>L4}),$g={},Hg={},jg={},zx;function q4(){return zx||(zx=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,o)=>{if(r!==i){const l=t(r),u=t(i);if(l===u&&l===0){if(r<i)return o==="desc"?1:-1;if(r>i)return o==="desc"?-1:1}return o==="desc"?u-l:l-u}return 0};e.compareValues=n})(jg)),jg}var Gg={},Fg={},$x;function FP(){return $x||($x=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(Fg)),Fg}var Hx;function B4(){return Hx||(Hx=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FP(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,l){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||t.isSymbol(o)?!0:typeof o=="string"&&(r.test(o)||!n.test(o))||l!=null&&Object.hasOwn(l,o)}e.isKey=i})(Gg)),Gg}var jx;function z4(){return jx||(jx=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=q4(),n=B4(),r=O0();function i(o,l,u,f){if(o==null)return[];u=f?void 0:u,Array.isArray(o)||(o=Object.values(o)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(b=>String(b));const d=(b,w)=>{let E=b;for(let T=0;T<w.length&&E!=null;++T)E=E[w[T]];return E},h=(b,w)=>w==null||b==null?w:typeof b=="object"&&"key"in b?Object.hasOwn(w,b.key)?w[b.key]:d(w,b.path):typeof b=="function"?b(w):Array.isArray(b)?d(w,b):typeof w=="object"?w[b]:w,m=l.map(b=>(Array.isArray(b)&&b.length===1&&(b=b[0]),b==null||typeof b=="function"||Array.isArray(b)||n.isKey(b)?b:{key:b,path:r.toPath(b)}));return o.map(b=>({original:b,criteria:m.map(w=>h(w,b))})).slice().sort((b,w)=>{for(let E=0;E<m.length;E++){const T=t.compareValues(b.criteria[E],w.criteria[E],u[E]);if(T!==0)return T}return 0}).map(b=>b.original)}e.orderBy=i})(Hg)),Hg}var Vg={},Gx;function $4(){return Gx||(Gx=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],o=Math.floor(r),l=(u,f)=>{for(let d=0;d<u.length;d++){const h=u[d];Array.isArray(h)&&f<o?l(h,f+1):i.push(h)}};return l(n,0),i}e.flatten=t})(Vg)),Vg}var Kg={},Fx;function VP(){return Fx||(Fx=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jP(),n=M0(),r=UP(),i=qP();function o(l,u,f){return r.isObject(f)&&(typeof u=="number"&&n.isArrayLike(f)&&t.isIndex(u)&&u<f.length||typeof u=="string"&&u in f)?i.eq(f[u],l):!1}e.isIterateeCall=o})(Kg)),Kg}var Vx;function H4(){return Vx||(Vx=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=z4(),n=$4(),r=VP();function i(o,...l){const u=l.length;return u>1&&r.isIterateeCall(o,l[0],l[1])?l=[]:u>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(o,n.flatten(l),["asc"])}e.sortBy=i})($g)),$g}var Yg,Kx;function j4(){return Kx||(Kx=1,Yg=H4().sortBy),Yg}var G4=j4();const Kd=wr(G4);var KP=e=>e.legend.settings,F4=e=>e.legend.size,V4=e=>e.legend.payload;V([V4,KP],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?Kd(r,n):r});var ef=1;function K4(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=C.useState({height:0,left:0,top:0,width:0}),r=C.useCallback(i=>{if(i!=null){var o=i.getBoundingClientRect(),l={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(l.height-t.height)>ef||Math.abs(l.left-t.left)>ef||Math.abs(l.top-t.top)>ef||Math.abs(l.width-t.width)>ef)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function Xt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Y4=typeof Symbol=="function"&&Symbol.observable||"@@observable",Yx=Y4,Jg=()=>Math.random().toString(36).substring(7).split("").join("."),J4={INIT:`@@redux/INIT${Jg()}`,REPLACE:`@@redux/REPLACE${Jg()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Jg()}`},Ff=J4;function k0(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function YP(e,t,n){if(typeof e!="function")throw new Error(Xt(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Xt(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Xt(1));return n(YP)(e,t)}let r=e,i=t,o=new Map,l=o,u=0,f=!1;function d(){l===o&&(l=new Map,o.forEach((T,x)=>{l.set(x,T)}))}function h(){if(f)throw new Error(Xt(3));return i}function m(T){if(typeof T!="function")throw new Error(Xt(4));if(f)throw new Error(Xt(5));let x=!0;d();const O=u++;return l.set(O,T),function(){if(x){if(f)throw new Error(Xt(6));x=!1,d(),l.delete(O),o=null}}}function y(T){if(!k0(T))throw new Error(Xt(7));if(typeof T.type>"u")throw new Error(Xt(8));if(typeof T.type!="string")throw new Error(Xt(17));if(f)throw new Error(Xt(9));try{f=!0,i=r(i,T)}finally{f=!1}return(o=l).forEach(O=>{O()}),T}function b(T){if(typeof T!="function")throw new Error(Xt(10));r=T,y({type:Ff.REPLACE})}function w(){const T=m;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(Xt(11));function O(){const M=x;M.next&&M.next(h())}return O(),{unsubscribe:T(O)}},[Yx](){return this}}}return y({type:Ff.INIT}),{dispatch:y,subscribe:m,getState:h,replaceReducer:b,[Yx]:w}}function W4(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Ff.INIT})>"u")throw new Error(Xt(12));if(typeof n(void 0,{type:Ff.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Xt(13))})}function JP(e){const t=Object.keys(e),n={};for(let o=0;o<t.length;o++){const l=t[o];typeof e[l]=="function"&&(n[l]=e[l])}const r=Object.keys(n);let i;try{W4(n)}catch(o){i=o}return function(l={},u){if(i)throw i;let f=!1;const d={};for(let h=0;h<r.length;h++){const m=r[h],y=n[m],b=l[m],w=y(b,u);if(typeof w>"u")throw u&&u.type,new Error(Xt(14));d[m]=w,f=f||w!==b}return f=f||r.length!==Object.keys(l).length,f?d:l}}function Vf(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function X4(...e){return t=>(n,r)=>{const i=t(n,r);let o=()=>{throw new Error(Xt(15))};const l={getState:i.getState,dispatch:(f,...d)=>o(f,...d)},u=e.map(f=>f(l));return o=Vf(...u)(i.dispatch),{...i,dispatch:o}}}function WP(e){return k0(e)&&"type"in e&&typeof e.type=="string"}var XP=Symbol.for("immer-nothing"),Jx=Symbol.for("immer-draftable"),fn=Symbol.for("immer-state");function mr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var zn=Object,cs=zn.getPrototypeOf,Kf="constructor",Yd="prototype",iy="configurable",Yf="enumerable",Rf="writable",Jl="value",pi=e=>!!e&&!!e[fn];function Sr(e){var t;return e?QP(e)||Jd(e)||!!e[Jx]||!!((t=e[Kf])!=null&&t[Jx])||Wd(e)||Xd(e):!1}var Q4=zn[Yd][Kf].toString(),Wx=new WeakMap;function QP(e){if(!e||!D0(e))return!1;const t=cs(e);if(t===null||t===zn[Yd])return!0;const n=zn.hasOwnProperty.call(t,Kf)&&t[Kf];if(n===Object)return!0;if(!Jo(n))return!1;let r=Wx.get(n);return r===void 0&&(r=Function.toString.call(n),Wx.set(n,r)),r===Q4}function hu(e,t,n=!0){pu(e)===0?(n?Reflect.ownKeys(e):zn.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function pu(e){const t=e[fn];return t?t.type_:Jd(e)?1:Wd(e)?2:Xd(e)?3:0}var Xx=(e,t,n=pu(e))=>n===2?e.has(t):zn[Yd].hasOwnProperty.call(e,t),ay=(e,t,n=pu(e))=>n===2?e.get(t):e[t],Jf=(e,t,n,r=pu(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function Z4(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Jd=Array.isArray,Wd=e=>e instanceof Map,Xd=e=>e instanceof Set,D0=e=>typeof e=="object",Jo=e=>typeof e=="function",Wg=e=>typeof e=="boolean",ri=e=>e.copy_||e.base_,U0=e=>e.modified_?e.copy_:e.base_;function oy(e,t){if(Wd(e))return new Map(e);if(Xd(e))return new Set(e);if(Jd(e))return Array[Yd].slice.call(e);const n=QP(e);if(t===!0||t==="class_only"&&!n){const r=zn.getOwnPropertyDescriptors(e);delete r[fn];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const l=i[o],u=r[l];u[Rf]===!1&&(u[Rf]=!0,u[iy]=!0),(u.get||u.set)&&(r[l]={[iy]:!0,[Rf]:!0,[Yf]:u[Yf],[Jl]:e[l]})}return zn.create(cs(e),r)}else{const r=cs(e);if(r!==null&&n)return{...e};const i=zn.create(r);return zn.assign(i,e)}}function L0(e,t=!1){return Qd(e)||pi(e)||!Sr(e)||(pu(e)>1&&zn.defineProperties(e,{set:tf,add:tf,clear:tf,delete:tf}),zn.freeze(e),t&&hu(e,(n,r)=>{L0(r,!0)},!1)),e}function eF(){mr(2)}var tf={[Jl]:eF};function Qd(e){return e===null||!D0(e)?!0:zn.isFrozen(e)}var Wf="MapSet",sy="Patches",ZP={};function fs(e){const t=ZP[e];return t||mr(0,e),t}var tF=e=>!!ZP[e],Wl,eI=()=>Wl,nF=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:tF(Wf)?fs(Wf):void 0});function Qx(e,t){t&&(e.patchPlugin_=fs(sy),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function ly(e){uy(e),e.drafts_.forEach(rF),e.drafts_=null}function uy(e){e===Wl&&(Wl=e.parent_)}var Zx=e=>Wl=nF(Wl,e);function rF(e){const t=e[fn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function eC(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[fn].modified_&&(ly(t),mr(4)),Sr(e)&&(e=tC(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[fn].base_,e,t)}else e=tC(t,n);return iF(t,e,!0),ly(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==XP?e:void 0}function tC(e,t){if(Qd(t))return t;const n=t[fn];if(!n)return q0(t,e.handledSet_,e);if(!Zd(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);rI(n,e)}return n.copy_}function iF(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&L0(t,n)}function tI(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Zd=(e,t)=>e.scope_===t,aF=[];function nI(e,t,n,r){const i=ri(e),o=e.type_;if(r!==void 0&&ay(i,r,o)===t){Jf(i,r,n,o);return}if(!e.draftLocations_){const u=e.draftLocations_=new Map;hu(i,(f,d)=>{if(pi(d)){const h=u.get(d)||[];h.push(f),u.set(d,h)}})}const l=e.draftLocations_.get(t)??aF;for(const u of l)Jf(i,u,n,o)}function oF(e,t,n){e.callbacks_.push(function(i){var u;const o=t;if(!o||!Zd(o,i))return;(u=i.mapSetPlugin_)==null||u.fixSetContents(o);const l=U0(o);nI(e,o.draft_??o,l,n),rI(o,i)})}function rI(e,t){var r;if(e.modified_&&!e.finalized_&&(e.type_===3||(((r=e.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=t;if(i){const o=i.getPath(e);o&&i.generatePatches_(e,o,t)}tI(e)}}function sF(e,t,n){const{scope_:r}=e;if(pi(n)){const i=n[fn];Zd(i,r)&&i.callbacks_.push(function(){Of(e);const l=U0(i);nI(e,n,l,t)})}else Sr(n)&&e.callbacks_.push(function(){const o=ri(e);ay(o,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&q0(ay(e.copy_,t,e.type_),r.handledSet_,r)})}function q0(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||pi(e)||t.has(e)||!Sr(e)||Qd(e)||(t.add(e),hu(e,(r,i)=>{if(pi(i)){const o=i[fn];if(Zd(o,n)){const l=U0(o);Jf(e,r,l,e.type_),tI(o)}}else Sr(i)&&q0(i,t,n)})),e}function lF(e,t){const n=Jd(e),r={type_:n?1:0,scope_:t?t.scope_:eI(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,o=B0;n&&(i=[r],o=Xl);const{revoke:l,proxy:u}=Proxy.revocable(i,o);return r.draft_=u,r.revoke_=l,[u,r]}var B0={get(e,t){if(t===fn)return e;const n=ri(e);if(!Xx(n,t,e.type_))return uF(e,n,t);const r=n[t];if(e.finalized_||!Sr(r))return r;if(r===Xg(e.base_,t)){Of(e);const i=e.type_===1?+t:t,o=fy(e.scope_,r,e,i);return e.copy_[i]=o}return r},has(e,t){return t in ri(e)},ownKeys(e){return Reflect.ownKeys(ri(e))},set(e,t,n){const r=iI(ri(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=Xg(ri(e),t),o=i==null?void 0:i[fn];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(Z4(n,i)&&(n!==void 0||Xx(e.base_,t,e.type_)))return!0;Of(e),cy(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),sF(e,t,n)),!0},deleteProperty(e,t){return Of(e),Xg(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),cy(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=ri(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[Rf]:!0,[iy]:e.type_!==1||t!=="length",[Yf]:r[Yf],[Jl]:n[t]}},defineProperty(){mr(11)},getPrototypeOf(e){return cs(e.base_)},setPrototypeOf(){mr(12)}},Xl={};hu(B0,(e,t)=>{Xl[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}});Xl.deleteProperty=function(e,t){return Xl.set.call(this,e,t,void 0)};Xl.set=function(e,t,n){return B0.set.call(this,e[0],t,n,e[0])};function Xg(e,t){const n=e[fn];return(n?ri(n):e)[t]}function uF(e,t,n){var i;const r=iI(t,n);return r?Jl in r?r[Jl]:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function iI(e,t){if(!(t in e))return;let n=cs(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=cs(n)}}function cy(e){e.modified_||(e.modified_=!0,e.parent_&&cy(e.parent_))}function Of(e){e.copy_||(e.assigned_=new Map,e.copy_=oy(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var cF=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(Jo(n)&&!Jo(r)){const l=r;r=n;const u=this;return function(d=l,...h){return u.produce(d,m=>r.call(this,m,...h))}}Jo(r)||mr(6),i!==void 0&&!Jo(i)&&mr(7);let o;if(Sr(n)){const l=Zx(this),u=fy(l,n,void 0);let f=!0;try{o=r(u),f=!1}finally{f?ly(l):uy(l)}return Qx(l,i),eC(o,l)}else if(!n||!D0(n)){if(o=r(n),o===void 0&&(o=n),o===XP&&(o=void 0),this.autoFreeze_&&L0(o,!0),i){const l=[],u=[];fs(sy).generateReplacementPatches_(n,o,{patches_:l,inversePatches_:u}),i(l,u)}return o}else mr(1,n)},this.produceWithPatches=(n,r)=>{if(Jo(n))return(u,...f)=>this.produceWithPatches(u,d=>n(d,...f));let i,o;return[this.produce(n,r,(u,f)=>{i=u,o=f}),i,o]},Wg(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Wg(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Wg(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Sr(t)||mr(8),pi(t)&&(t=yr(t));const n=Zx(this),r=fy(n,t,void 0);return r[fn].isManual_=!0,uy(n),r}finishDraft(t,n){const r=t&&t[fn];(!r||!r.isManual_)&&mr(9);const{scope_:i}=r;return Qx(i,n),eC(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const o=n[r];if(o.path.length===0&&o.op==="replace"){t=o.value;break}}r>-1&&(n=n.slice(r+1));const i=fs(sy).applyPatches_;return pi(t)?i(t,n):this.produce(t,o=>i(o,n))}};function fy(e,t,n,r){const[i,o]=Wd(t)?fs(Wf).proxyMap_(t,n):Xd(t)?fs(Wf).proxySet_(t,n):lF(t,n);return((n==null?void 0:n.scope_)??eI()).drafts_.push(i),o.callbacks_=(n==null?void 0:n.callbacks_)??[],o.key_=r,n&&r!==void 0?oF(n,o,r):o.callbacks_.push(function(f){var h;(h=f.mapSetPlugin_)==null||h.fixSetContents(o);const{patchPlugin_:d}=f;o.modified_&&d&&d.generatePatches_(o,[],f)}),i}function yr(e){return pi(e)||mr(10,e),aI(e)}function aI(e){if(!Sr(e)||Qd(e))return e;const t=e[fn];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=oy(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=oy(e,!0);return hu(n,(i,o)=>{Jf(n,i,aI(o))},r),t&&(t.finalized_=!1),n}var fF=new cF,oI=fF.produce;function sI(e){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,e):i(o)}var dF=sI(),hF=sI,pF=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Vf:Vf.apply(null,arguments)};function or(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error($n(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>WP(r)&&r.type===e,n}var lI=class $l extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,$l.prototype)}static get[Symbol.species](){return $l}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new $l(...t[0].concat(this)):new $l(...t.concat(this))}};function nC(e){return Sr(e)?oI(e,()=>{}):e}function nf(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function mF(e){return typeof e=="boolean"}var gF=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=t??{};let l=new lI;return n&&(mF(n)?l.push(dF):l.push(hF(n.extraArgument))),l},uI="RTK_autoBatch",ut=()=>e=>({payload:e,meta:{[uI]:!0}}),rC=e=>t=>{setTimeout(t,e)},cI=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,o=!1,l=!1;const u=new Set,f=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:rC(10):e.type==="callback"?e.queueNotification:rC(e.timeout),d=()=>{l=!1,o&&(o=!1,u.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const m=()=>i&&h(),y=r.subscribe(m);return u.add(h),()=>{y(),u.delete(h)}},dispatch(h){var m;try{return i=!((m=h==null?void 0:h.meta)!=null&&m[uI]),o=!i,o&&(l||(l=!0,f(d))),r.dispatch(h)}finally{i=!0}}})},vF=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new lI(e);return r&&i.push(cI(typeof r=="object"?r:void 0)),i};function yF(e){const t=gF(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:o=void 0,enhancers:l=void 0}=e||{};let u;if(typeof n=="function")u=n;else if(k0(n))u=JP(n);else throw new Error($n(1));let f;typeof r=="function"?f=r(t):f=t();let d=Vf;i&&(d=pF({trace:!1,...typeof i=="object"&&i}));const h=X4(...f),m=vF(h);let y=typeof l=="function"?l(m):m();const b=d(...y);return YP(u,o,b)}function fI(e){const t={},n=[];let r;const i={addCase(o,l){const u=typeof o=="string"?o:o.type;if(!u)throw new Error($n(28));if(u in t)throw new Error($n(29));return t[u]=l,i},addAsyncThunk(o,l){return l.pending&&(t[o.pending.type]=l.pending),l.rejected&&(t[o.rejected.type]=l.rejected),l.fulfilled&&(t[o.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:o.settled,reducer:l.settled}),i},addMatcher(o,l){return n.push({matcher:o,reducer:l}),i},addDefaultCase(o){return r=o,i}};return e(i),[t,n,r]}function _F(e){return typeof e=="function"}function bF(e,t){let[n,r,i]=fI(t),o;if(_F(e))o=()=>nC(e());else{const u=nC(e);o=()=>u}function l(u=o(),f){let d=[n[f.type],...r.filter(({matcher:h})=>h(f)).map(({reducer:h})=>h)];return d.filter(h=>!!h).length===0&&(d=[i]),d.reduce((h,m)=>{if(m)if(pi(h)){const b=m(h,f);return b===void 0?h:b}else{if(Sr(h))return oI(h,y=>m(y,f));{const y=m(h,f);if(y===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return h},u)}return l.getInitialState=o,l}var SF="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",wF=(e=21)=>{let t="",n=e;for(;n--;)t+=SF[Math.random()*64|0];return t},EF=Symbol.for("rtk-slice-createasyncthunk");function TF(e,t){return`${e}/${t}`}function AF({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[EF];return function(i){const{name:o,reducerPath:l=o}=i;if(!o)throw new Error($n(11));const u=(typeof i.reducers=="function"?i.reducers(CF()):i.reducers)||{},f=Object.keys(u),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(M,I){const N=typeof M=="string"?M:M.type;if(!N)throw new Error($n(12));if(N in d.sliceCaseReducersByType)throw new Error($n(13));return d.sliceCaseReducersByType[N]=I,h},addMatcher(M,I){return d.sliceMatchers.push({matcher:M,reducer:I}),h},exposeAction(M,I){return d.actionCreators[M]=I,h},exposeCaseReducer(M,I){return d.sliceCaseReducersByName[M]=I,h}};f.forEach(M=>{const I=u[M],N={reducerName:M,type:TF(o,M),createNotation:typeof i.reducers=="function"};OF(I)?IF(N,I,h,t):RF(N,I,h)});function m(){const[M={},I=[],N=void 0]=typeof i.extraReducers=="function"?fI(i.extraReducers):[i.extraReducers],U={...M,...d.sliceCaseReducersByType};return bF(i.initialState,X=>{for(let G in U)X.addCase(G,U[G]);for(let G of d.sliceMatchers)X.addMatcher(G.matcher,G.reducer);for(let G of I)X.addMatcher(G.matcher,G.reducer);N&&X.addDefaultCase(N)})}const y=M=>M,b=new Map,w=new WeakMap;let E;function T(M,I){return E||(E=m()),E(M,I)}function x(){return E||(E=m()),E.getInitialState()}function O(M,I=!1){function N(X){let G=X[M];return typeof G>"u"&&I&&(G=nf(w,N,x)),G}function U(X=y){const G=nf(b,I,()=>new WeakMap);return nf(G,X,()=>{const ie={};for(const[W,te]of Object.entries(i.selectors??{}))ie[W]=xF(te,X,()=>nf(w,X,x),I);return ie})}return{reducerPath:M,getSelectors:U,get selectors(){return U(N)},selectSlice:N}}const R={name:o,reducer:T,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:x,...O(l),injectInto(M,{reducerPath:I,...N}={}){const U=I??l;return M.inject({reducerPath:U,reducer:T},N),{...R,...O(U,!0)}}};return R}}function xF(e,t,n,r){function i(o,...l){let u=t(o);return typeof u>"u"&&r&&(u=n()),e(u,...l)}return i.unwrapped=e,i}var An=AF();function CF(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function RF({type:e,reducerName:t,createNotation:n},r,i){let o,l;if("reducer"in r){if(n&&!PF(r))throw new Error($n(17));o=r.reducer,l=r.prepare}else o=r;i.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,l?or(e,l):or(e))}function OF(e){return e._reducerDefinitionType==="asyncThunk"}function PF(e){return e._reducerDefinitionType==="reducerWithPrepare"}function IF({type:e,reducerName:t},n,r,i){if(!i)throw new Error($n(18));const{payloadCreator:o,fulfilled:l,pending:u,rejected:f,settled:d,options:h}=n,m=i(e,o,h);r.exposeAction(t,m),l&&r.addCase(m.fulfilled,l),u&&r.addCase(m.pending,u),f&&r.addCase(m.rejected,f),d&&r.addMatcher(m.settled,d),r.exposeCaseReducer(t,{fulfilled:l||rf,pending:u||rf,rejected:f||rf,settled:d||rf})}function rf(){}var MF="task",dI="listener",hI="completed",z0="cancelled",NF=`task-${z0}`,kF=`task-${hI}`,dy=`${dI}-${z0}`,DF=`${dI}-${hI}`,eh=class{constructor(e){Km(this,"name","TaskAbortError");Km(this,"message");this.code=e,this.message=`${MF} ${z0} (reason: ${e})`}},$0=(e,t)=>{if(typeof e!="function")throw new TypeError($n(32))},Xf=()=>{},pI=(e,t=Xf)=>(e.catch(t),e),mI=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Fa=e=>{if(e.aborted)throw new eh(e.reason)};function gI(e,t){let n=Xf;return new Promise((r,i)=>{const o=()=>i(new eh(e.reason));if(e.aborted){o();return}n=mI(e,o),t.finally(()=>n()).then(r,i)}).finally(()=>{n=Xf})}var UF=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof eh?"cancelled":"rejected",error:n}}finally{t==null||t()}},Qf=e=>t=>pI(gI(e,t).then(n=>(Fa(e),n))),vI=e=>{const t=Qf(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:is}=Object,iC={},th="listenerMiddleware",LF=(e,t)=>{const n=r=>mI(e,()=>r.abort(e.reason));return(r,i)=>{$0(r);const o=new AbortController;n(o);const l=UF(async()=>{Fa(e),Fa(o.signal);const u=await r({pause:Qf(o.signal),delay:vI(o.signal),signal:o.signal});return Fa(o.signal),u},()=>o.abort(kF));return i!=null&&i.autoJoin&&t.push(l.catch(Xf)),{result:Qf(e)(l),cancel(){o.abort(NF)}}}},qF=(e,t)=>{const n=async(r,i)=>{Fa(t);let o=()=>{};const u=[new Promise((f,d)=>{let h=e({predicate:r,effect:(m,y)=>{y.unsubscribe(),f([m,y.getState(),y.getOriginalState()])}});o=()=>{h(),d()}})];i!=null&&u.push(new Promise(f=>setTimeout(f,i,null)));try{const f=await gI(t,Promise.race(u));return Fa(t),f}finally{o()}};return(r,i)=>pI(n(r,i))},yI=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:o}=e;if(t)i=or(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error($n(21));return $0(o),{predicate:i,type:t,effect:o}},_I=is(e=>{const{type:t,predicate:n,effect:r}=yI(e);return{id:wF(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error($n(22))}}},{withTypes:()=>_I}),aC=(e,t)=>{const{type:n,effect:r,predicate:i}=yI(t);return Array.from(e.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===i)&&o.effect===r)},hy=e=>{e.pending.forEach(t=>{t.abort(dy)})},BF=(e,t)=>()=>{for(const n of t.keys())hy(n);e.clear()},oC=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},bI=is(or(`${th}/add`),{withTypes:()=>bI}),zF=or(`${th}/removeAll`),SI=is(or(`${th}/remove`),{withTypes:()=>SI}),$F=(...e)=>{console.error(`${th}/error`,...e)},mu=(e={})=>{const t=new Map,n=new Map,r=b=>{const w=n.get(b)??0;n.set(b,w+1)},i=b=>{const w=n.get(b)??1;w===1?n.delete(b):n.set(b,w-1)},{extra:o,onError:l=$F}=e;$0(l);const u=b=>(b.unsubscribe=()=>t.delete(b.id),t.set(b.id,b),w=>{b.unsubscribe(),w!=null&&w.cancelActive&&hy(b)}),f=b=>{const w=aC(t,b)??_I(b);return u(w)};is(f,{withTypes:()=>f});const d=b=>{const w=aC(t,b);return w&&(w.unsubscribe(),b.cancelActive&&hy(w)),!!w};is(d,{withTypes:()=>d});const h=async(b,w,E,T)=>{const x=new AbortController,O=qF(f,x.signal),R=[];try{b.pending.add(x),r(b),await Promise.resolve(b.effect(w,is({},E,{getOriginalState:T,condition:(M,I)=>O(M,I).then(Boolean),take:O,delay:vI(x.signal),pause:Qf(x.signal),extra:o,signal:x.signal,fork:LF(x.signal,R),unsubscribe:b.unsubscribe,subscribe:()=>{t.set(b.id,b)},cancelActiveListeners:()=>{b.pending.forEach((M,I,N)=>{M!==x&&(M.abort(dy),N.delete(M))})},cancel:()=>{x.abort(dy),b.pending.delete(x)},throwIfCancelled:()=>{Fa(x.signal)}})))}catch(M){M instanceof eh||oC(l,M,{raisedBy:"effect"})}finally{await Promise.all(R),x.abort(DF),i(b),b.pending.delete(x)}},m=BF(t,n);return{middleware:b=>w=>E=>{if(!WP(E))return w(E);if(bI.match(E))return f(E.payload);if(zF.match(E)){m();return}if(SI.match(E))return d(E.payload);let T=b.getState();const x=()=>{if(T===iC)throw new Error($n(23));return T};let O;try{if(O=w(E),t.size>0){const R=b.getState(),M=Array.from(t.values());for(const I of M){let N=!1;try{N=I.predicate(E,R,T)}catch(U){N=!1,oC(l,U,{raisedBy:"predicate"})}N&&h(I,E,b,x)}}}finally{T=iC}return O},startListening:f,stopListening:d,clearListeners:m}};function $n(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var HF={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},wI=An({name:"chartLayout",initialState:HF,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,o;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(o=t.payload.left)!==null&&o!==void 0?o:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:jF,setLayout:GF,setChartSize:FF,setScale:VF}=wI.actions,KF=wI.reducer;function EI(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function sC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sC(Object(n),!0).forEach(function(r){YF(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function YF(e,t,n){return(t=JF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JF(e){var t=WF(e,"string");return typeof t=="symbol"?t:t+""}function WF(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function on(e,t,n){return qt(e)||qt(t)?n:Mr(t)?us(e,t,n):typeof t=="function"?t(e):n}var XF=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:o,verticalAlign:l,layout:u}=t;if((u==="vertical"||u==="horizontal"&&l==="middle")&&o!=="center"&&ge(e[o]))return Zo(Zo({},e),{},{[o]:e[o]+(r||0)});if((u==="horizontal"||u==="vertical"&&o==="center")&&l!=="middle"&&ge(e[l]))return Zo(Zo({},e),{},{[l]:e[l]+(i||0)})}return e},eo=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",TI=(e,t,n,r)=>{if(r)return e.map(u=>u.coordinate);var i,o,l=e.map(u=>(u.coordinate===t&&(i=!0),u.coordinate===n&&(o=!0),u.coordinate));return i||l.push(t),o||l.push(n),l},AI=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:o,scale:l,realScaleType:u,isCategorical:f,categoricalDomain:d,tickCount:h,ticks:m,niceTicks:y,axisType:b}=e;if(!l)return null;var w=u==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,E=i==="category"&&l.bandwidth?l.bandwidth()/w:0;if(E=b==="angleAxis"&&o&&o.length>=2?En(o[0]-o[1])*2*E:E,m||y){var T=(m||y||[]).map((x,O)=>{var R=r?r.indexOf(x):x;return{coordinate:l(R)+E,value:x,offset:E,index:O}});return T.filter(x=>!_r(x.coordinate))}return f&&d?d.map((x,O)=>({coordinate:l(x)+E,value:x,index:O,offset:E})):l.ticks&&h!=null?l.ticks(h).map((x,O)=>({coordinate:l(x)+E,value:x,offset:E,index:O})):l.domain().map((x,O)=>({coordinate:l(x)+E,value:r?r[x]:x,index:O,offset:E}))},lC=1e-4,QF=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-lC,o=Math.max(r[0],r[1])+lC,l=e(t[0]),u=e(t[n-1]);(l<i||l>o||u<i||u>o)&&e.domain([t[0],t[n-1]])}},ZF=(e,t)=>{if(!t||t.length!==2||!ge(t[0])||!ge(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!ge(e[0])||e[0]<n)&&(i[0]=n),(!ge(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},eV=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,o=0,l=0;l<t;++l){var u=_r(e[l][n][1])?e[l][n][0]:e[l][n][1];u>=0?(e[l][n][0]=i,e[l][n][1]=i+u,i=e[l][n][1]):(e[l][n][0]=o,e[l][n][1]=o+u,o=e[l][n][1])}},tV=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,o=0;o<t;++o){var l=_r(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=i,e[o][n][1]=i+l,i=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},nV={sign:eV,expand:RG,none:ls,silhouette:OG,wiggle:PG,positive:tV},rV=(e,t,n)=>{var r=nV[n],i=CG().keys(t).value((o,l)=>Number(on(o,l,0))).order(ny).offset(r);return i(e)};function iV(e){return e==null?void 0:String(e)}var uC=e=>{var{axis:t,ticks:n,offset:r,bandSize:i,entry:o,index:l}=e;if(t.type==="category")return n[l]?n[l].coordinate+r:null;var u=on(o,t.dataKey,t.scale.domain()[l]);return qt(u)?null:t.scale(u)-i/2+r},aV=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},oV=e=>{var t=e.flat(2).filter(ge);return[Math.min(...t),Math.max(...t)]},sV=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],lV=(e,t,n)=>{if(e!=null)return sV(Object.keys(e).reduce((r,i)=>{var o=e[i],{stackedData:l}=o,u=l.reduce((f,d)=>{var h=EI(d,t,n),m=oV(h);return[Math.min(f[0],m[0]),Math.max(f[1],m[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},cC=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,fC=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Zf=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=Kd(t,h=>h.coordinate),o=1/0,l=1,u=i.length;l<u;l++){var f=i[l],d=i[l-1];o=Math.min((f.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0};function dC(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:o}=e;return Zo(Zo({},t),{},{dataKey:n,payload:r,value:i,name:o})}function xI(e,t){if(e)return String(e);if(typeof t=="string")return t}var uV=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},cV=(e,t)=>t==="centric"?e.angle:e.radius,wi=e=>e.layout.width,Ei=e=>e.layout.height,fV=e=>e.layout.scale,CI=e=>e.layout.margin,nh=V(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),rh=V(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),dV="data-recharts-item-index",hV="data-recharts-item-data-key",gu=60;function hC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function af(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hC(Object(n),!0).forEach(function(r){pV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pV(e,t,n){return(t=mV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mV(e){var t=gV(e,"string");return typeof t=="symbol"?t:t+""}function gV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vV=e=>e.brush.height;function yV(e){var t=rh(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:gu;return n+i}return n},0)}function _V(e){var t=rh(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:gu;return n+i}return n},0)}function bV(e){var t=nh(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function SV(e){var t=nh(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Bt=V([wi,Ei,CI,vV,yV,_V,bV,SV,KP,F4],(e,t,n,r,i,o,l,u,f,d)=>{var h={left:(n.left||0)+i,right:(n.right||0)+o},m={top:(n.top||0)+l,bottom:(n.bottom||0)+u},y=af(af({},m),h),b=y.bottom;y.bottom+=r,y=XF(y,f,d);var w=e-y.left-y.right,E=t-y.top-y.bottom;return af(af({brushBottom:b},y),{},{width:Math.max(w,0),height:Math.max(E,0)})}),wV=V(Bt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),H0=V(wi,Ei,(e,t)=>({x:0,y:0,width:e,height:t})),EV=C.createContext(null),xn=()=>C.useContext(EV)!=null,ih=e=>e.brush,ah=V([ih,Bt,CI],(e,t,n)=>({height:e.height,x:ge(e.x)?e.x:t.left,y:ge(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:ge(e.width)?e.width:t.width})),Qg={},Zg={},ev={},pC;function TV(){return pC||(pC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:o}={}){let l,u=null;const f=o!=null&&o.includes("leading"),d=o==null||o.includes("trailing"),h=()=>{u!==null&&(n.apply(l,u),l=void 0,u=null)},m=()=>{d&&h(),E()};let y=null;const b=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,m()},r)},w=()=>{y!==null&&(clearTimeout(y),y=null)},E=()=>{w(),l=void 0,u=null},T=()=>{h()},x=function(...O){if(i!=null&&i.aborted)return;l=this,u=O;const R=y==null;b(),f&&R&&h()};return x.schedule=b,x.cancel=E,x.flush=T,i==null||i.addEventListener("abort",E,{once:!0}),x}e.debounce=t})(ev)),ev}var mC;function AV(){return mC||(mC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=TV();function n(r,i=0,o={}){typeof o!="object"&&(o={});const{leading:l=!1,trailing:u=!0,maxWait:f}=o,d=Array(2);l&&(d[0]="leading"),u&&(d[1]="trailing");let h,m=null;const y=t.debounce(function(...E){h=r.apply(this,E),m=null},i,{edges:d}),b=function(...E){return f!=null&&(m===null&&(m=Date.now()),Date.now()-m>=f)?(h=r.apply(this,E),m=Date.now(),y.cancel(),y.schedule(),h):(y.apply(this,E),h)},w=()=>(y.flush(),h);return b.cancel=y.cancel,b.flush=w,b}e.debounce=n})(Zg)),Zg}var gC;function xV(){return gC||(gC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AV();function n(r,i=0,o={}){const{leading:l=!0,trailing:u=!0}=o;return t.debounce(r,i,{leading:l,maxWait:i,trailing:u})}e.throttle=n})(Qg)),Qg}var tv,vC;function CV(){return vC||(vC=1,tv=xV().throttle),tv}var RV=CV();const OV=wr(RV);var ed=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(n.replace(/%s/g,()=>i[l++]))}},RI=(e,t,n)=>{var{width:r="100%",height:i="100%",aspect:o,maxHeight:l}=n,u=hi(r)?e:Number(r),f=hi(i)?t:Number(i);return o&&o>0&&(u?f=u/o:f&&(u=f*o),l&&f!=null&&f>l&&(f=l)),{calculatedWidth:u,calculatedHeight:f}},PV={width:0,height:0,overflow:"visible"},IV={width:0,overflowX:"visible"},MV={height:0,overflowY:"visible"},NV={},kV=e=>{var{width:t,height:n}=e,r=hi(t),i=hi(n);return r&&i?PV:r?IV:i?MV:NV};function DV(e){var{width:t,height:n,aspect:r}=e,i=t,o=n;return i===void 0&&o===void 0?(i="100%",o="100%"):i===void 0?i=r&&r>0?void 0:"100%":o===void 0&&(o=r&&r>0?void 0:"100%"),{width:i,height:o}}function vt(e){return Number.isFinite(e)}function Nr(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function py(){return py=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},py.apply(null,arguments)}function yC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _C(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yC(Object(n),!0).forEach(function(r){UV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function UV(e,t,n){return(t=LV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LV(e){var t=qV(e,"string");return typeof t=="symbol"?t:t+""}function qV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OI=C.createContext({width:-1,height:-1});function BV(e){return Nr(e.width)&&Nr(e.height)}function PI(e){var{children:t,width:n,height:r}=e,i=C.useMemo(()=>({width:n,height:r}),[n,r]);return BV(i)?C.createElement(OI.Provider,{value:i},t):null}var j0=()=>C.useContext(OI),zV=C.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:o,minWidth:l=0,minHeight:u,maxHeight:f,children:d,debounce:h=0,id:m,className:y,onResize:b,style:w={}}=e,E=C.useRef(null),T=C.useRef();T.current=b,C.useImperativeHandle(t,()=>E.current);var[x,O]=C.useState({containerWidth:r.width,containerHeight:r.height}),R=C.useCallback((X,G)=>{O(ie=>{var W=Math.round(X),te=Math.round(G);return ie.containerWidth===W&&ie.containerHeight===te?ie:{containerWidth:W,containerHeight:te}})},[]);C.useEffect(()=>{if(E.current==null||typeof ResizeObserver>"u")return du;var X=te=>{var se,{width:he,height:Ae}=te[0].contentRect;R(he,Ae),(se=T.current)===null||se===void 0||se.call(T,he,Ae)};h>0&&(X=OV(X,h,{trailing:!0,leading:!1}));var G=new ResizeObserver(X),{width:ie,height:W}=E.current.getBoundingClientRect();return R(ie,W),G.observe(E.current),()=>{G.disconnect()}},[R,h]);var{containerWidth:M,containerHeight:I}=x;ed(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:N,calculatedHeight:U}=RI(M,I,{width:i,height:o,aspect:n,maxHeight:f});return ed(N!=null&&N>0||U!=null&&U>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,N,U,i,o,l,u,n),C.createElement("div",{id:m?"".concat(m):void 0,className:ot("recharts-responsive-container",y),style:_C(_C({},w),{},{width:i,height:o,minWidth:l,minHeight:u,maxHeight:f}),ref:E},C.createElement("div",{style:kV({width:i,height:o})},C.createElement(PI,{width:N,height:U},d)))}),$V=C.forwardRef((e,t)=>{var n=j0();if(Nr(n.width)&&Nr(n.height))return e.children;var{width:r,height:i}=DV({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:o,calculatedHeight:l}=RI(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return ge(o)&&ge(l)?C.createElement(PI,{width:o,height:l},e.children):C.createElement(zV,py({},e,{width:r,height:i,ref:t}))});function II(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var oh=()=>{var e,t=xn(),n=_e(wV),r=_e(ah),i=(e=_e(ih))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},HV={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},MI=()=>{var e;return(e=_e(Bt))!==null&&e!==void 0?e:HV},NI=()=>_e(wi),kI=()=>_e(Ei),Ke=e=>e.layout.layoutType,sh=()=>_e(Ke),jV=()=>{var e=sh();return e!==void 0},lh=e=>{var t=yt(),n=xn(),{width:r,height:i}=e,o=j0(),l=r,u=i;return o&&(l=o.width>0?o.width:r,u=o.height>0?o.height:i),C.useEffect(()=>{!n&&Nr(l)&&Nr(u)&&t(FF({width:l,height:u}))},[t,n,l,u]),null},DI=Symbol.for("immer-nothing"),bC=Symbol.for("immer-draftable"),Hn=Symbol.for("immer-state");function gr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Ql=Object.getPrototypeOf;function ds(e){return!!e&&!!e[Hn]}function Ya(e){var t;return e?UI(e)||Array.isArray(e)||!!e[bC]||!!((t=e.constructor)!=null&&t[bC])||vu(e)||ch(e):!1}var GV=Object.prototype.constructor.toString(),SC=new WeakMap;function UI(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=SC.get(n);return r===void 0&&(r=Function.toString.call(n),SC.set(n,r)),r===GV}function td(e,t,n=!0){uh(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function uh(e){const t=e[Hn];return t?t.type_:Array.isArray(e)?1:vu(e)?2:ch(e)?3:0}function my(e,t){return uh(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function LI(e,t,n){const r=uh(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function FV(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function vu(e){return e instanceof Map}function ch(e){return e instanceof Set}function Na(e){return e.copy_||e.base_}function gy(e,t){if(vu(e))return new Map(e);if(ch(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=UI(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Hn];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const l=i[o],u=r[l];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[l]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[l]})}return Object.create(Ql(e),r)}else{const r=Ql(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function G0(e,t=!1){return fh(e)||ds(e)||!Ya(e)||(uh(e)>1&&Object.defineProperties(e,{set:of,add:of,clear:of,delete:of}),Object.freeze(e),t&&Object.values(e).forEach(n=>G0(n,!0))),e}function VV(){gr(2)}var of={value:VV};function fh(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var KV={};function Ja(e){const t=KV[e];return t||gr(0,e),t}var Zl;function qI(){return Zl}function YV(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function wC(e,t){t&&(Ja("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function vy(e){yy(e),e.drafts_.forEach(JV),e.drafts_=null}function yy(e){e===Zl&&(Zl=e.parent_)}function EC(e){return Zl=YV(Zl,e)}function JV(e){const t=e[Hn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function TC(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Hn].modified_&&(vy(t),gr(4)),Ya(e)&&(e=nd(t,e),t.parent_||rd(t,e)),t.patches_&&Ja("Patches").generateReplacementPatches_(n[Hn].base_,e,t.patches_,t.inversePatches_)):e=nd(t,n,[]),vy(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==DI?e:void 0}function nd(e,t,n){if(fh(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[Hn];if(!i)return td(t,(o,l)=>AC(e,i,t,o,l,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return rd(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const o=i.copy_;let l=o,u=!1;i.type_===3&&(l=new Set(o),o.clear(),u=!0),td(l,(f,d)=>AC(e,i,o,f,d,n,u),r),rd(e,o,!1),n&&e.patches_&&Ja("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function AC(e,t,n,r,i,o,l){if(i==null||typeof i!="object"&&!l)return;const u=fh(i);if(!(u&&!l)){if(ds(i)){const f=o&&t&&t.type_!==3&&!my(t.assigned_,r)?o.concat(r):void 0,d=nd(e,i,f);if(LI(n,r,d),ds(d))e.canAutoFreeze_=!1;else return}else l&&n.add(i);if(Ya(i)&&!u){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&u)return;nd(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(vu(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&rd(e,i)}}}function rd(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&G0(t,n)}function WV(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:qI(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=F0;n&&(i=[r],o=eu);const{revoke:l,proxy:u}=Proxy.revocable(i,o);return r.draft_=u,r.revoke_=l,u}var F0={get(e,t){if(t===Hn)return e;const n=Na(e);if(!my(n,t))return XV(e,n,t);const r=n[t];return e.finalized_||!Ya(r)?r:r===nv(e.base_,t)?(rv(e),e.copy_[t]=by(r,e)):r},has(e,t){return t in Na(e)},ownKeys(e){return Reflect.ownKeys(Na(e))},set(e,t,n){const r=BI(Na(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=nv(Na(e),t),o=i==null?void 0:i[Hn];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(FV(n,i)&&(n!==void 0||my(e.base_,t)))return!0;rv(e),_y(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return nv(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,rv(e),_y(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Na(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){gr(11)},getPrototypeOf(e){return Ql(e.base_)},setPrototypeOf(){gr(12)}},eu={};td(F0,(e,t)=>{eu[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});eu.deleteProperty=function(e,t){return eu.set.call(this,e,t,void 0)};eu.set=function(e,t,n){return F0.set.call(this,e[0],t,n,e[0])};function nv(e,t){const n=e[Hn];return(n?Na(n):e)[t]}function XV(e,t,n){var i;const r=BI(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function BI(e,t){if(!(t in e))return;let n=Ql(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Ql(n)}}function _y(e){e.modified_||(e.modified_=!0,e.parent_&&_y(e.parent_))}function rv(e){e.copy_||(e.copy_=gy(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var QV=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const o=n;n=t;const l=this;return function(f=o,...d){return l.produce(f,h=>n.call(this,h,...d))}}typeof n!="function"&&gr(6),r!==void 0&&typeof r!="function"&&gr(7);let i;if(Ya(t)){const o=EC(this),l=by(t,void 0);let u=!0;try{i=n(l),u=!1}finally{u?vy(o):yy(o)}return wC(o,r),TC(i,o)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===DI&&(i=void 0),this.autoFreeze_&&G0(i,!0),r){const o=[],l=[];Ja("Patches").generateReplacementPatches_(t,i,o,l),r(o,l)}return i}else gr(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(l,...u)=>this.produceWithPatches(l,f=>t(f,...u));let r,i;return[this.produce(t,n,(l,u)=>{r=l,i=u}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Ya(e)||gr(8),ds(e)&&(e=ZV(e));const t=EC(this),n=by(e,void 0);return n[Hn].isManual_=!0,yy(t),n}finishDraft(e,t){const n=e&&e[Hn];(!n||!n.isManual_)&&gr(9);const{scope_:r}=n;return wC(r,t),TC(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=Ja("Patches").applyPatches_;return ds(e)?r(e,t):this.produce(e,i=>r(i,t))}};function by(e,t){const n=vu(e)?Ja("MapSet").proxyMap_(e,t):ch(e)?Ja("MapSet").proxySet_(e,t):WV(e,t);return(t?t.scope_:qI()).drafts_.push(n),n}function ZV(e){return ds(e)||gr(10,e),zI(e)}function zI(e){if(!Ya(e)||fh(e))return e;const t=e[Hn];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=gy(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=gy(e,!0);return td(n,(i,o)=>{LI(n,i,zI(o))},r),t&&(t.finalized_=!1),n}var e6=new QV;e6.produce;var t6={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},$I=An({name:"legend",initialState:t6,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:ut()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=yr(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:ut()},removeLegendPayload:{reducer(e,t){var n=yr(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:ut()}}}),{setLegendSize:Mre,setLegendSettings:Nre,addLegendPayload:n6,replaceLegendPayload:r6,removeLegendPayload:i6}=$I.actions,a6=$I.reducer;function Sy(){return Sy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sy.apply(null,arguments)}function xC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function iv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xC(Object(n),!0).forEach(function(r){o6(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function o6(e,t,n){return(t=s6(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s6(e){var t=l6(e,"string");return typeof t=="symbol"?t:t+""}function l6(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u6(e){return Array.isArray(e)&&Mr(e[0])&&Mr(e[1])?e.join(" ~ "):e}var c6=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:o,formatter:l,itemSorter:u,wrapperClassName:f,labelClassName:d,label:h,labelFormatter:m,accessibilityLayer:y=!1}=e,b=()=>{if(o&&o.length){var I={padding:0,margin:0},N=(u?Kd(o,u):o).map((U,X)=>{if(U.type==="none")return null;var G=U.formatter||l||u6,{value:ie,name:W}=U,te=ie,se=W;if(G){var he=G(ie,W,U,X,o);if(Array.isArray(he))[te,se]=he;else if(he!=null)te=he;else return null}var Ae=iv({display:"block",paddingTop:4,paddingBottom:4,color:U.color||"#000"},r);return C.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(X),style:Ae},Mr(se)?C.createElement("span",{className:"recharts-tooltip-item-name"},se):null,Mr(se)?C.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,C.createElement("span",{className:"recharts-tooltip-item-value"},te),C.createElement("span",{className:"recharts-tooltip-item-unit"},U.unit||""))});return C.createElement("ul",{className:"recharts-tooltip-item-list",style:I},N)}return null},w=iv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),E=iv({margin:0},i),T=!qt(h),x=T?h:"",O=ot("recharts-default-tooltip",f),R=ot("recharts-tooltip-label",d);T&&m&&o!==void 0&&o!==null&&(x=m(h,o));var M=y?{role:"status","aria-live":"assertive"}:{};return C.createElement("div",Sy({className:O,style:w},M),C.createElement("p",{className:R,style:E},C.isValidElement(x)?x:"".concat(x)),b())},Il="recharts-tooltip-wrapper",f6={visibility:"hidden"};function d6(e){var{coordinate:t,translateX:n,translateY:r}=e;return ot(Il,{["".concat(Il,"-right")]:ge(n)&&t&&ge(t.x)&&n>=t.x,["".concat(Il,"-left")]:ge(n)&&t&&ge(t.x)&&n<t.x,["".concat(Il,"-bottom")]:ge(r)&&t&&ge(t.y)&&r>=t.y,["".concat(Il,"-top")]:ge(r)&&t&&ge(t.y)&&r<t.y})}function CC(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:o,reverseDirection:l,tooltipDimension:u,viewBox:f,viewBoxDimension:d}=e;if(o&&ge(o[r]))return o[r];var h=n[r]-u-(i>0?i:0),m=n[r]+i;if(t[r])return l[r]?h:m;var y=f[r];if(y==null)return 0;if(l[r]){var b=h,w=y;return b<w?Math.max(m,y):Math.max(h,y)}if(d==null)return 0;var E=m+u,T=y+d;return E>T?Math.max(h,y):Math.max(m,y)}function h6(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function p6(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:o,tooltipBox:l,useTranslate3d:u,viewBox:f}=e,d,h,m;return l.height>0&&l.width>0&&n?(h=CC({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:l.width,viewBox:f,viewBoxDimension:f.width}),m=CC({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:l.height,viewBox:f,viewBoxDimension:f.height}),d=h6({translateX:h,translateY:m,useTranslate3d:u})):d=f6,{cssProperties:d,cssClasses:d6({translateX:h,translateY:m,coordinate:n})}}function RC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RC(Object(n),!0).forEach(function(r){wy(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wy(e,t,n){return(t=m6(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m6(e){var t=g6(e,"string");return typeof t=="symbol"?t:t+""}function g6(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class v6 extends C.PureComponent{constructor(){super(...arguments),wy(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),wy(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:o,coordinate:l,hasPayload:u,isAnimationActive:f,offset:d,position:h,reverseDirection:m,useTranslate3d:y,viewBox:b,wrapperStyle:w,lastBoundingBox:E,innerRef:T,hasPortalFromProps:x}=this.props,{cssClasses:O,cssProperties:R}=p6({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:d,position:h,reverseDirection:m,tooltipBox:{height:E.height,width:E.width},useTranslate3d:y,viewBox:b}),M=x?{}:sf(sf({transition:f&&t?"transform ".concat(r,"ms ").concat(i):void 0},R),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&u?"visible":"hidden",position:"absolute",top:0,left:0}),I=sf(sf({},M),{},{visibility:!this.state.dismissed&&t&&u?"visible":"hidden"},w);return C.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:O,style:I,ref:T},o)}}var HI=()=>{var e;return(e=_e(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Ey(){return Ey=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ey.apply(null,arguments)}function OC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function PC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OC(Object(n),!0).forEach(function(r){y6(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function y6(e,t,n){return(t=_6(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _6(e){var t=b6(e,"string");return typeof t=="symbol"?t:t+""}function b6(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IC={curveBasisClosed:gG,curveBasisOpen:vG,curveBasis:mG,curveBumpX:tG,curveBumpY:nG,curveLinearClosed:yG,curveLinear:Fd,curveMonotoneX:_G,curveMonotoneY:bG,curveNatural:SG,curveStep:wG,curveStepAfter:TG,curveStepBefore:EG},id=e=>vt(e.x)&&vt(e.y),MC=e=>e.base!=null&&id(e.base)&&id(e),Ml=e=>e.x,Nl=e=>e.y,S6=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(fu(e));return(n==="curveMonotone"||n==="curveBump")&&t?IC["".concat(n).concat(t==="vertical"?"Y":"X")]:IC[n]||Fd},w6=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:o=!1}=e,l=S6(t,i),u=o?n.filter(id):n,f;if(Array.isArray(r)){var d=n.map((b,w)=>PC(PC({},b),{},{base:r[w]}));i==="vertical"?f=Qc().y(Nl).x1(Ml).x0(b=>b.base.x):f=Qc().x(Ml).y1(Nl).y0(b=>b.base.y);var h=f.defined(MC).curve(l),m=o?d.filter(MC):d;return h(m)}i==="vertical"&&ge(r)?f=Qc().y(Nl).x1(Ml).x0(r):ge(r)?f=Qc().x(Ml).y1(Nl).y0(r):f=_P().x(Ml).y(Nl);var y=f.defined(id).curve(l);return y(u)},jI=e=>{var{className:t,points:n,path:r,pathRef:i}=e;if((!n||!n.length)&&!r)return null;var o=n&&n.length?w6(e):r;return C.createElement("path",Ey({},fi(e),YG(e),{className:ot("recharts-curve",t),d:o===null?void 0:o,ref:i}))},E6=["x","y","top","left","width","height","className"];function Ty(){return Ty=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ty.apply(null,arguments)}function NC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function T6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NC(Object(n),!0).forEach(function(r){A6(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function A6(e,t,n){return(t=x6(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x6(e){var t=C6(e,"string");return typeof t=="symbol"?t:t+""}function C6(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function R6(e,t){if(e==null)return{};var n,r,i=O6(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function O6(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var P6=(e,t,n,r,i,o)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(o,",").concat(t,"h").concat(n),I6=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:o=0,height:l=0,className:u}=e,f=R6(e,E6),d=T6({x:t,y:n,top:r,left:i,width:o,height:l},f);return!ge(t)||!ge(n)||!ge(o)||!ge(l)||!ge(r)||!ge(i)?null:C.createElement("path",Ty({},ar(d),{className:ot("recharts-cross",u),d:P6(t,n,o,l,r,i)}))};function M6(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function kC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function DC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kC(Object(n),!0).forEach(function(r){N6(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function N6(e,t,n){return(t=k6(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k6(e){var t=D6(e,"string");return typeof t=="symbol"?t:t+""}function D6(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var U6=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),GI=(e,t,n)=>e.map(r=>"".concat(U6(r)," ").concat(t,"ms ").concat(n)).join(","),L6=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),tu=(e,t)=>Object.keys(t).reduce((n,r)=>DC(DC({},n),{},{[r]:e(r,t[r])}),{});function UC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Rt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UC(Object(n),!0).forEach(function(r){q6(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function q6(e,t,n){return(t=B6(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B6(e){var t=z6(e,"string");return typeof t=="symbol"?t:t+""}function z6(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ad=(e,t,n)=>e+(t-e)*n,Ay=e=>{var{from:t,to:n}=e;return t!==n},FI=(e,t,n)=>{var r=tu((i,o)=>{if(Ay(o)){var[l,u]=e(o.from,o.to,o.velocity);return Rt(Rt({},o),{},{from:l,velocity:u})}return o},t);return n<1?tu((i,o)=>Ay(o)?Rt(Rt({},o),{},{velocity:ad(o.velocity,r[i].velocity,n),from:ad(o.from,r[i].from,n)}):o,t):FI(e,r,n-1)};function $6(e,t,n,r,i,o){var l,u=r.reduce((y,b)=>Rt(Rt({},y),{},{[b]:{from:e[b],velocity:0,to:t[b]}}),{}),f=()=>tu((y,b)=>b.from,u),d=()=>!Object.values(u).filter(Ay).length,h=null,m=y=>{l||(l=y);var b=y-l,w=b/n.dt;u=FI(n,u,w),i(Rt(Rt(Rt({},e),t),f())),l=y,d()||(h=o.setTimeout(m))};return()=>(h=o.setTimeout(m),()=>{var y;(y=h)===null||y===void 0||y()})}function H6(e,t,n,r,i,o,l){var u=null,f=i.reduce((m,y)=>Rt(Rt({},m),{},{[y]:[e[y],t[y]]}),{}),d,h=m=>{d||(d=m);var y=(m-d)/r,b=tu((E,T)=>ad(...T,n(y)),f);if(o(Rt(Rt(Rt({},e),t),b)),y<1)u=l.setTimeout(h);else{var w=tu((E,T)=>ad(...T,n(1)),f);o(Rt(Rt(Rt({},e),t),w))}};return()=>(u=l.setTimeout(h),()=>{var m;(m=u)===null||m===void 0||m()})}const j6=(e,t,n,r,i,o)=>{var l=L6(e,t);return n==null?()=>(i(Rt(Rt({},e),t)),()=>{}):n.isStepper===!0?$6(e,t,n,l,i,o):H6(e,t,n,r,l,i,o)};var od=1e-4,VI=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],KI=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),LC=(e,t)=>n=>{var r=VI(e,t);return KI(r,n)},G6=(e,t)=>n=>{var r=VI(e,t),i=[...r.map((o,l)=>o*l).slice(1),0];return KI(i,n)},F6=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,o=n[0].split("(");if(o[0]==="cubic-bezier"&&((i=o[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var l=o[1].split(")")[0].split(",").map(u=>parseFloat(u));return[l[0],l[1],l[2],l[3]]}}}return n.length===4?n:[0,0,1,1]},V6=(e,t,n,r)=>{var i=LC(e,n),o=LC(t,r),l=G6(e,n),u=d=>d>1?1:d<0?0:d,f=d=>{for(var h=d>1?1:d,m=h,y=0;y<8;++y){var b=i(m)-h,w=l(m);if(Math.abs(b-h)<od||w<od)return o(m);m=u(m-b/w)}return o(m)};return f.isStepper=!1,f},qC=function(){return V6(...F6(...arguments))},K6=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,o=(l,u,f)=>{var d=-(l-u)*n,h=f*r,m=f+(d-h)*i/1e3,y=f*i/1e3+l;return Math.abs(y-u)<od&&Math.abs(m)<od?[u,0]:[y,m]};return o.isStepper=!0,o.dt=i,o},Y6=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return qC(e);case"spring":return K6();default:if(e.split("(")[0]==="cubic-bezier")return qC(e)}return typeof e=="function"?e:null};function J6(e){var t,n=()=>null,r=!1,i=null,o=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var u=l,[f,...d]=u;if(typeof f=="number"){i=e.setTimeout(o.bind(null,d),f);return}o(f),i=e.setTimeout(o.bind(null,d));return}typeof l=="string"&&(t=l,n(t)),typeof l=="object"&&(t=l,n(t)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,i&&(i(),i=null),o(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>e}}class W6{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,o=l=>{l-r>=n?t(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(o))};return i=requestAnimationFrame(o),()=>{i!=null&&cancelAnimationFrame(i)}}}function X6(){return J6(new W6)}var Q6=C.createContext(X6);function Z6(e,t){var n=C.useContext(Q6);return C.useMemo(()=>t??n(e),[e,t,n])}var e5=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),yu={devToolsEnabled:!1,isSsr:e5()},t5={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},BC={t:0},av={t:1};function V0(e){var t=jn(e,t5),{isActive:n,canBegin:r,duration:i,easing:o,begin:l,onAnimationEnd:u,onAnimationStart:f,children:d}=t,h=n==="auto"?!yu.isSsr:n,m=Z6(t.animationId,t.animationManager),[y,b]=C.useState(h?BC:av),w=C.useRef(null);return C.useEffect(()=>{h||b(av)},[h]),C.useEffect(()=>{if(!h||!r)return du;var E=j6(BC,av,Y6(o),i,b,m.getTimeoutController()),T=()=>{w.current=E()};return m.start([f,l,T,i,u]),()=>{m.stop(),w.current&&w.current(),u()}},[h,r,i,o,l,f,u,m]),d(y.t)}function K0(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=C.useRef(Yl(t)),r=C.useRef(e);return r.current!==e&&(n.current=Yl(t),r.current=e),n.current}var n5=["radius"],r5=["radius"];function zC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $C(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zC(Object(n),!0).forEach(function(r){i5(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function i5(e,t,n){return(t=a5(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a5(e){var t=o5(e,"string");return typeof t=="symbol"?t:t+""}function o5(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sd(){return sd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sd.apply(null,arguments)}function HC(e,t){if(e==null)return{};var n,r,i=s5(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function s5(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var jC=(e,t,n,r,i)=>{var o=Math.min(Math.abs(n)/2,Math.abs(r)/2),l=r>=0?1:-1,u=n>=0?1:-1,f=r>=0&&n>=0||r<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var h=[0,0,0,0],m=0,y=4;m<y;m++)h[m]=i[m]>o?o:i[m];d="M".concat(e,",").concat(t+l*h[0]),h[0]>0&&(d+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(f,",").concat(e+u*h[0],",").concat(t)),d+="L ".concat(e+n-u*h[1],",").concat(t),h[1]>0&&(d+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(f,`,
        `).concat(e+n,",").concat(t+l*h[1])),d+="L ".concat(e+n,",").concat(t+r-l*h[2]),h[2]>0&&(d+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(f,`,
        `).concat(e+n-u*h[2],",").concat(t+r)),d+="L ".concat(e+u*h[3],",").concat(t+r),h[3]>0&&(d+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(t+r-l*h[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var b=Math.min(o,i);d="M ".concat(e,",").concat(t+l*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(e+u*b,",").concat(t,`
            L `).concat(e+n-u*b,",").concat(t,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(e+n,",").concat(t+l*b,`
            L `).concat(e+n,",").concat(t+r-l*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(e+n-u*b,",").concat(t+r,`
            L `).concat(e+u*b,",").concat(t+r,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(e,",").concat(t+r-l*b," Z")}else d="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return d},GC={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},YI=e=>{var t=jn(e,GC),n=C.useRef(null),[r,i]=C.useState(-1);C.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var Z=n.current.getTotalLength();Z&&i(Z)}catch{}},[]);var{x:o,y:l,width:u,height:f,radius:d,className:h}=t,{animationEasing:m,animationDuration:y,animationBegin:b,isAnimationActive:w,isUpdateAnimationActive:E}=t,T=C.useRef(u),x=C.useRef(f),O=C.useRef(o),R=C.useRef(l),M=C.useMemo(()=>({x:o,y:l,width:u,height:f,radius:d}),[o,l,u,f,d]),I=K0(M,"rectangle-");if(o!==+o||l!==+l||u!==+u||f!==+f||u===0||f===0)return null;var N=ot("recharts-rectangle",h);if(!E){var U=ar(t),{radius:X}=U,G=HC(U,n5);return C.createElement("path",sd({},G,{radius:typeof d=="number"?d:void 0,className:N,d:jC(o,l,u,f,d)}))}var ie=T.current,W=x.current,te=O.current,se=R.current,he="0px ".concat(r===-1?1:r,"px"),Ae="".concat(r,"px 0px"),z=GI(["strokeDasharray"],y,typeof m=="string"?m:GC.animationEasing);return C.createElement(V0,{animationId:I,key:I,canBegin:r>0,duration:y,easing:m,isActive:E,begin:b},Z=>{var oe=Qt(ie,u,Z),ue=Qt(W,f,Z),Ce=Qt(te,o,Z),L=Qt(se,l,Z);n.current&&(T.current=oe,x.current=ue,O.current=Ce,R.current=L);var K;w?Z>0?K={transition:z,strokeDasharray:Ae}:K={strokeDasharray:he}:K={strokeDasharray:Ae};var ne=ar(t),{radius:ae}=ne,ve=HC(ne,r5);return C.createElement("path",sd({},ve,{radius:typeof d=="number"?d:void 0,className:N,d:jC(Ce,L,oe,ue,d),ref:n,style:$C($C({},K),t.style)}))})};function FC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function VC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FC(Object(n),!0).forEach(function(r){l5(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function l5(e,t,n){return(t=u5(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u5(e){var t=c5(e,"string");return typeof t=="symbol"?t:t+""}function c5(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ld=Math.PI/180,f5=e=>e*180/Math.PI,Zt=(e,t,n,r)=>({x:e+Math.cos(-ld*r)*n,y:t+Math.sin(-ld*r)*n}),d5=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},h5=(e,t)=>{var{x:n,y:r}=e,{x:i,y:o}=t;return Math.sqrt((n-i)**2+(r-o)**2)},p5=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:o}=t,l=h5({x:n,y:r},{x:i,y:o});if(l<=0)return{radius:l,angle:0};var u=(n-i)/l,f=Math.acos(u);return r>o&&(f=2*Math.PI-f),{radius:l,angle:f5(f),angleInRadian:f}},m5=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:t-o*360,endAngle:n-o*360}},g5=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),o=Math.floor(r/360),l=Math.min(i,o);return e+l*360},v5=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:o}=p5({x:n,y:r},t),{innerRadius:l,outerRadius:u}=t;if(i<l||i>u||i===0)return null;var{startAngle:f,endAngle:d}=m5(t),h=o,m;if(f<=d){for(;h>d;)h-=360;for(;h<f;)h+=360;m=h>=f&&h<=d}else{for(;h>f;)h-=360;for(;h<d;)h+=360;m=h>=d&&h<=f}return m?VC(VC({},t),{},{radius:i,angle:g5(h,t)}):null};function JI(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:o}=e,l=Zt(t,n,r,i),u=Zt(t,n,r,o);return{points:[l,u],cx:t,cy:n,radius:r,startAngle:i,endAngle:o}}function xy(){return xy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xy.apply(null,arguments)}var y5=(e,t)=>{var n=En(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},lf=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:o,isExternal:l,cornerRadius:u,cornerIsExternal:f}=e,d=u*(l?1:-1)+r,h=Math.asin(u/d)/ld,m=f?i:i+o*h,y=Zt(t,n,d,m),b=Zt(t,n,r,m),w=f?i-o*h:i,E=Zt(t,n,d*Math.cos(h*ld),w);return{center:y,circleTangency:b,lineTangency:E,theta:h}},WI=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:o,endAngle:l}=e,u=y5(o,l),f=o+u,d=Zt(t,n,i,o),h=Zt(t,n,i,f),m="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(o>f),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(r>0){var y=Zt(t,n,r,o),b=Zt(t,n,r,f);m+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(o<=f),`,
            `).concat(y.x,",").concat(y.y," Z")}else m+="L ".concat(t,",").concat(n," Z");return m},_5=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:u,startAngle:f,endAngle:d}=e,h=En(d-f),{circleTangency:m,lineTangency:y,theta:b}=lf({cx:t,cy:n,radius:i,angle:f,sign:h,cornerRadius:o,cornerIsExternal:u}),{circleTangency:w,lineTangency:E,theta:T}=lf({cx:t,cy:n,radius:i,angle:d,sign:-h,cornerRadius:o,cornerIsExternal:u}),x=u?Math.abs(f-d):Math.abs(f-d)-b-T;if(x<0)return l?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):WI({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:f,endAngle:d});var O="M ".concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(x>180),",").concat(+(h<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(E.x,",").concat(E.y,`
  `);if(r>0){var{circleTangency:R,lineTangency:M,theta:I}=lf({cx:t,cy:n,radius:r,angle:f,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),{circleTangency:N,lineTangency:U,theta:X}=lf({cx:t,cy:n,radius:r,angle:d,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),G=u?Math.abs(f-d):Math.abs(f-d)-I-X;if(G<0&&o===0)return"".concat(O,"L").concat(t,",").concat(n,"Z");O+="L".concat(U.x,",").concat(U.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(N.x,",").concat(N.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(G>180),",").concat(+(h>0),",").concat(R.x,",").concat(R.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(M.x,",").concat(M.y,"Z")}else O+="L".concat(t,",").concat(n,"Z");return O},b5={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},XI=e=>{var t=jn(e,b5),{cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:l,forceCornerRadius:u,cornerIsExternal:f,startAngle:d,endAngle:h,className:m}=t;if(o<i||d===h)return null;var y=ot("recharts-sector",m),b=o-i,w=br(l,b,0,!0),E;return w>0&&Math.abs(d-h)<360?E=_5({cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:Math.min(w,b/2),forceCornerRadius:u,cornerIsExternal:f,startAngle:d,endAngle:h}):E=WI({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:d,endAngle:h}),C.createElement("path",xy({},ar(t),{className:y,d:E}))};function S5(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(kP(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:o,outerRadius:l,angle:u}=t,f=Zt(r,i,o,u),d=Zt(r,i,l,u);return[{x:f.x,y:f.y},{x:d.x,y:d.y}]}return JI(t)}}var ov={},sv={},lv={},KC;function w5(){return KC||(KC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FP();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(lv)),lv}var YC;function E5(){return YC||(YC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=w5();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(sv)),sv}var JC;function T5(){return JC||(JC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VP(),n=E5();function r(i,o,l){l&&typeof l!="number"&&t.isIterateeCall(i,o,l)&&(o=l=void 0),i=n.toFinite(i),o===void 0?(o=i,i=0):o=n.toFinite(o),l=l===void 0?i<o?1:-1:n.toFinite(l);const u=Math.max(Math.ceil((o-i)/(l||1)),0),f=new Array(u);for(let d=0;d<u;d++)f[d]=i,i+=l;return f}e.range=r})(ov)),ov}var uv,WC;function A5(){return WC||(WC=1,uv=T5().range),uv}var x5=A5();const QI=wr(x5);function oa(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function C5(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Y0(e){let t,n,r;e.length!==2?(t=oa,n=(u,f)=>oa(e(u),f),r=(u,f)=>e(u)-f):(t=e===oa||e===C5?e:R5,n=e,r=e);function i(u,f,d=0,h=u.length){if(d<h){if(t(f,f)!==0)return h;do{const m=d+h>>>1;n(u[m],f)<0?d=m+1:h=m}while(d<h)}return d}function o(u,f,d=0,h=u.length){if(d<h){if(t(f,f)!==0)return h;do{const m=d+h>>>1;n(u[m],f)<=0?d=m+1:h=m}while(d<h)}return d}function l(u,f,d=0,h=u.length){const m=i(u,f,d,h-1);return m>d&&r(u[m-1],f)>-r(u[m],f)?m-1:m}return{left:i,center:l,right:o}}function R5(){return 0}function ZI(e){return e===null?NaN:+e}function*O5(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const P5=Y0(oa),_u=P5.right;Y0(ZI).center;class XC extends Map{constructor(t,n=N5){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(QC(this,t))}has(t){return super.has(QC(this,t))}set(t,n){return super.set(I5(this,t),n)}delete(t){return super.delete(M5(this,t))}}function QC({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function I5({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function M5({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function N5(e){return e!==null&&typeof e=="object"?e.valueOf():e}function k5(e=oa){if(e===oa)return eM;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function eM(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const D5=Math.sqrt(50),U5=Math.sqrt(10),L5=Math.sqrt(2);function ud(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),l=o>=D5?10:o>=U5?5:o>=L5?2:1;let u,f,d;return i<0?(d=Math.pow(10,-i)/l,u=Math.round(e*d),f=Math.round(t*d),u/d<e&&++u,f/d>t&&--f,d=-d):(d=Math.pow(10,i)*l,u=Math.round(e/d),f=Math.round(t/d),u*d<e&&++u,f*d>t&&--f),f<u&&.5<=n&&n<2?ud(e,t,n*2):[u,f,d]}function Cy(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,l]=r?ud(t,e,n):ud(e,t,n);if(!(o>=i))return[];const u=o-i+1,f=new Array(u);if(r)if(l<0)for(let d=0;d<u;++d)f[d]=(o-d)/-l;else for(let d=0;d<u;++d)f[d]=(o-d)*l;else if(l<0)for(let d=0;d<u;++d)f[d]=(i+d)/-l;else for(let d=0;d<u;++d)f[d]=(i+d)*l;return f}function Ry(e,t,n){return t=+t,e=+e,n=+n,ud(e,t,n)[2]}function Oy(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?Ry(t,e,n):Ry(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function ZC(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function e1(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function tM(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?eM:k5(i);r>n;){if(r-n>600){const f=r-n+1,d=t-n+1,h=Math.log(f),m=.5*Math.exp(2*h/3),y=.5*Math.sqrt(h*m*(f-m)/f)*(d-f/2<0?-1:1),b=Math.max(n,Math.floor(t-d*m/f+y)),w=Math.min(r,Math.floor(t+(f-d)*m/f+y));tM(e,t,b,w,i)}const o=e[t];let l=n,u=r;for(kl(e,n,t),i(e[r],o)>0&&kl(e,n,r);l<u;){for(kl(e,l,u),++l,--u;i(e[l],o)<0;)++l;for(;i(e[u],o)>0;)--u}i(e[n],o)===0?kl(e,n,u):(++u,kl(e,u,r)),u<=t&&(n=u+1),t<=u&&(r=u-1)}return e}function kl(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function q5(e,t,n){if(e=Float64Array.from(O5(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return e1(e);if(t>=1)return ZC(e);var r,i=(r-1)*t,o=Math.floor(i),l=ZC(tM(e,o).subarray(0,o+1)),u=e1(e.subarray(o+1));return l+(u-l)*(i-o)}}function B5(e,t,n=ZI){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),l=+n(e[o],o,e),u=+n(e[o+1],o+1,e);return l+(u-l)*(i-o)}}function z5(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function lr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ti(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Py=Symbol("implicit");function J0(){var e=new XC,t=[],n=[],r=Py;function i(o){let l=e.get(o);if(l===void 0){if(r!==Py)return r;e.set(o,l=t.push(o)-1)}return n[l%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new XC;for(const l of o)e.has(l)||e.set(l,t.push(l)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return J0(t,n).unknown(r)},lr.apply(i,arguments),i}function W0(){var e=J0().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,o,l,u=!1,f=0,d=0,h=.5;delete e.unknown;function m(){var y=t().length,b=i<r,w=b?i:r,E=b?r:i;o=(E-w)/Math.max(1,y-f+d*2),u&&(o=Math.floor(o)),w+=(E-w-o*(y-f))*h,l=o*(1-f),u&&(w=Math.round(w),l=Math.round(l));var T=z5(y).map(function(x){return w+o*x});return n(b?T.reverse():T)}return e.domain=function(y){return arguments.length?(t(y),m()):t()},e.range=function(y){return arguments.length?([r,i]=y,r=+r,i=+i,m()):[r,i]},e.rangeRound=function(y){return[r,i]=y,r=+r,i=+i,u=!0,m()},e.bandwidth=function(){return l},e.step=function(){return o},e.round=function(y){return arguments.length?(u=!!y,m()):u},e.padding=function(y){return arguments.length?(f=Math.min(1,d=+y),m()):f},e.paddingInner=function(y){return arguments.length?(f=Math.min(1,y),m()):f},e.paddingOuter=function(y){return arguments.length?(d=+y,m()):d},e.align=function(y){return arguments.length?(h=Math.max(0,Math.min(1,y)),m()):h},e.copy=function(){return W0(t(),[r,i]).round(u).paddingInner(f).paddingOuter(d).align(h)},lr.apply(m(),arguments)}function nM(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return nM(t())},e}function $5(){return nM(W0.apply(null,arguments).paddingInner(1))}function X0(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function rM(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function bu(){}var nu=.7,cd=1/nu,as="\\s*([+-]?\\d+)\\s*",ru="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ir="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",H5=/^#([0-9a-f]{3,8})$/,j5=new RegExp(`^rgb\\(${as},${as},${as}\\)$`),G5=new RegExp(`^rgb\\(${Ir},${Ir},${Ir}\\)$`),F5=new RegExp(`^rgba\\(${as},${as},${as},${ru}\\)$`),V5=new RegExp(`^rgba\\(${Ir},${Ir},${Ir},${ru}\\)$`),K5=new RegExp(`^hsl\\(${ru},${Ir},${Ir}\\)$`),Y5=new RegExp(`^hsla\\(${ru},${Ir},${Ir},${ru}\\)$`),t1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};X0(bu,iu,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:n1,formatHex:n1,formatHex8:J5,formatHsl:W5,formatRgb:r1,toString:r1});function n1(){return this.rgb().formatHex()}function J5(){return this.rgb().formatHex8()}function W5(){return iM(this).formatHsl()}function r1(){return this.rgb().formatRgb()}function iu(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=H5.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?i1(t):n===3?new Tn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?uf(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?uf(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=j5.exec(e))?new Tn(t[1],t[2],t[3],1):(t=G5.exec(e))?new Tn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=F5.exec(e))?uf(t[1],t[2],t[3],t[4]):(t=V5.exec(e))?uf(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=K5.exec(e))?s1(t[1],t[2]/100,t[3]/100,1):(t=Y5.exec(e))?s1(t[1],t[2]/100,t[3]/100,t[4]):t1.hasOwnProperty(e)?i1(t1[e]):e==="transparent"?new Tn(NaN,NaN,NaN,0):null}function i1(e){return new Tn(e>>16&255,e>>8&255,e&255,1)}function uf(e,t,n,r){return r<=0&&(e=t=n=NaN),new Tn(e,t,n,r)}function X5(e){return e instanceof bu||(e=iu(e)),e?(e=e.rgb(),new Tn(e.r,e.g,e.b,e.opacity)):new Tn}function Iy(e,t,n,r){return arguments.length===1?X5(e):new Tn(e,t,n,r??1)}function Tn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}X0(Tn,Iy,rM(bu,{brighter(e){return e=e==null?cd:Math.pow(cd,e),new Tn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?nu:Math.pow(nu,e),new Tn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Tn(Va(this.r),Va(this.g),Va(this.b),fd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:a1,formatHex:a1,formatHex8:Q5,formatRgb:o1,toString:o1}));function a1(){return`#${$a(this.r)}${$a(this.g)}${$a(this.b)}`}function Q5(){return`#${$a(this.r)}${$a(this.g)}${$a(this.b)}${$a((isNaN(this.opacity)?1:this.opacity)*255)}`}function o1(){const e=fd(this.opacity);return`${e===1?"rgb(":"rgba("}${Va(this.r)}, ${Va(this.g)}, ${Va(this.b)}${e===1?")":`, ${e})`}`}function fd(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Va(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function $a(e){return e=Va(e),(e<16?"0":"")+e.toString(16)}function s1(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new vr(e,t,n,r)}function iM(e){if(e instanceof vr)return new vr(e.h,e.s,e.l,e.opacity);if(e instanceof bu||(e=iu(e)),!e)return new vr;if(e instanceof vr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),l=NaN,u=o-i,f=(o+i)/2;return u?(t===o?l=(n-r)/u+(n<r)*6:n===o?l=(r-t)/u+2:l=(t-n)/u+4,u/=f<.5?o+i:2-o-i,l*=60):u=f>0&&f<1?0:l,new vr(l,u,f,e.opacity)}function Z5(e,t,n,r){return arguments.length===1?iM(e):new vr(e,t,n,r??1)}function vr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}X0(vr,Z5,rM(bu,{brighter(e){return e=e==null?cd:Math.pow(cd,e),new vr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?nu:Math.pow(nu,e),new vr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Tn(cv(e>=240?e-240:e+120,i,r),cv(e,i,r),cv(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new vr(l1(this.h),cf(this.s),cf(this.l),fd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=fd(this.opacity);return`${e===1?"hsl(":"hsla("}${l1(this.h)}, ${cf(this.s)*100}%, ${cf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function l1(e){return e=(e||0)%360,e<0?e+360:e}function cf(e){return Math.max(0,Math.min(1,e||0))}function cv(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Q0=e=>()=>e;function e8(e,t){return function(n){return e+n*t}}function t8(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function n8(e){return(e=+e)==1?aM:function(t,n){return n-t?t8(t,n,e):Q0(isNaN(t)?n:t)}}function aM(e,t){var n=t-e;return n?e8(e,n):Q0(isNaN(e)?t:e)}const u1=(function e(t){var n=n8(t);function r(i,o){var l=n((i=Iy(i)).r,(o=Iy(o)).r),u=n(i.g,o.g),f=n(i.b,o.b),d=aM(i.opacity,o.opacity);return function(h){return i.r=l(h),i.g=u(h),i.b=f(h),i.opacity=d(h),i+""}}return r.gamma=e,r})(1);function r8(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function i8(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function a8(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),l;for(l=0;l<r;++l)i[l]=As(e[l],t[l]);for(;l<n;++l)o[l]=t[l];return function(u){for(l=0;l<r;++l)o[l]=i[l](u);return o}}function o8(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function dd(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function s8(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=As(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var My=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fv=new RegExp(My.source,"g");function l8(e){return function(){return e}}function u8(e){return function(t){return e(t)+""}}function c8(e,t){var n=My.lastIndex=fv.lastIndex=0,r,i,o,l=-1,u=[],f=[];for(e=e+"",t=t+"";(r=My.exec(e))&&(i=fv.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),u[l]?u[l]+=o:u[++l]=o),(r=r[0])===(i=i[0])?u[l]?u[l]+=i:u[++l]=i:(u[++l]=null,f.push({i:l,x:dd(r,i)})),n=fv.lastIndex;return n<t.length&&(o=t.slice(n),u[l]?u[l]+=o:u[++l]=o),u.length<2?f[0]?u8(f[0].x):l8(t):(t=f.length,function(d){for(var h=0,m;h<t;++h)u[(m=f[h]).i]=m.x(d);return u.join("")})}function As(e,t){var n=typeof t,r;return t==null||n==="boolean"?Q0(t):(n==="number"?dd:n==="string"?(r=iu(t))?(t=r,u1):c8:t instanceof iu?u1:t instanceof Date?o8:i8(t)?r8:Array.isArray(t)?a8:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?s8:dd)(e,t)}function Z0(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function f8(e,t){t===void 0&&(t=e,e=As);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(l){var u=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return o[u](l-u)}}function d8(e){return function(){return e}}function hd(e){return+e}var c1=[0,1];function un(e){return e}function Ny(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:d8(isNaN(t)?NaN:.5)}function h8(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function p8(e,t,n){var r=e[0],i=e[1],o=t[0],l=t[1];return i<r?(r=Ny(i,r),o=n(l,o)):(r=Ny(r,i),o=n(o,l)),function(u){return o(r(u))}}function m8(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),l=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<r;)i[l]=Ny(e[l],e[l+1]),o[l]=n(t[l],t[l+1]);return function(u){var f=_u(e,u,1,r)-1;return o[f](i[f](u))}}function Su(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function dh(){var e=c1,t=c1,n=As,r,i,o,l=un,u,f,d;function h(){var y=Math.min(e.length,t.length);return l!==un&&(l=h8(e[0],e[y-1])),u=y>2?m8:p8,f=d=null,m}function m(y){return y==null||isNaN(y=+y)?o:(f||(f=u(e.map(r),t,n)))(r(l(y)))}return m.invert=function(y){return l(i((d||(d=u(t,e.map(r),dd)))(y)))},m.domain=function(y){return arguments.length?(e=Array.from(y,hd),h()):e.slice()},m.range=function(y){return arguments.length?(t=Array.from(y),h()):t.slice()},m.rangeRound=function(y){return t=Array.from(y),n=Z0,h()},m.clamp=function(y){return arguments.length?(l=y?!0:un,h()):l!==un},m.interpolate=function(y){return arguments.length?(n=y,h()):n},m.unknown=function(y){return arguments.length?(o=y,m):o},function(y,b){return r=y,i=b,h()}}function e_(){return dh()(un,un)}function g8(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function pd(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function hs(e){return e=pd(Math.abs(e)),e?e[1]:NaN}function v8(e,t){return function(n,r){for(var i=n.length,o=[],l=0,u=e[0],f=0;i>0&&u>0&&(f+u+1>r&&(u=Math.max(1,r-f)),o.push(n.substring(i-=u,i+u)),!((f+=u+1)>r));)u=e[l=(l+1)%e.length];return o.reverse().join(t)}}function y8(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var _8=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function au(e){if(!(t=_8.exec(e)))throw new Error("invalid format: "+e);var t;return new t_({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}au.prototype=t_.prototype;function t_(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}t_.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function b8(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var oM;function S8(e,t){var n=pd(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(oM=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return o===l?r:o>l?r+new Array(o-l+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+pd(e,Math.max(0,t+o-1))[0]}function f1(e,t){var n=pd(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const d1={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:g8,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>f1(e*100,t),r:f1,s:S8,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function h1(e){return e}var p1=Array.prototype.map,m1=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function w8(e){var t=e.grouping===void 0||e.thousands===void 0?h1:v8(p1.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?h1:y8(p1.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function d(m){m=au(m);var y=m.fill,b=m.align,w=m.sign,E=m.symbol,T=m.zero,x=m.width,O=m.comma,R=m.precision,M=m.trim,I=m.type;I==="n"?(O=!0,I="g"):d1[I]||(R===void 0&&(R=12),M=!0,I="g"),(T||y==="0"&&b==="=")&&(T=!0,y="0",b="=");var N=E==="$"?n:E==="#"&&/[boxX]/.test(I)?"0"+I.toLowerCase():"",U=E==="$"?r:/[%p]/.test(I)?l:"",X=d1[I],G=/[defgprs%]/.test(I);R=R===void 0?6:/[gprs]/.test(I)?Math.max(1,Math.min(21,R)):Math.max(0,Math.min(20,R));function ie(W){var te=N,se=U,he,Ae,z;if(I==="c")se=X(W)+se,W="";else{W=+W;var Z=W<0||1/W<0;if(W=isNaN(W)?f:X(Math.abs(W),R),M&&(W=b8(W)),Z&&+W==0&&w!=="+"&&(Z=!1),te=(Z?w==="("?w:u:w==="-"||w==="("?"":w)+te,se=(I==="s"?m1[8+oM/3]:"")+se+(Z&&w==="("?")":""),G){for(he=-1,Ae=W.length;++he<Ae;)if(z=W.charCodeAt(he),48>z||z>57){se=(z===46?i+W.slice(he+1):W.slice(he))+se,W=W.slice(0,he);break}}}O&&!T&&(W=t(W,1/0));var oe=te.length+W.length+se.length,ue=oe<x?new Array(x-oe+1).join(y):"";switch(O&&T&&(W=t(ue+W,ue.length?x-se.length:1/0),ue=""),b){case"<":W=te+W+se+ue;break;case"=":W=te+ue+W+se;break;case"^":W=ue.slice(0,oe=ue.length>>1)+te+W+se+ue.slice(oe);break;default:W=ue+te+W+se;break}return o(W)}return ie.toString=function(){return m+""},ie}function h(m,y){var b=d((m=au(m),m.type="f",m)),w=Math.max(-8,Math.min(8,Math.floor(hs(y)/3)))*3,E=Math.pow(10,-w),T=m1[8+w/3];return function(x){return b(E*x)+T}}return{format:d,formatPrefix:h}}var ff,n_,sM;E8({thousands:",",grouping:[3],currency:["$",""]});function E8(e){return ff=w8(e),n_=ff.format,sM=ff.formatPrefix,ff}function T8(e){return Math.max(0,-hs(Math.abs(e)))}function A8(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(hs(t)/3)))*3-hs(Math.abs(e)))}function x8(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,hs(t)-hs(e))+1}function lM(e,t,n,r){var i=Oy(e,t,n),o;switch(r=au(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=A8(i,l))&&(r.precision=o),sM(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=x8(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=T8(i))&&(r.precision=o-(r.type==="%")*2);break}}return n_(r)}function ua(e){var t=e.domain;return e.ticks=function(n){var r=t();return Cy(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return lM(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,l=r[i],u=r[o],f,d,h=10;for(u<l&&(d=l,l=u,u=d,d=i,i=o,o=d);h-- >0;){if(d=Ry(l,u,n),d===f)return r[i]=l,r[o]=u,t(r);if(d>0)l=Math.floor(l/d)*d,u=Math.ceil(u/d)*d;else if(d<0)l=Math.ceil(l*d)/d,u=Math.floor(u*d)/d;else break;f=d}return e},e}function uM(){var e=e_();return e.copy=function(){return Su(e,uM())},lr.apply(e,arguments),ua(e)}function cM(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,hd),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return cM(e).unknown(t)},e=arguments.length?Array.from(e,hd):[0,1],ua(n)}function fM(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],l;return o<i&&(l=n,n=r,r=l,l=i,i=o,o=l),e[n]=t.floor(i),e[r]=t.ceil(o),e}function g1(e){return Math.log(e)}function v1(e){return Math.exp(e)}function C8(e){return-Math.log(-e)}function R8(e){return-Math.exp(-e)}function O8(e){return isFinite(e)?+("1e"+e):e<0?0:e}function P8(e){return e===10?O8:e===Math.E?Math.exp:t=>Math.pow(e,t)}function I8(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function y1(e){return(t,n)=>-e(-t,n)}function r_(e){const t=e(g1,v1),n=t.domain;let r=10,i,o;function l(){return i=I8(r),o=P8(r),n()[0]<0?(i=y1(i),o=y1(o),e(C8,R8)):e(g1,v1),t}return t.base=function(u){return arguments.length?(r=+u,l()):r},t.domain=function(u){return arguments.length?(n(u),l()):n()},t.ticks=u=>{const f=n();let d=f[0],h=f[f.length-1];const m=h<d;m&&([d,h]=[h,d]);let y=i(d),b=i(h),w,E;const T=u==null?10:+u;let x=[];if(!(r%1)&&b-y<T){if(y=Math.floor(y),b=Math.ceil(b),d>0){for(;y<=b;++y)for(w=1;w<r;++w)if(E=y<0?w/o(-y):w*o(y),!(E<d)){if(E>h)break;x.push(E)}}else for(;y<=b;++y)for(w=r-1;w>=1;--w)if(E=y>0?w/o(-y):w*o(y),!(E<d)){if(E>h)break;x.push(E)}x.length*2<T&&(x=Cy(d,h,T))}else x=Cy(y,b,Math.min(b-y,T)).map(o);return m?x.reverse():x},t.tickFormat=(u,f)=>{if(u==null&&(u=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=au(f)).precision==null&&(f.trim=!0),f=n_(f)),u===1/0)return f;const d=Math.max(1,r*u/t.ticks().length);return h=>{let m=h/o(Math.round(i(h)));return m*r<r-.5&&(m*=r),m<=d?f(h):""}},t.nice=()=>n(fM(n(),{floor:u=>o(Math.floor(i(u))),ceil:u=>o(Math.ceil(i(u)))})),t}function dM(){const e=r_(dh()).domain([1,10]);return e.copy=()=>Su(e,dM()).base(e.base()),lr.apply(e,arguments),e}function _1(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function b1(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function i_(e){var t=1,n=e(_1(t),b1(t));return n.constant=function(r){return arguments.length?e(_1(t=+r),b1(t)):t},ua(n)}function hM(){var e=i_(dh());return e.copy=function(){return Su(e,hM()).constant(e.constant())},lr.apply(e,arguments)}function S1(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function M8(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function N8(e){return e<0?-e*e:e*e}function a_(e){var t=e(un,un),n=1;function r(){return n===1?e(un,un):n===.5?e(M8,N8):e(S1(n),S1(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},ua(t)}function o_(){var e=a_(dh());return e.copy=function(){return Su(e,o_()).exponent(e.exponent())},lr.apply(e,arguments),e}function k8(){return o_.apply(null,arguments).exponent(.5)}function w1(e){return Math.sign(e)*e*e}function D8(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function pM(){var e=e_(),t=[0,1],n=!1,r;function i(o){var l=D8(e(o));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(o){return e.invert(w1(o))},i.domain=function(o){return arguments.length?(e.domain(o),i):e.domain()},i.range=function(o){return arguments.length?(e.range((t=Array.from(o,hd)).map(w1)),i):t.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(e.clamp(o),i):e.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return pM(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},lr.apply(i,arguments),ua(i)}function mM(){var e=[],t=[],n=[],r;function i(){var l=0,u=Math.max(1,t.length);for(n=new Array(u-1);++l<u;)n[l-1]=B5(e,l/u);return o}function o(l){return l==null||isNaN(l=+l)?r:t[_u(n,l)]}return o.invertExtent=function(l){var u=t.indexOf(l);return u<0?[NaN,NaN]:[u>0?n[u-1]:e[0],u<n.length?n[u]:e[e.length-1]]},o.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let u of l)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(oa),i()},o.range=function(l){return arguments.length?(t=Array.from(l),i()):t.slice()},o.unknown=function(l){return arguments.length?(r=l,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return mM().domain(e).range(t).unknown(r)},lr.apply(o,arguments)}function gM(){var e=0,t=1,n=1,r=[.5],i=[0,1],o;function l(f){return f!=null&&f<=f?i[_u(r,f,0,n)]:o}function u(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*t-(f-n)*e)/(n+1);return l}return l.domain=function(f){return arguments.length?([e,t]=f,e=+e,t=+t,u()):[e,t]},l.range=function(f){return arguments.length?(n=(i=Array.from(f)).length-1,u()):i.slice()},l.invertExtent=function(f){var d=i.indexOf(f);return d<0?[NaN,NaN]:d<1?[e,r[0]]:d>=n?[r[n-1],t]:[r[d-1],r[d]]},l.unknown=function(f){return arguments.length&&(o=f),l},l.thresholds=function(){return r.slice()},l.copy=function(){return gM().domain([e,t]).range(i).unknown(o)},lr.apply(ua(l),arguments)}function vM(){var e=[.5],t=[0,1],n,r=1;function i(o){return o!=null&&o<=o?t[_u(e,o,0,r)]:n}return i.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var l=t.indexOf(o);return[e[l-1],e[l]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return vM().domain(e).range(t).unknown(n)},lr.apply(i,arguments)}const dv=new Date,hv=new Date;function Ot(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const l=i(o),u=i.ceil(o);return o-l<u-o?l:u},i.offset=(o,l)=>(t(o=new Date(+o),l==null?1:Math.floor(l)),o),i.range=(o,l,u)=>{const f=[];if(o=i.ceil(o),u=u==null?1:Math.floor(u),!(o<l)||!(u>0))return f;let d;do f.push(d=new Date(+o)),t(o,u),e(o);while(d<o&&o<l);return f},i.filter=o=>Ot(l=>{if(l>=l)for(;e(l),!o(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;t(l,-1),!o(l););else for(;--u>=0;)for(;t(l,1),!o(l););}),n&&(i.count=(o,l)=>(dv.setTime(+o),hv.setTime(+l),e(dv),e(hv),Math.floor(n(dv,hv))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?l=>r(l)%o===0:l=>i.count(0,l)%o===0):i)),i}const md=Ot(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);md.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ot(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):md);md.range;const oi=1e3,rr=oi*60,si=rr*60,mi=si*24,s_=mi*7,E1=mi*30,pv=mi*365,Ha=Ot(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*oi)},(e,t)=>(t-e)/oi,e=>e.getUTCSeconds());Ha.range;const l_=Ot(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*oi)},(e,t)=>{e.setTime(+e+t*rr)},(e,t)=>(t-e)/rr,e=>e.getMinutes());l_.range;const u_=Ot(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*rr)},(e,t)=>(t-e)/rr,e=>e.getUTCMinutes());u_.range;const c_=Ot(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*oi-e.getMinutes()*rr)},(e,t)=>{e.setTime(+e+t*si)},(e,t)=>(t-e)/si,e=>e.getHours());c_.range;const f_=Ot(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*si)},(e,t)=>(t-e)/si,e=>e.getUTCHours());f_.range;const wu=Ot(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*rr)/mi,e=>e.getDate()-1);wu.range;const hh=Ot(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/mi,e=>e.getUTCDate()-1);hh.range;const yM=Ot(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/mi,e=>Math.floor(e/mi));yM.range;function to(e){return Ot(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*rr)/s_)}const ph=to(0),gd=to(1),U8=to(2),L8=to(3),ps=to(4),q8=to(5),B8=to(6);ph.range;gd.range;U8.range;L8.range;ps.range;q8.range;B8.range;function no(e){return Ot(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/s_)}const mh=no(0),vd=no(1),z8=no(2),$8=no(3),ms=no(4),H8=no(5),j8=no(6);mh.range;vd.range;z8.range;$8.range;ms.range;H8.range;j8.range;const d_=Ot(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());d_.range;const h_=Ot(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());h_.range;const gi=Ot(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());gi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ot(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});gi.range;const vi=Ot(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());vi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ot(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});vi.range;function _M(e,t,n,r,i,o){const l=[[Ha,1,oi],[Ha,5,5*oi],[Ha,15,15*oi],[Ha,30,30*oi],[o,1,rr],[o,5,5*rr],[o,15,15*rr],[o,30,30*rr],[i,1,si],[i,3,3*si],[i,6,6*si],[i,12,12*si],[r,1,mi],[r,2,2*mi],[n,1,s_],[t,1,E1],[t,3,3*E1],[e,1,pv]];function u(d,h,m){const y=h<d;y&&([d,h]=[h,d]);const b=m&&typeof m.range=="function"?m:f(d,h,m),w=b?b.range(d,+h+1):[];return y?w.reverse():w}function f(d,h,m){const y=Math.abs(h-d)/m,b=Y0(([,,T])=>T).right(l,y);if(b===l.length)return e.every(Oy(d/pv,h/pv,m));if(b===0)return md.every(Math.max(Oy(d,h,m),1));const[w,E]=l[y/l[b-1][2]<l[b][2]/y?b-1:b];return w.every(E)}return[u,f]}const[G8,F8]=_M(vi,h_,mh,yM,f_,u_),[V8,K8]=_M(gi,d_,ph,wu,c_,l_);function mv(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function gv(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Dl(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function Y8(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,l=e.shortDays,u=e.months,f=e.shortMonths,d=Ul(i),h=Ll(i),m=Ul(o),y=Ll(o),b=Ul(l),w=Ll(l),E=Ul(u),T=Ll(u),x=Ul(f),O=Ll(f),R={a:Z,A:oe,b:ue,B:Ce,c:null,d:O1,e:O1,f:vK,g:CK,G:OK,H:pK,I:mK,j:gK,L:bM,m:yK,M:_K,p:L,q:K,Q:M1,s:N1,S:bK,u:SK,U:wK,V:EK,w:TK,W:AK,x:null,X:null,y:xK,Y:RK,Z:PK,"%":I1},M={a:ne,A:ae,b:ve,B:be,c:null,d:P1,e:P1,f:kK,g:GK,G:VK,H:IK,I:MK,j:NK,L:wM,m:DK,M:UK,p:xe,q:He,Q:M1,s:N1,S:LK,u:qK,U:BK,V:zK,w:$K,W:HK,x:null,X:null,y:jK,Y:FK,Z:KK,"%":I1},I={a:ie,A:W,b:te,B:se,c:he,d:C1,e:C1,f:cK,g:x1,G:A1,H:R1,I:R1,j:oK,L:uK,m:aK,M:sK,p:G,q:iK,Q:dK,s:hK,S:lK,u:Z8,U:eK,V:tK,w:Q8,W:nK,x:Ae,X:z,y:x1,Y:A1,Z:rK,"%":fK};R.x=N(n,R),R.X=N(r,R),R.c=N(t,R),M.x=N(n,M),M.X=N(r,M),M.c=N(t,M);function N(Y,we){return function(Te){var re=[],$t=-1,Le=0,Ht=Y.length,jt,Dr,Ds;for(Te instanceof Date||(Te=new Date(+Te));++$t<Ht;)Y.charCodeAt($t)===37&&(re.push(Y.slice(Le,$t)),(Dr=T1[jt=Y.charAt(++$t)])!=null?jt=Y.charAt(++$t):Dr=jt==="e"?" ":"0",(Ds=we[jt])&&(jt=Ds(Te,Dr)),re.push(jt),Le=$t+1);return re.push(Y.slice(Le,$t)),re.join("")}}function U(Y,we){return function(Te){var re=Dl(1900,void 0,1),$t=X(re,Y,Te+="",0),Le,Ht;if($t!=Te.length)return null;if("Q"in re)return new Date(re.Q);if("s"in re)return new Date(re.s*1e3+("L"in re?re.L:0));if(we&&!("Z"in re)&&(re.Z=0),"p"in re&&(re.H=re.H%12+re.p*12),re.m===void 0&&(re.m="q"in re?re.q:0),"V"in re){if(re.V<1||re.V>53)return null;"w"in re||(re.w=1),"Z"in re?(Le=gv(Dl(re.y,0,1)),Ht=Le.getUTCDay(),Le=Ht>4||Ht===0?vd.ceil(Le):vd(Le),Le=hh.offset(Le,(re.V-1)*7),re.y=Le.getUTCFullYear(),re.m=Le.getUTCMonth(),re.d=Le.getUTCDate()+(re.w+6)%7):(Le=mv(Dl(re.y,0,1)),Ht=Le.getDay(),Le=Ht>4||Ht===0?gd.ceil(Le):gd(Le),Le=wu.offset(Le,(re.V-1)*7),re.y=Le.getFullYear(),re.m=Le.getMonth(),re.d=Le.getDate()+(re.w+6)%7)}else("W"in re||"U"in re)&&("w"in re||(re.w="u"in re?re.u%7:"W"in re?1:0),Ht="Z"in re?gv(Dl(re.y,0,1)).getUTCDay():mv(Dl(re.y,0,1)).getDay(),re.m=0,re.d="W"in re?(re.w+6)%7+re.W*7-(Ht+5)%7:re.w+re.U*7-(Ht+6)%7);return"Z"in re?(re.H+=re.Z/100|0,re.M+=re.Z%100,gv(re)):mv(re)}}function X(Y,we,Te,re){for(var $t=0,Le=we.length,Ht=Te.length,jt,Dr;$t<Le;){if(re>=Ht)return-1;if(jt=we.charCodeAt($t++),jt===37){if(jt=we.charAt($t++),Dr=I[jt in T1?we.charAt($t++):jt],!Dr||(re=Dr(Y,Te,re))<0)return-1}else if(jt!=Te.charCodeAt(re++))return-1}return re}function G(Y,we,Te){var re=d.exec(we.slice(Te));return re?(Y.p=h.get(re[0].toLowerCase()),Te+re[0].length):-1}function ie(Y,we,Te){var re=b.exec(we.slice(Te));return re?(Y.w=w.get(re[0].toLowerCase()),Te+re[0].length):-1}function W(Y,we,Te){var re=m.exec(we.slice(Te));return re?(Y.w=y.get(re[0].toLowerCase()),Te+re[0].length):-1}function te(Y,we,Te){var re=x.exec(we.slice(Te));return re?(Y.m=O.get(re[0].toLowerCase()),Te+re[0].length):-1}function se(Y,we,Te){var re=E.exec(we.slice(Te));return re?(Y.m=T.get(re[0].toLowerCase()),Te+re[0].length):-1}function he(Y,we,Te){return X(Y,t,we,Te)}function Ae(Y,we,Te){return X(Y,n,we,Te)}function z(Y,we,Te){return X(Y,r,we,Te)}function Z(Y){return l[Y.getDay()]}function oe(Y){return o[Y.getDay()]}function ue(Y){return f[Y.getMonth()]}function Ce(Y){return u[Y.getMonth()]}function L(Y){return i[+(Y.getHours()>=12)]}function K(Y){return 1+~~(Y.getMonth()/3)}function ne(Y){return l[Y.getUTCDay()]}function ae(Y){return o[Y.getUTCDay()]}function ve(Y){return f[Y.getUTCMonth()]}function be(Y){return u[Y.getUTCMonth()]}function xe(Y){return i[+(Y.getUTCHours()>=12)]}function He(Y){return 1+~~(Y.getUTCMonth()/3)}return{format:function(Y){var we=N(Y+="",R);return we.toString=function(){return Y},we},parse:function(Y){var we=U(Y+="",!1);return we.toString=function(){return Y},we},utcFormat:function(Y){var we=N(Y+="",M);return we.toString=function(){return Y},we},utcParse:function(Y){var we=U(Y+="",!0);return we.toString=function(){return Y},we}}}var T1={"-":"",_:" ",0:"0"},zt=/^\s*\d+/,J8=/^%/,W8=/[\\^$*+?|[\]().{}]/g;function $e(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function X8(e){return e.replace(W8,"\\$&")}function Ul(e){return new RegExp("^(?:"+e.map(X8).join("|")+")","i")}function Ll(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function Q8(e,t,n){var r=zt.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Z8(e,t,n){var r=zt.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function eK(e,t,n){var r=zt.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function tK(e,t,n){var r=zt.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function nK(e,t,n){var r=zt.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function A1(e,t,n){var r=zt.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function x1(e,t,n){var r=zt.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function rK(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function iK(e,t,n){var r=zt.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function aK(e,t,n){var r=zt.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function C1(e,t,n){var r=zt.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function oK(e,t,n){var r=zt.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function R1(e,t,n){var r=zt.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function sK(e,t,n){var r=zt.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function lK(e,t,n){var r=zt.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function uK(e,t,n){var r=zt.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function cK(e,t,n){var r=zt.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function fK(e,t,n){var r=J8.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function dK(e,t,n){var r=zt.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function hK(e,t,n){var r=zt.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function O1(e,t){return $e(e.getDate(),t,2)}function pK(e,t){return $e(e.getHours(),t,2)}function mK(e,t){return $e(e.getHours()%12||12,t,2)}function gK(e,t){return $e(1+wu.count(gi(e),e),t,3)}function bM(e,t){return $e(e.getMilliseconds(),t,3)}function vK(e,t){return bM(e,t)+"000"}function yK(e,t){return $e(e.getMonth()+1,t,2)}function _K(e,t){return $e(e.getMinutes(),t,2)}function bK(e,t){return $e(e.getSeconds(),t,2)}function SK(e){var t=e.getDay();return t===0?7:t}function wK(e,t){return $e(ph.count(gi(e)-1,e),t,2)}function SM(e){var t=e.getDay();return t>=4||t===0?ps(e):ps.ceil(e)}function EK(e,t){return e=SM(e),$e(ps.count(gi(e),e)+(gi(e).getDay()===4),t,2)}function TK(e){return e.getDay()}function AK(e,t){return $e(gd.count(gi(e)-1,e),t,2)}function xK(e,t){return $e(e.getFullYear()%100,t,2)}function CK(e,t){return e=SM(e),$e(e.getFullYear()%100,t,2)}function RK(e,t){return $e(e.getFullYear()%1e4,t,4)}function OK(e,t){var n=e.getDay();return e=n>=4||n===0?ps(e):ps.ceil(e),$e(e.getFullYear()%1e4,t,4)}function PK(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+$e(t/60|0,"0",2)+$e(t%60,"0",2)}function P1(e,t){return $e(e.getUTCDate(),t,2)}function IK(e,t){return $e(e.getUTCHours(),t,2)}function MK(e,t){return $e(e.getUTCHours()%12||12,t,2)}function NK(e,t){return $e(1+hh.count(vi(e),e),t,3)}function wM(e,t){return $e(e.getUTCMilliseconds(),t,3)}function kK(e,t){return wM(e,t)+"000"}function DK(e,t){return $e(e.getUTCMonth()+1,t,2)}function UK(e,t){return $e(e.getUTCMinutes(),t,2)}function LK(e,t){return $e(e.getUTCSeconds(),t,2)}function qK(e){var t=e.getUTCDay();return t===0?7:t}function BK(e,t){return $e(mh.count(vi(e)-1,e),t,2)}function EM(e){var t=e.getUTCDay();return t>=4||t===0?ms(e):ms.ceil(e)}function zK(e,t){return e=EM(e),$e(ms.count(vi(e),e)+(vi(e).getUTCDay()===4),t,2)}function $K(e){return e.getUTCDay()}function HK(e,t){return $e(vd.count(vi(e)-1,e),t,2)}function jK(e,t){return $e(e.getUTCFullYear()%100,t,2)}function GK(e,t){return e=EM(e),$e(e.getUTCFullYear()%100,t,2)}function FK(e,t){return $e(e.getUTCFullYear()%1e4,t,4)}function VK(e,t){var n=e.getUTCDay();return e=n>=4||n===0?ms(e):ms.ceil(e),$e(e.getUTCFullYear()%1e4,t,4)}function KK(){return"+0000"}function I1(){return"%"}function M1(e){return+e}function N1(e){return Math.floor(+e/1e3)}var Ho,TM,AM;YK({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function YK(e){return Ho=Y8(e),TM=Ho.format,Ho.parse,AM=Ho.utcFormat,Ho.utcParse,Ho}function JK(e){return new Date(e)}function WK(e){return e instanceof Date?+e:+new Date(+e)}function p_(e,t,n,r,i,o,l,u,f,d){var h=e_(),m=h.invert,y=h.domain,b=d(".%L"),w=d(":%S"),E=d("%I:%M"),T=d("%I %p"),x=d("%a %d"),O=d("%b %d"),R=d("%B"),M=d("%Y");function I(N){return(f(N)<N?b:u(N)<N?w:l(N)<N?E:o(N)<N?T:r(N)<N?i(N)<N?x:O:n(N)<N?R:M)(N)}return h.invert=function(N){return new Date(m(N))},h.domain=function(N){return arguments.length?y(Array.from(N,WK)):y().map(JK)},h.ticks=function(N){var U=y();return e(U[0],U[U.length-1],N??10)},h.tickFormat=function(N,U){return U==null?I:d(U)},h.nice=function(N){var U=y();return(!N||typeof N.range!="function")&&(N=t(U[0],U[U.length-1],N??10)),N?y(fM(U,N)):h},h.copy=function(){return Su(h,p_(e,t,n,r,i,o,l,u,f,d))},h}function XK(){return lr.apply(p_(V8,K8,gi,d_,ph,wu,c_,l_,Ha,TM).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function QK(){return lr.apply(p_(G8,F8,vi,h_,mh,hh,f_,u_,Ha,AM).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function gh(){var e=0,t=1,n,r,i,o,l=un,u=!1,f;function d(m){return m==null||isNaN(m=+m)?f:l(i===0?.5:(m=(o(m)-n)*i,u?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([e,t]=m,n=o(e=+e),r=o(t=+t),i=n===r?0:1/(r-n),d):[e,t]},d.clamp=function(m){return arguments.length?(u=!!m,d):u},d.interpolator=function(m){return arguments.length?(l=m,d):l};function h(m){return function(y){var b,w;return arguments.length?([b,w]=y,l=m(b,w),d):[l(0),l(1)]}}return d.range=h(As),d.rangeRound=h(Z0),d.unknown=function(m){return arguments.length?(f=m,d):f},function(m){return o=m,n=m(e),r=m(t),i=n===r?0:1/(r-n),d}}function ca(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function xM(){var e=ua(gh()(un));return e.copy=function(){return ca(e,xM())},Ti.apply(e,arguments)}function CM(){var e=r_(gh()).domain([1,10]);return e.copy=function(){return ca(e,CM()).base(e.base())},Ti.apply(e,arguments)}function RM(){var e=i_(gh());return e.copy=function(){return ca(e,RM()).constant(e.constant())},Ti.apply(e,arguments)}function m_(){var e=a_(gh());return e.copy=function(){return ca(e,m_()).exponent(e.exponent())},Ti.apply(e,arguments)}function ZK(){return m_.apply(null,arguments).exponent(.5)}function OM(){var e=[],t=un;function n(r){if(r!=null&&!isNaN(r=+r))return t((_u(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(oa),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>q5(e,o/r))},n.copy=function(){return OM(t).domain(e)},Ti.apply(n,arguments)}function vh(){var e=0,t=.5,n=1,r=1,i,o,l,u,f,d=un,h,m=!1,y;function b(E){return isNaN(E=+E)?y:(E=.5+((E=+h(E))-o)*(r*E<r*o?u:f),d(m?Math.max(0,Math.min(1,E)):E))}b.domain=function(E){return arguments.length?([e,t,n]=E,i=h(e=+e),o=h(t=+t),l=h(n=+n),u=i===o?0:.5/(o-i),f=o===l?0:.5/(l-o),r=o<i?-1:1,b):[e,t,n]},b.clamp=function(E){return arguments.length?(m=!!E,b):m},b.interpolator=function(E){return arguments.length?(d=E,b):d};function w(E){return function(T){var x,O,R;return arguments.length?([x,O,R]=T,d=f8(E,[x,O,R]),b):[d(0),d(.5),d(1)]}}return b.range=w(As),b.rangeRound=w(Z0),b.unknown=function(E){return arguments.length?(y=E,b):y},function(E){return h=E,i=E(e),o=E(t),l=E(n),u=i===o?0:.5/(o-i),f=o===l?0:.5/(l-o),r=o<i?-1:1,b}}function PM(){var e=ua(vh()(un));return e.copy=function(){return ca(e,PM())},Ti.apply(e,arguments)}function IM(){var e=r_(vh()).domain([.1,1,10]);return e.copy=function(){return ca(e,IM()).base(e.base())},Ti.apply(e,arguments)}function MM(){var e=i_(vh());return e.copy=function(){return ca(e,MM()).constant(e.constant())},Ti.apply(e,arguments)}function g_(){var e=a_(vh());return e.copy=function(){return ca(e,g_()).exponent(e.exponent())},Ti.apply(e,arguments)}function eY(){return g_.apply(null,arguments).exponent(.5)}const Hl=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:W0,scaleDiverging:PM,scaleDivergingLog:IM,scaleDivergingPow:g_,scaleDivergingSqrt:eY,scaleDivergingSymlog:MM,scaleIdentity:cM,scaleImplicit:Py,scaleLinear:uM,scaleLog:dM,scaleOrdinal:J0,scalePoint:$5,scalePow:o_,scaleQuantile:mM,scaleQuantize:gM,scaleRadial:pM,scaleSequential:xM,scaleSequentialLog:CM,scaleSequentialPow:m_,scaleSequentialQuantile:OM,scaleSequentialSqrt:ZK,scaleSequentialSymlog:RM,scaleSqrt:k8,scaleSymlog:hM,scaleThreshold:vM,scaleTime:XK,scaleUtc:QK,tickFormat:lM},Symbol.toStringTag,{value:"Module"}));var fa=e=>e.chartData,tY=V([fa],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),v_=(e,t,n,r)=>r?tY(e):fa(e);function sa(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(vt(t)&&vt(n))return!0}return!1}function k1(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function NM(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,o;if(vt(n))i=n;else if(typeof n=="function")return;if(vt(r))o=r;else if(typeof r=="function")return;var l=[i,o];if(sa(l))return l}}function nY(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(sa(r))return k1(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,o]=e,l,u;if(i==="auto")t!=null&&(l=Math.min(...t));else if(ge(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&cC.test(i)){var f=cC.exec(i);if(f==null||t==null)l=void 0;else{var d=+f[1];l=t[0]-d}}else l=t==null?void 0:t[0];if(o==="auto")t!=null&&(u=Math.max(...t));else if(ge(o))u=o;else if(typeof o=="function")try{t!=null&&(u=o(t==null?void 0:t[1]))}catch{}else if(typeof o=="string"&&fC.test(o)){var h=fC.exec(o);if(h==null||t==null)u=void 0;else{var m=+h[1];u=t[1]+m}}else u=t==null?void 0:t[1];var y=[l,u];if(sa(y))return t==null?y:k1(y,t,n)}}}var xs=1e9,rY={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},__,ct=!0,sr="[DecimalError] ",Ka=sr+"Invalid argument: ",y_=sr+"Exponent out of range: ",Cs=Math.floor,ka=Math.pow,iY=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,qn,Lt=1e7,at=7,kM=9007199254740991,yd=Cs(kM/at),fe={};fe.absoluteValue=fe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};fe.comparedTo=fe.cmp=function(e){var t,n,r,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(r=o.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};fe.decimalPlaces=fe.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*at;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};fe.dividedBy=fe.div=function(e){return li(this,new this.constructor(e))};fe.dividedToIntegerBy=fe.idiv=function(e){var t=this,n=t.constructor;return Ze(li(t,new n(e),0,1),n.precision)};fe.equals=fe.eq=function(e){return!this.cmp(e)};fe.exponent=function(){return xt(this)};fe.greaterThan=fe.gt=function(e){return this.cmp(e)>0};fe.greaterThanOrEqualTo=fe.gte=function(e){return this.cmp(e)>=0};fe.isInteger=fe.isint=function(){return this.e>this.d.length-2};fe.isNegative=fe.isneg=function(){return this.s<0};fe.isPositive=fe.ispos=function(){return this.s>0};fe.isZero=function(){return this.s===0};fe.lessThan=fe.lt=function(e){return this.cmp(e)<0};fe.lessThanOrEqualTo=fe.lte=function(e){return this.cmp(e)<1};fe.logarithm=fe.log=function(e){var t,n=this,r=n.constructor,i=r.precision,o=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(qn))throw Error(sr+"NaN");if(n.s<1)throw Error(sr+(n.s?"NaN":"-Infinity"));return n.eq(qn)?new r(0):(ct=!1,t=li(ou(n,o),ou(e,o),o),ct=!0,Ze(t,i))};fe.minus=fe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?LM(t,e):DM(t,(e.s=-e.s,e))};fe.modulo=fe.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(sr+"NaN");return n.s?(ct=!1,t=li(n,e,0,1).times(e),ct=!0,n.minus(t)):Ze(new r(n),i)};fe.naturalExponential=fe.exp=function(){return UM(this)};fe.naturalLogarithm=fe.ln=function(){return ou(this)};fe.negated=fe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};fe.plus=fe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?DM(t,e):LM(t,(e.s=-e.s,e))};fe.precision=fe.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ka+e);if(t=xt(i)+1,r=i.d.length-1,n=r*at+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};fe.squareRoot=fe.sqrt=function(){var e,t,n,r,i,o,l,u=this,f=u.constructor;if(u.s<1){if(!u.s)return new f(0);throw Error(sr+"NaN")}for(e=xt(u),ct=!1,i=Math.sqrt(+u),i==0||i==1/0?(t=Pr(u.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Cs((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new f(t)):r=new f(i.toString()),n=f.precision,i=l=n+3;;)if(o=r,r=o.plus(li(u,o,l+2)).times(.5),Pr(o.d).slice(0,l)===(t=Pr(r.d)).slice(0,l)){if(t=t.slice(l-3,l+1),i==l&&t=="4999"){if(Ze(o,n+1,0),o.times(o).eq(u)){r=o;break}}else if(t!="9999")break;l+=4}return ct=!0,Ze(r,n)};fe.times=fe.mul=function(e){var t,n,r,i,o,l,u,f,d,h=this,m=h.constructor,y=h.d,b=(e=new m(e)).d;if(!h.s||!e.s)return new m(0);for(e.s*=h.s,n=h.e+e.e,f=y.length,d=b.length,f<d&&(o=y,y=b,b=o,l=f,f=d,d=l),o=[],l=f+d,r=l;r--;)o.push(0);for(r=d;--r>=0;){for(t=0,i=f+r;i>r;)u=o[i]+b[r]*y[i-r-1]+t,o[i--]=u%Lt|0,t=u/Lt|0;o[i]=(o[i]+t)%Lt|0}for(;!o[--l];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,ct?Ze(e,m.precision):e};fe.toDecimalPlaces=fe.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(kr(e,0,xs),t===void 0?t=r.rounding:kr(t,0,8),Ze(n,e+xt(n)+1,t))};fe.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=Wa(r,!0):(kr(e,0,xs),t===void 0?t=i.rounding:kr(t,0,8),r=Ze(new i(r),e+1,t),n=Wa(r,!0,e+1)),n};fe.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?Wa(i):(kr(e,0,xs),t===void 0?t=o.rounding:kr(t,0,8),r=Ze(new o(i),e+xt(i)+1,t),n=Wa(r.abs(),!1,e+xt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};fe.toInteger=fe.toint=function(){var e=this,t=e.constructor;return Ze(new t(e),xt(e)+1,t.rounding)};fe.toNumber=function(){return+this};fe.toPower=fe.pow=function(e){var t,n,r,i,o,l,u=this,f=u.constructor,d=12,h=+(e=new f(e));if(!e.s)return new f(qn);if(u=new f(u),!u.s){if(e.s<1)throw Error(sr+"Infinity");return u}if(u.eq(qn))return u;if(r=f.precision,e.eq(qn))return Ze(u,r);if(t=e.e,n=e.d.length-1,l=t>=n,o=u.s,l){if((n=h<0?-h:h)<=kM){for(i=new f(qn),t=Math.ceil(r/at+4),ct=!1;n%2&&(i=i.times(u),U1(i.d,t)),n=Cs(n/2),n!==0;)u=u.times(u),U1(u.d,t);return ct=!0,e.s<0?new f(qn).div(i):Ze(i,r)}}else if(o<0)throw Error(sr+"NaN");return o=o<0&&e.d[Math.max(t,n)]&1?-1:1,u.s=1,ct=!1,i=e.times(ou(u,r+d)),ct=!0,i=UM(i),i.s=o,i};fe.toPrecision=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?(n=xt(i),r=Wa(i,n<=o.toExpNeg||n>=o.toExpPos)):(kr(e,1,xs),t===void 0?t=o.rounding:kr(t,0,8),i=Ze(new o(i),e,t),n=xt(i),r=Wa(i,e<=n||n<=o.toExpNeg,e)),r};fe.toSignificantDigits=fe.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(kr(e,1,xs),t===void 0?t=r.rounding:kr(t,0,8)),Ze(new r(n),e,t)};fe.toString=fe.valueOf=fe.val=fe.toJSON=fe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=xt(e),n=e.constructor;return Wa(e,t<=n.toExpNeg||t>=n.toExpPos)};function DM(e,t){var n,r,i,o,l,u,f,d,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),ct?Ze(t,m):t;if(f=e.d,d=t.d,l=e.e,i=t.e,f=f.slice(),o=l-i,o){for(o<0?(r=f,o=-o,u=d.length):(r=d,i=l,u=f.length),l=Math.ceil(m/at),u=l>u?l+1:u+1,o>u&&(o=u,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(u=f.length,o=d.length,u-o<0&&(o=u,r=d,d=f,f=r),n=0;o;)n=(f[--o]=f[o]+d[o]+n)/Lt|0,f[o]%=Lt;for(n&&(f.unshift(n),++i),u=f.length;f[--u]==0;)f.pop();return t.d=f,t.e=i,ct?Ze(t,m):t}function kr(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Ka+e)}function Pr(e){var t,n,r,i=e.length-1,o="",l=e[0];if(i>0){for(o+=l,t=1;t<i;t++)r=e[t]+"",n=at-r.length,n&&(o+=ta(n)),o+=r;l=e[t],r=l+"",n=at-r.length,n&&(o+=ta(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return o+l}var li=(function(){function e(r,i){var o,l=0,u=r.length;for(r=r.slice();u--;)o=r[u]*i+l,r[u]=o%Lt|0,l=o/Lt|0;return l&&r.unshift(l),r}function t(r,i,o,l){var u,f;if(o!=l)f=o>l?1:-1;else for(u=f=0;u<o;u++)if(r[u]!=i[u]){f=r[u]>i[u]?1:-1;break}return f}function n(r,i,o){for(var l=0;o--;)r[o]-=l,l=r[o]<i[o]?1:0,r[o]=l*Lt+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,l){var u,f,d,h,m,y,b,w,E,T,x,O,R,M,I,N,U,X,G=r.constructor,ie=r.s==i.s?1:-1,W=r.d,te=i.d;if(!r.s)return new G(r);if(!i.s)throw Error(sr+"Division by zero");for(f=r.e-i.e,U=te.length,I=W.length,b=new G(ie),w=b.d=[],d=0;te[d]==(W[d]||0);)++d;if(te[d]>(W[d]||0)&&--f,o==null?O=o=G.precision:l?O=o+(xt(r)-xt(i))+1:O=o,O<0)return new G(0);if(O=O/at+2|0,d=0,U==1)for(h=0,te=te[0],O++;(d<I||h)&&O--;d++)R=h*Lt+(W[d]||0),w[d]=R/te|0,h=R%te|0;else{for(h=Lt/(te[0]+1)|0,h>1&&(te=e(te,h),W=e(W,h),U=te.length,I=W.length),M=U,E=W.slice(0,U),T=E.length;T<U;)E[T++]=0;X=te.slice(),X.unshift(0),N=te[0],te[1]>=Lt/2&&++N;do h=0,u=t(te,E,U,T),u<0?(x=E[0],U!=T&&(x=x*Lt+(E[1]||0)),h=x/N|0,h>1?(h>=Lt&&(h=Lt-1),m=e(te,h),y=m.length,T=E.length,u=t(m,E,y,T),u==1&&(h--,n(m,U<y?X:te,y))):(h==0&&(u=h=1),m=te.slice()),y=m.length,y<T&&m.unshift(0),n(E,m,T),u==-1&&(T=E.length,u=t(te,E,U,T),u<1&&(h++,n(E,U<T?X:te,T))),T=E.length):u===0&&(h++,E=[0]),w[d++]=h,u&&E[0]?E[T++]=W[M]||0:(E=[W[M]],T=1);while((M++<I||E[0]!==void 0)&&O--)}return w[0]||w.shift(),b.e=f,Ze(b,l?o+xt(b)+1:o)}})();function UM(e,t){var n,r,i,o,l,u,f=0,d=0,h=e.constructor,m=h.precision;if(xt(e)>16)throw Error(y_+xt(e));if(!e.s)return new h(qn);for(ct=!1,u=m,l=new h(.03125);e.abs().gte(.1);)e=e.times(l),d+=5;for(r=Math.log(ka(2,d))/Math.LN10*2+5|0,u+=r,n=i=o=new h(qn),h.precision=u;;){if(i=Ze(i.times(e),u),n=n.times(++f),l=o.plus(li(i,n,u)),Pr(l.d).slice(0,u)===Pr(o.d).slice(0,u)){for(;d--;)o=Ze(o.times(o),u);return h.precision=m,t==null?(ct=!0,Ze(o,m)):o}o=l}}function xt(e){for(var t=e.e*at,n=e.d[0];n>=10;n/=10)t++;return t}function vv(e,t,n){if(t>e.LN10.sd())throw ct=!0,n&&(e.precision=n),Error(sr+"LN10 precision limit exceeded");return Ze(new e(e.LN10),t)}function ta(e){for(var t="";e--;)t+="0";return t}function ou(e,t){var n,r,i,o,l,u,f,d,h,m=1,y=10,b=e,w=b.d,E=b.constructor,T=E.precision;if(b.s<1)throw Error(sr+(b.s?"NaN":"-Infinity"));if(b.eq(qn))return new E(0);if(t==null?(ct=!1,d=T):d=t,b.eq(10))return t==null&&(ct=!0),vv(E,d);if(d+=y,E.precision=d,n=Pr(w),r=n.charAt(0),o=xt(b),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)b=b.times(e),n=Pr(b.d),r=n.charAt(0),m++;o=xt(b),r>1?(b=new E("0."+n),o++):b=new E(r+"."+n.slice(1))}else return f=vv(E,d+2,T).times(o+""),b=ou(new E(r+"."+n.slice(1)),d-y).plus(f),E.precision=T,t==null?(ct=!0,Ze(b,T)):b;for(u=l=b=li(b.minus(qn),b.plus(qn),d),h=Ze(b.times(b),d),i=3;;){if(l=Ze(l.times(h),d),f=u.plus(li(l,new E(i),d)),Pr(f.d).slice(0,d)===Pr(u.d).slice(0,d))return u=u.times(2),o!==0&&(u=u.plus(vv(E,d+2,T).times(o+""))),u=li(u,new E(m),d),E.precision=T,t==null?(ct=!0,Ze(u,T)):u;u=f,i+=2}}function D1(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=Cs(n/at),e.d=[],r=(n+1)%at,n<0&&(r+=at),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=at;r<i;)e.d.push(+t.slice(r,r+=at));t=t.slice(r),r=at-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),ct&&(e.e>yd||e.e<-yd))throw Error(y_+n)}else e.s=0,e.e=0,e.d=[0];return e}function Ze(e,t,n){var r,i,o,l,u,f,d,h,m=e.d;for(l=1,o=m[0];o>=10;o/=10)l++;if(r=t-l,r<0)r+=at,i=t,d=m[h=0];else{if(h=Math.ceil((r+1)/at),o=m.length,h>=o)return e;for(d=o=m[h],l=1;o>=10;o/=10)l++;r%=at,i=r-at+l}if(n!==void 0&&(o=ka(10,l-i-1),u=d/o%10|0,f=t<0||m[h+1]!==void 0||d%o,f=n<4?(u||f)&&(n==0||n==(e.s<0?3:2)):u>5||u==5&&(n==4||f||n==6&&(r>0?i>0?d/ka(10,l-i):0:m[h-1])%10&1||n==(e.s<0?8:7))),t<1||!m[0])return f?(o=xt(e),m.length=1,t=t-o-1,m[0]=ka(10,(at-t%at)%at),e.e=Cs(-t/at)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(r==0?(m.length=h,o=1,h--):(m.length=h+1,o=ka(10,at-r),m[h]=i>0?(d/ka(10,l-i)%ka(10,i)|0)*o:0),f)for(;;)if(h==0){(m[0]+=o)==Lt&&(m[0]=1,++e.e);break}else{if(m[h]+=o,m[h]!=Lt)break;m[h--]=0,o=1}for(r=m.length;m[--r]===0;)m.pop();if(ct&&(e.e>yd||e.e<-yd))throw Error(y_+xt(e));return e}function LM(e,t){var n,r,i,o,l,u,f,d,h,m,y=e.constructor,b=y.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new y(e),ct?Ze(t,b):t;if(f=e.d,m=t.d,r=t.e,d=e.e,f=f.slice(),l=d-r,l){for(h=l<0,h?(n=f,l=-l,u=m.length):(n=m,r=d,u=f.length),i=Math.max(Math.ceil(b/at),u)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=f.length,u=m.length,h=i<u,h&&(u=i),i=0;i<u;i++)if(f[i]!=m[i]){h=f[i]<m[i];break}l=0}for(h&&(n=f,f=m,m=n,t.s=-t.s),u=f.length,i=m.length-u;i>0;--i)f[u++]=0;for(i=m.length;i>l;){if(f[--i]<m[i]){for(o=i;o&&f[--o]===0;)f[o]=Lt-1;--f[o],f[i]+=Lt}f[i]-=m[i]}for(;f[--u]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(t.d=f,t.e=r,ct?Ze(t,b):t):new y(0)}function Wa(e,t,n){var r,i=xt(e),o=Pr(e.d),l=o.length;return t?(n&&(r=n-l)>0?o=o.charAt(0)+"."+o.slice(1)+ta(r):l>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+ta(-i-1)+o,n&&(r=n-l)>0&&(o+=ta(r))):i>=l?(o+=ta(i+1-l),n&&(r=n-i-1)>0&&(o=o+"."+ta(r))):((r=i+1)<l&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(o+="."),o+=ta(r))),e.s<0?"-"+o:o}function U1(e,t){if(e.length>t)return e.length=t,!0}function qM(e){var t,n,r;function i(o){var l=this;if(!(l instanceof i))return new i(o);if(l.constructor=i,o instanceof i){l.s=o.s,l.e=o.e,l.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Ka+o);if(o>0)l.s=1;else if(o<0)o=-o,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(o===~~o&&o<1e7){l.e=0,l.d=[o];return}return D1(l,o.toString())}else if(typeof o!="string")throw Error(Ka+o);if(o.charCodeAt(0)===45?(o=o.slice(1),l.s=-1):l.s=1,iY.test(o))D1(l,o);else throw Error(Ka+o)}if(i.prototype=fe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=qM,i.config=i.set=aY,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function aY(e){if(!e||typeof e!="object")throw Error(sr+"Object expected");var t,n,r,i=["precision",1,xs,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(Cs(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(Ka+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Ka+n+": "+r);return this}var __=qM(rY);qn=new __(1);const Ve=__;var oY=e=>e,BM={},zM=e=>e===BM,L1=e=>function t(){return arguments.length===0||arguments.length===1&&zM(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},$M=(e,t)=>e===1?t:L1(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=r.filter(l=>l!==BM).length;return o>=e?t(...r):$M(e-o,L1(function(){for(var l=arguments.length,u=new Array(l),f=0;f<l;f++)u[f]=arguments[f];var d=r.map(h=>zM(h)?u.shift():h);return t(...d,...u)}))}),sY=e=>$M(e.length,e),ky=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},lY=sY((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),uY=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return oY;var i=n.reverse(),o=i[0],l=i.slice(1);return function(){return l.reduce((u,f)=>f(u),o(...arguments))}},Dy=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function HM(e){var t;return e===0?t=1:t=Math.floor(new Ve(e).abs().log(10).toNumber())+1,t}function jM(e,t,n){for(var r=new Ve(e),i=0,o=[];r.lt(t)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var GM=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},FM=(e,t,n)=>{if(e.lte(0))return new Ve(0);var r=HM(e.toNumber()),i=new Ve(10).pow(r),o=e.div(i),l=r!==1?.05:.1,u=new Ve(Math.ceil(o.div(l).toNumber())).add(n).mul(l),f=u.mul(i);return t?new Ve(f.toNumber()):new Ve(Math.ceil(f.toNumber()))},cY=(e,t,n)=>{var r=new Ve(1),i=new Ve(e);if(!i.isint()&&n){var o=Math.abs(e);o<1?(r=new Ve(10).pow(HM(e)-1),i=new Ve(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Ve(Math.floor(e)))}else e===0?i=new Ve(Math.floor((t-1)/2)):n||(i=new Ve(Math.floor(e)));var l=Math.floor((t-1)/2),u=uY(lY(f=>i.add(new Ve(f-l).mul(r)).toNumber()),ky);return u(0,t)},VM=function(t,n,r,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new Ve(0),tickMin:new Ve(0),tickMax:new Ve(0)};var l=FM(new Ve(n).sub(t).div(r-1),i,o),u;t<=0&&n>=0?u=new Ve(0):(u=new Ve(t).add(n).div(2),u=u.sub(new Ve(u).mod(l)));var f=Math.ceil(u.sub(t).div(l).toNumber()),d=Math.ceil(new Ve(n).sub(u).div(l).toNumber()),h=f+d+1;return h>r?VM(t,n,r,i,o+1):(h<r&&(d=n>0?d+(r-h):d,f=n>0?f:f+(r-h)),{step:l,tickMin:u.sub(new Ve(f).mul(l)),tickMax:u.add(new Ve(d).mul(l))})},fY=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(i,2),[u,f]=GM([n,r]);if(u===-1/0||f===1/0){var d=f===1/0?[u,...ky(0,i-1).map(()=>1/0)]:[...ky(0,i-1).map(()=>-1/0),f];return n>r?Dy(d):d}if(u===f)return cY(u,i,o);var{step:h,tickMin:m,tickMax:y}=VM(u,f,l,o,0),b=jM(m,y.add(new Ve(.1).mul(h)),h);return n>r?Dy(b):b},dY=function(t,n){var[r,i]=t,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,u]=GM([r,i]);if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var f=Math.max(n,2),d=FM(new Ve(u).sub(l).div(f-1),o,0),h=[...jM(new Ve(l),new Ve(u),d),u];return o===!1&&(h=h.map(m=>Math.round(m))),r>i?Dy(h):h},KM=e=>e.rootProps.maxBarSize,hY=e=>e.rootProps.barGap,YM=e=>e.rootProps.barCategoryGap,pY=e=>e.rootProps.barSize,yh=e=>e.rootProps.stackOffset,JM=e=>e.rootProps.reverseStackOrder,b_=e=>e.options.chartName,S_=e=>e.rootProps.syncId,WM=e=>e.rootProps.syncMethod,w_=e=>e.options.eventEmitter,cn={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},ii={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Ln={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},_h=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},mY={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ii.angleAxisId,includeHidden:!1,name:void 0,reversed:ii.reversed,scale:ii.scale,tick:ii.tick,tickCount:void 0,ticks:void 0,type:ii.type,unit:void 0},gY={allowDataOverflow:Ln.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ln.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ln.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ln.scale,tick:Ln.tick,tickCount:Ln.tickCount,ticks:void 0,type:Ln.type,unit:void 0},vY={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:ii.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ii.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ii.scale,tick:ii.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},yY={allowDataOverflow:Ln.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ln.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ln.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ln.scale,tick:Ln.tick,tickCount:Ln.tickCount,ticks:void 0,type:"category",unit:void 0},E_=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?vY:mY,T_=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?yY:gY,bh=e=>e.polarOptions,A_=V([wi,Ei,Bt],d5),XM=V([bh,A_],(e,t)=>{if(e!=null)return br(e.innerRadius,t,0)}),QM=V([bh,A_],(e,t)=>{if(e!=null)return br(e.outerRadius,t,t*.8)}),_Y=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},ZM=V([bh],_Y);V([E_,ZM],_h);var eN=V([A_,XM,QM],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});V([T_,eN],_h);var tN=V([Ke,bh,XM,QM,wi,Ei],(e,t,n,r,i,o)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:l,cy:u,startAngle:f,endAngle:d}=t;return{cx:br(l,i,i/2),cy:br(u,o,o/2),innerRadius:n,outerRadius:r,startAngle:f,endAngle:d,clockWise:!1}}}),Pt=(e,t)=>t,Sh=(e,t,n)=>n;function x_(e){return e==null?void 0:e.id}function nN(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:o}=n,l=new Map;return e.forEach(u=>{var f,d=(f=u.data)!==null&&f!==void 0?f:r;if(!(d==null||d.length===0)){var h=x_(u);d.forEach((m,y)=>{var b=o==null||i?y:String(on(m,o,null)),w=on(m,u.dataKey,0),E;l.has(b)?E=l.get(b):E={},Object.assign(E,{[h]:w}),l.set(b,E)})}}),Array.from(l.values())}function wh(e){return e.stackId!=null&&e.dataKey!=null}var Eh=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Th(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function bY(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var It=e=>{var t=Ke(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Rs=e=>e.tooltip.settings.axisId;function q1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _d(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?q1(Object(n),!0).forEach(function(r){SY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function SY(e,t,n){return(t=wY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wY(e){var t=EY(e,"string");return typeof t=="symbol"?t:t+""}function EY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Uy=[0,"auto"],Dt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},rN=(e,t)=>e.cartesianAxis.xAxis[t],Ai=(e,t)=>{var n=rN(e,t);return n??Dt},Ut={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Uy,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:gu},iN=(e,t)=>e.cartesianAxis.yAxis[t],xi=(e,t)=>{var n=iN(e,t);return n??Ut},TY={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},C_=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??TY},dn=(e,t,n)=>{switch(t){case"xAxis":return Ai(e,n);case"yAxis":return xi(e,n);case"zAxis":return C_(e,n);case"angleAxis":return E_(e,n);case"radiusAxis":return T_(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},AY=(e,t,n)=>{switch(t){case"xAxis":return Ai(e,n);case"yAxis":return xi(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Eu=(e,t,n)=>{switch(t){case"xAxis":return Ai(e,n);case"yAxis":return xi(e,n);case"angleAxis":return E_(e,n);case"radiusAxis":return T_(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},aN=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function oN(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var R_=e=>e.graphicalItems.cartesianItems,xY=V([Pt,Sh],oN),sN=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),Tu=V([R_,dn,xY],sN,{memoizeOptions:{resultEqualityCheck:Th}}),lN=V([Tu],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(wh)),uN=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),CY=V([Tu],uN),cN=e=>e.map(t=>t.data).filter(Boolean).flat(1),RY=V([Tu],cN,{memoizeOptions:{resultEqualityCheck:Th}}),fN=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},O_=V([RY,v_],fN),dN=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:on(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:on(i,r)}))):e.map(r=>({value:r})),Ah=V([O_,dn,Tu],dN);function hN(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Pf(e){if(Mr(e)||e instanceof Date){var t=Number(e);if(vt(t))return t}}function B1(e){if(Array.isArray(e)){var t=[Pf(e[0]),Pf(e[1])];return sa(t)?t:void 0}var n=Pf(e);if(n!=null)return[n,n]}function yi(e){return e.map(Pf).filter(LG)}function OY(e,t,n){return!n||typeof t!="number"||_r(t)?[]:n.length?yi(n.flatMap(r=>{var i=on(e,r.dataKey),o,l;if(Array.isArray(i)?[o,l]=i:o=l=i,!(!vt(o)||!vt(l)))return[t-o,t+l]})):[]}var Mt=e=>{var t=It(e),n=Rs(e);return Eu(e,t,n)},Au=V([Mt],e=>e==null?void 0:e.dataKey),PY=V([lN,v_,Mt],nN),pN=(e,t,n,r)=>{var i={},o=t.reduce((l,u)=>(u.stackId==null||(l[u.stackId]==null&&(l[u.stackId]=[]),l[u.stackId].push(u)),l),i);return Object.fromEntries(Object.entries(o).map(l=>{var[u,f]=l,d=r?[...f].reverse():f,h=d.map(x_);return[u,{stackedData:rV(e,h,n),graphicalItems:d}]}))},Ly=V([PY,lN,yh,JM],pN),mN=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:o}=t;if(r==null&&n!=="zAxis"){var l=lV(e,i,o);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},IY=V([dn],e=>e.allowDataOverflow),P_=e=>{var t;if(e==null||!("domain"in e))return Uy;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=yi(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Uy},gN=V([dn],P_),vN=V([gN,IY],NM),MY=V([Ly,fa,Pt,vN],mN,{memoizeOptions:{resultEqualityCheck:Eh}}),I_=e=>e.errorBars,NY=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>hN(n,r)),bd=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var o=i.flat(),l=Math.min(...o),u=Math.max(...o);return[l,u]}},yN=(e,t,n,r,i)=>{var o,l;if(n.length>0&&e.forEach(u=>{n.forEach(f=>{var d,h,m=(d=r[f.id])===null||d===void 0?void 0:d.filter(x=>hN(i,x)),y=on(u,(h=t.dataKey)!==null&&h!==void 0?h:f.dataKey),b=OY(u,y,m);if(b.length>=2){var w=Math.min(...b),E=Math.max(...b);(o==null||w<o)&&(o=w),(l==null||E>l)&&(l=E)}var T=B1(y);T!=null&&(o=o==null?T[0]:Math.min(o,T[0]),l=l==null?T[1]:Math.max(l,T[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(u=>{var f=B1(on(u,t.dataKey));f!=null&&(o=o==null?f[0]:Math.min(o,f[0]),l=l==null?f[1]:Math.max(l,f[1]))}),vt(o)&&vt(l))return[o,l]},kY=V([O_,dn,CY,I_,Pt],yN,{memoizeOptions:{resultEqualityCheck:Eh}});function DY(e){var{value:t}=e;if(Mr(t)||t instanceof Date)return t}var UY=(e,t,n)=>{var r=e.map(DY).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&IP(r))?QI(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},_N=e=>e.referenceElements.dots,Os=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),LY=V([_N,Pt,Sh],Os),bN=e=>e.referenceElements.areas,qY=V([bN,Pt,Sh],Os),SN=e=>e.referenceElements.lines,BY=V([SN,Pt,Sh],Os),wN=(e,t)=>{var n=yi(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},zY=V(LY,Pt,wN),EN=(e,t)=>{var n=yi(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},$Y=V([qY,Pt],EN);function HY(e){var t;if(e.x!=null)return yi([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:yi(n)}function jY(e){var t;if(e.y!=null)return yi([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:yi(n)}var TN=(e,t)=>{var n=e.flatMap(r=>t==="xAxis"?HY(r):jY(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},GY=V([BY,Pt],TN),FY=V(zY,GY,$Y,(e,t,n)=>bd(e,n,t)),AN=(e,t,n,r,i,o,l,u)=>{if(n!=null)return n;var f=l==="vertical"&&u==="xAxis"||l==="horizontal"&&u==="yAxis",d=f?bd(r,o,i):bd(o,i);return nY(t,d,e.allowDataOverflow)},VY=V([dn,gN,vN,MY,kY,FY,Ke,Pt],AN,{memoizeOptions:{resultEqualityCheck:Eh}}),KY=[0,1],xN=(e,t,n,r,i,o,l)=>{if(!((e==null||n==null||n.length===0)&&l===void 0)){var{dataKey:u,type:f}=e,d=eo(t,o);if(d&&u==null){var h;return QI(0,(h=n==null?void 0:n.length)!==null&&h!==void 0?h:0)}return f==="category"?UY(r,e,d):i==="expand"?KY:l}},M_=V([dn,Ke,O_,Ah,yh,Pt,VY],xN),CN=(e,t,n,r,i)=>{if(e!=null){var{scale:o,type:l}=e;if(o==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":l==="category"?"band":"linear";if(typeof o=="string"){var u="scale".concat(fu(o));return u in Hl?u:"point"}}},xu=V([dn,Ke,aN,b_,Pt],CN);function YY(e){if(e!=null){if(e in Hl)return Hl[e]();var t="scale".concat(fu(e));if(t in Hl)return Hl[t]()}}function N_(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=YY(t);if(i!=null){var o=i.domain(n).range(r);return QF(o),o}}}var RN=(e,t,n)=>{var r=P_(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&sa(e))return fY(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&sa(e))return dY(e,t.tickCount,t.allowDecimals)}},k_=V([M_,Eu,xu],RN),ON=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&sa(t)&&Array.isArray(n)&&n.length>0){var i=t[0],o=n[0],l=t[1],u=n[n.length-1];return[Math.min(i,o),Math.max(l,u)]}return t},JY=V([dn,M_,k_,Pt],ON),WY=V(Ah,dn,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(yi(e.map(u=>u.value))).sort((u,f)=>u-f);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var o=0;o<r.length-1;o++){var l=r[o+1]-r[o];n=Math.min(n,l)}return n/i}}),PN=V(WY,Ke,YM,Bt,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!vt(e))return 0;var o=t==="vertical"?r.height:r.width;if(i==="gap")return e*o/2;if(i==="no-gap"){var l=br(n,e*o),u=e*o/2;return u-l-(u-l)/o*l}return 0}),XY=(e,t)=>{var n=Ai(e,t);return n==null||typeof n.padding!="string"?0:PN(e,"xAxis",t,n.padding)},QY=(e,t)=>{var n=xi(e,t);return n==null||typeof n.padding!="string"?0:PN(e,"yAxis",t,n.padding)},ZY=V(Ai,XY,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),e9=V(xi,QY,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),t9=V([Bt,ZY,ah,ih,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:o}=r;return i?[o.left,n.width-o.right]:[e.left+t.left,e.left+e.width-t.right]}),n9=V([Bt,Ke,e9,ah,ih,(e,t,n)=>n],(e,t,n,r,i,o)=>{var{padding:l}=i;return o?[r.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Cu=(e,t,n,r)=>{var i;switch(t){case"xAxis":return t9(e,n,r);case"yAxis":return n9(e,n,r);case"zAxis":return(i=C_(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return ZM(e);case"radiusAxis":return eN(e,n);default:return}},IN=V([dn,Cu],_h),Ps=V([dn,xu,JY,IN],N_);V([Tu,I_,Pt],NY);function MN(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var xh=(e,t)=>t,Ch=(e,t,n)=>n,r9=V(nh,xh,Ch,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(MN)),i9=V(rh,xh,Ch,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(MN)),NN=(e,t)=>({width:e.width,height:t.height}),a9=(e,t)=>{var n=typeof t.width=="number"?t.width:gu;return{width:n,height:e.height}},kN=V(Bt,Ai,NN),o9=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},s9=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},l9=V(Ei,Bt,r9,xh,Ch,(e,t,n,r,i)=>{var o={},l;return n.forEach(u=>{var f=NN(t,u);l==null&&(l=o9(t,r,e));var d=r==="top"&&!i||r==="bottom"&&i;o[u.id]=l-Number(d)*f.height,l+=(d?-1:1)*f.height}),o}),u9=V(wi,Bt,i9,xh,Ch,(e,t,n,r,i)=>{var o={},l;return n.forEach(u=>{var f=a9(t,u);l==null&&(l=s9(t,r,e));var d=r==="left"&&!i||r==="right"&&i;o[u.id]=l-Number(d)*f.width,l+=(d?-1:1)*f.width}),o}),c9=(e,t)=>{var n=Ai(e,t);if(n!=null)return l9(e,n.orientation,n.mirror)},f9=V([Bt,Ai,c9,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),d9=(e,t)=>{var n=xi(e,t);if(n!=null)return u9(e,n.orientation,n.mirror)},h9=V([Bt,xi,d9,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),DN=V(Bt,xi,(e,t)=>{var n=typeof t.width=="number"?t.width:gu;return{width:n,height:e.height}}),z1=(e,t,n)=>{switch(t){case"xAxis":return kN(e,n).width;case"yAxis":return DN(e,n).height;default:return}},UN=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:o,dataKey:l}=n,u=eo(e,r),f=t.map(d=>d.value);if(l&&u&&o==="category"&&i&&IP(f))return f}},D_=V([Ke,Ah,dn,Pt],UN),LN=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:o}=n,l=eo(e,r);if(l&&(i==="number"||o!=="auto"))return t.map(u=>u.value)}},U_=V([Ke,Ah,Eu,Pt],LN),$1=V([Ke,AY,xu,Ps,D_,U_,Cu,k_,Pt],(e,t,n,r,i,o,l,u,f)=>{if(t!=null){var d=eo(e,f);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:f,categoricalDomain:o,duplicateDomain:i,isCategorical:d,niceTicks:u,range:l,realScaleType:n,scale:r}}}),p9=(e,t,n,r,i,o,l,u,f)=>{if(!(t==null||r==null)){var d=eo(e,f),{type:h,ticks:m,tickCount:y}=t,b=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,w=h==="category"&&r.bandwidth?r.bandwidth()/b:0;w=f==="angleAxis"&&o!=null&&o.length>=2?En(o[0]-o[1])*2*w:w;var E=m||i;if(E){var T=E.map((x,O)=>{var R=l?l.indexOf(x):x;return{index:O,coordinate:r(R)+w,value:x,offset:w}});return T.filter(x=>vt(x.coordinate))}return d&&u?u.map((x,O)=>({coordinate:r(x)+w,value:x,index:O,offset:w})).filter(x=>vt(x.coordinate)):r.ticks?r.ticks(y).map(x=>({coordinate:r(x)+w,value:x,offset:w})):r.domain().map((x,O)=>({coordinate:r(x)+w,value:l?l[x]:x,index:O,offset:w}))}},qN=V([Ke,Eu,xu,Ps,k_,Cu,D_,U_,Pt],p9),m9=(e,t,n,r,i,o,l)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var u=eo(e,l),{tickCount:f}=t,d=0;return d=l==="angleAxis"&&(r==null?void 0:r.length)>=2?En(r[0]-r[1])*2*d:d,u&&o?o.map((h,m)=>({coordinate:n(h)+d,value:h,index:m,offset:d})):n.ticks?n.ticks(f).map(h=>({coordinate:n(h)+d,value:h,offset:d})):n.domain().map((h,m)=>({coordinate:n(h)+d,value:i?i[h]:h,index:m,offset:d}))}},gs=V([Ke,Eu,Ps,Cu,D_,U_,Pt],m9),vs=V(dn,Ps,(e,t)=>{if(!(e==null||t==null))return _d(_d({},e),{},{scale:t})}),g9=V([dn,xu,M_,IN],N_);V((e,t,n)=>C_(e,n),g9,(e,t)=>{if(!(e==null||t==null))return _d(_d({},e),{},{scale:t})});var v9=V([Ke,nh,rh],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),BN=e=>e.options.defaultTooltipEventType,zN=e=>e.options.validateTooltipEventTypes;function $N(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function L_(e,t){var n=BN(e),r=zN(e);return $N(t,n,r)}function y9(e){return _e(t=>L_(t,e))}var HN=(e,t)=>{var n,r=Number(t);if(!(_r(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},_9=e=>e.tooltip.settings,ra={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},b9={itemInteraction:{click:ra,hover:ra},axisInteraction:{click:ra,hover:ra},keyboardInteraction:ra,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},jN=An({name:"tooltip",initialState:b9,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:ut()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=yr(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:ut()},removeTooltipEntrySettings:{reducer(e,t){var n=yr(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:ut()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:S9,replaceTooltipEntrySettings:w9,removeTooltipEntrySettings:E9,setTooltipSettingsState:T9,setActiveMouseOverItemIndex:GN,mouseLeaveItem:A9,mouseLeaveChart:FN,setActiveClickItemIndex:x9,setMouseOverAxisIndex:VN,setMouseClickAxisIndex:C9,setSyncInteraction:qy,setKeyboardInteraction:By}=jN.actions,R9=jN.reducer;function H1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function df(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?H1(Object(n),!0).forEach(function(r){O9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function O9(e,t,n){return(t=P9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P9(e){var t=I9(e,"string");return typeof t=="symbol"?t:t+""}function I9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function M9(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function N9(e){return e.index!=null}var KN=(e,t,n,r)=>{if(t==null)return ra;var i=M9(e,t,n);if(i==null)return ra;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var o=e.settings.active===!0;if(N9(i)){if(o)return df(df({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return df(df({},ra),{},{coordinate:i.coordinate})};function k9(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function D9(e,t){var n=k9(e),r=t[0],i=t[1];if(n===void 0)return!1;var o=Math.min(r,i),l=Math.max(r,i);return n>=o&&n<=l}function U9(e,t,n){if(n==null||t==null)return!0;var r=on(e,t);return r==null||!sa(n)?!0:D9(r,n)}var q_=(e,t,n,r)=>{var i=e==null?void 0:e.index;if(i==null)return null;var o=Number(i);if(!vt(o))return i;var l=0,u=1/0;t.length>0&&(u=t.length-1);var f=Math.max(l,Math.min(o,u)),d=t[f];return d==null||U9(d,n,r)?String(f):null},YN=(e,t,n,r,i,o,l,u)=>{if(!(o==null||u==null)){var f=l[0],d=f==null?void 0:u(f.positions,o);if(d!=null)return d;var h=i==null?void 0:i[Number(o)];if(h)switch(n){case"horizontal":return{x:h.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:h.coordinate}}}},JN=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(o=>{var l;return((l=o.settings)===null||l===void 0?void 0:l.dataKey)===i})},Ru=e=>e.options.tooltipPayloadSearcher,Is=e=>e.tooltip;function j1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function G1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?j1(Object(n),!0).forEach(function(r){L9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function L9(e,t,n){return(t=q9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q9(e){var t=B9(e,"string");return typeof t=="symbol"?t:t+""}function B9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function z9(e,t){return e??t}var WN=(e,t,n,r,i,o,l)=>{if(!(t==null||o==null)){var{chartData:u,computedData:f,dataStartIndex:d,dataEndIndex:h}=n,m=[];return e.reduce((y,b)=>{var w,{dataDefinedOnItem:E,settings:T}=b,x=z9(E,u),O=Array.isArray(x)?EI(x,d,h):x,R=(w=T==null?void 0:T.dataKey)!==null&&w!==void 0?w:r,M=T==null?void 0:T.nameKey,I;if(r&&Array.isArray(O)&&!Array.isArray(O[0])&&l==="axis"?I=UG(O,r,i):I=o(O,t,f,M),Array.isArray(I))I.forEach(U=>{var X=G1(G1({},T),{},{name:U.name,unit:U.unit,color:void 0,fill:void 0});y.push(dC({tooltipEntrySettings:X,dataKey:U.dataKey,payload:U.payload,value:on(U.payload,U.dataKey),name:U.name}))});else{var N;y.push(dC({tooltipEntrySettings:T,dataKey:R,payload:I,value:on(I,R),name:(N=on(I,M))!==null&&N!==void 0?N:T==null?void 0:T.name}))}return y},m)}},B_=V([Mt,Ke,aN,b_,It],CN),$9=V([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),H9=V([It,Rs],oN),Ou=V([$9,Mt,H9],sN,{memoizeOptions:{resultEqualityCheck:Th}}),j9=V([Ou],e=>e.filter(wh)),G9=V([Ou],cN,{memoizeOptions:{resultEqualityCheck:Th}}),Ms=V([G9,fa],fN),F9=V([j9,fa,Mt],nN),z_=V([Ms,Mt,Ou],dN),XN=V([Mt],P_),V9=V([Mt],e=>e.allowDataOverflow),QN=V([XN,V9],NM),K9=V([Ou],e=>e.filter(wh)),Y9=V([F9,K9,yh,JM],pN),J9=V([Y9,fa,It,QN],mN),W9=V([Ou],uN),X9=V([Ms,Mt,W9,I_,It],yN,{memoizeOptions:{resultEqualityCheck:Eh}}),Q9=V([_N,It,Rs],Os),Z9=V([Q9,It],wN),e7=V([bN,It,Rs],Os),t7=V([e7,It],EN),n7=V([SN,It,Rs],Os),r7=V([n7,It],TN),i7=V([Z9,r7,t7],bd),a7=V([Mt,XN,QN,J9,X9,i7,Ke,It],AN),Pu=V([Mt,Ke,Ms,z_,yh,It,a7],xN),o7=V([Pu,Mt,B_],RN),s7=V([Mt,Pu,o7,It],ON),ZN=e=>{var t=It(e),n=Rs(e),r=!1;return Cu(e,t,n,r)},ek=V([Mt,ZN],_h),tk=V([Mt,B_,s7,ek],N_),l7=V([Ke,z_,Mt,It],UN),u7=V([Ke,z_,Mt,It],LN),c7=(e,t,n,r,i,o,l,u)=>{if(t){var{type:f}=t,d=eo(e,u);if(r){var h=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,m=f==="category"&&r.bandwidth?r.bandwidth()/h:0;return m=u==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?En(i[0]-i[1])*2*m:m,d&&l?l.map((y,b)=>({coordinate:r(y)+m,value:y,index:b,offset:m})):r.domain().map((y,b)=>({coordinate:r(y)+m,value:o?o[y]:y,index:b,offset:m}))}}},Ci=V([Ke,Mt,B_,tk,ZN,l7,u7,It],c7),$_=V([BN,zN,_9],(e,t,n)=>$N(n.shared,e,t)),nk=e=>e.tooltip.settings.trigger,H_=e=>e.tooltip.settings.defaultIndex,Iu=V([Is,$_,nk,H_],KN),ys=V([Iu,Ms,Au,Pu],q_),rk=V([Ci,ys],HN),ik=V([Iu],e=>{if(e)return e.dataKey});V([Iu],e=>{if(e)return e.graphicalItemId});var ak=V([Is,$_,nk,H_],JN),f7=V([wi,Ei,Ke,Bt,Ci,H_,ak,Ru],YN),d7=V([Iu,f7],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),h7=V([Iu],e=>e.active),p7=V([ak,ys,fa,Au,rk,Ru,$_],WN);V([p7],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function F1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function V1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?F1(Object(n),!0).forEach(function(r){m7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function m7(e,t,n){return(t=g7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g7(e){var t=v7(e,"string");return typeof t=="symbol"?t:t+""}function v7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var y7=()=>_e(Mt),_7=()=>{var e=y7(),t=_e(Ci),n=_e(tk);return Zf(!e||!n?void 0:V1(V1({},e),{},{scale:n}),t)};function K1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?K1(Object(n),!0).forEach(function(r){b7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function b7(e,t,n){return(t=S7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S7(e){var t=w7(e,"string");return typeof t=="symbol"?t:t+""}function w7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var E7=(e,t,n,r)=>{var i=t.find(o=>o&&o.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},T7=(e,t,n,r)=>{var i=t.find(d=>d&&d.index===n);if(i){if(e==="centric"){var o=i.coordinate,{radius:l}=r;return jo(jo(jo({},r),Zt(r.cx,r.cy,l,o)),{},{angle:o,radius:l})}var u=i.coordinate,{angle:f}=r;return jo(jo(jo({},r),Zt(r.cx,r.cy,u,f)),{},{angle:f,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function A7(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var ok=(e,t,n,r,i)=>{var o,l=-1,u=(o=t==null?void 0:t.length)!==null&&o!==void 0?o:0;if(u<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var f=0;f<u;f++){var d=f>0?n[f-1].coordinate:n[u-1].coordinate,h=n[f].coordinate,m=f>=u-1?n[0].coordinate:n[f+1].coordinate,y=void 0;if(En(h-d)!==En(m-h)){var b=[];if(En(m-h)===En(i[1]-i[0])){y=m;var w=h+i[1]-i[0];b[0]=Math.min(w,(w+d)/2),b[1]=Math.max(w,(w+d)/2)}else{y=d;var E=m+i[1]-i[0];b[0]=Math.min(h,(E+h)/2),b[1]=Math.max(h,(E+h)/2)}var T=[Math.min(h,(y+h)/2),Math.max(h,(y+h)/2)];if(e>T[0]&&e<=T[1]||e>=b[0]&&e<=b[1]){({index:l}=n[f]);break}}else{var x=Math.min(d,m),O=Math.max(d,m);if(e>(x+h)/2&&e<=(O+h)/2){({index:l}=n[f]);break}}}else if(t){for(var R=0;R<u;R++)if(R===0&&e<=(t[R].coordinate+t[R+1].coordinate)/2||R>0&&R<u-1&&e>(t[R].coordinate+t[R-1].coordinate)/2&&e<=(t[R].coordinate+t[R+1].coordinate)/2||R===u-1&&e>(t[R].coordinate+t[R-1].coordinate)/2){({index:l}=t[R]);break}}return l},x7=()=>_e(b_),j_=(e,t)=>t,sk=(e,t,n)=>n,G_=(e,t,n,r)=>r,C7=V(Ci,e=>Kd(e,t=>t.coordinate)),F_=V([Is,j_,sk,G_],KN),V_=V([F_,Ms,Au,Pu],q_),R7=(e,t,n)=>{if(t!=null){var r=Is(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},lk=V([Is,j_,sk,G_],JN),Sd=V([wi,Ei,Ke,Bt,Ci,G_,lk,Ru],YN),O7=V([F_,Sd],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),uk=V([Ci,V_],HN),P7=V([lk,V_,fa,Au,uk,Ru,j_],WN),I7=V([F_,V_],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),M7=(e,t,n,r,i,o,l)=>{if(!(!e||!n||!r||!i)&&A7(e,l)){var u=uV(e,t),f=ok(u,o,i,n,r),d=E7(t,i,f,e);return{activeIndex:String(f),activeCoordinate:d}}},N7=(e,t,n,r,i,o,l)=>{if(!(!e||!r||!i||!o||!n)){var u=v5(e,n);if(u){var f=cV(u,t),d=ok(f,l,o,r,i),h=T7(t,o,d,u);return{activeIndex:String(d),activeCoordinate:h}}}},k7=(e,t,n,r,i,o,l,u)=>{if(!(!e||!t||!r||!i||!o))return t==="horizontal"||t==="vertical"?M7(e,t,r,i,o,l,u):N7(e,t,n,r,i,o,l)},D7=V(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElementId:r.elementId}}),U7=V(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(cn)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:bY}});function Y1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function J1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Y1(Object(n),!0).forEach(function(r){L7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function L7(e,t,n){return(t=q7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q7(e){var t=B7(e,"string");return typeof t=="symbol"?t:t+""}function B7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var z7={},$7={zIndexMap:Object.values(cn).reduce((e,t)=>J1(J1({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),z7)},H7=new Set(Object.values(cn));function j7(e){return H7.has(e)}var ck=An({name:"zIndex",initialState:$7,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:ut()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!j7(n)&&delete e.zIndexMap[n])},prepare:ut()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n,elementId:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElementId=r:e.zIndexMap[n].elementId=r:e.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:ut()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElementId=void 0:e.zIndexMap[n].elementId=void 0)},prepare:ut()}}}),{registerZIndexPortal:G7,unregisterZIndexPortal:F7,registerZIndexPortalId:V7,unregisterZIndexPortalId:K7}=ck.actions,Y7=ck.reducer;function Ri(e){var{zIndex:t,children:n}=e,r=jV(),i=r&&t!==void 0&&t!==0,o=xn(),l=yt();C.useLayoutEffect(()=>i?(l(G7({zIndex:t})),()=>{l(F7({zIndex:t}))}):du,[l,t,i]);var u=_e(d=>D7(d,t,o));if(!i)return n;if(!u)return null;var f=document.getElementById(u);return f?hP.createPortal(n,f):null}function zy(){return zy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zy.apply(null,arguments)}function W1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?W1(Object(n),!0).forEach(function(r){J7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function J7(e,t,n){return(t=W7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W7(e){var t=X7(e,"string");return typeof t=="symbol"?t:t+""}function X7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Q7(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return C.isValidElement(t)?C.cloneElement(t,r):C.createElement(n,r)}function Z7(e){var t,{coordinate:n,payload:r,index:i,offset:o,tooltipAxisBandSize:l,layout:u,cursor:f,tooltipEventType:d,chartName:h}=e,m=n,y=r,b=i;if(!f||!m||h!=="ScatterChart"&&d!=="axis")return null;var w,E,T;if(h==="ScatterChart")w=m,E=I6,T=cn.cursorLine;else if(h==="BarChart")w=M6(u,m,o,l),E=YI,T=cn.cursorRectangle;else if(u==="radial"&&kP(m)){var{cx:x,cy:O,radius:R,startAngle:M,endAngle:I}=JI(m);w={cx:x,cy:O,startAngle:M,endAngle:I,innerRadius:R,outerRadius:R},E=XI,T=cn.cursorLine}else w={points:S5(u,m,o)},E=jI,T=cn.cursorLine;var N=typeof f=="object"&&"className"in f?f.className:void 0,U=hf(hf(hf(hf({stroke:"#ccc",pointerEvents:"none"},o),w),T0(f)),{},{payload:y,payloadIndex:b,className:ot("recharts-tooltip-cursor",N)});return C.createElement(Ri,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:T},C.createElement(Q7,{cursor:f,cursorComp:E,cursorProps:U}))}function eJ(e){var t=_7(),n=MI(),r=sh(),i=x7();return t==null||n==null||r==null||i==null?null:C.createElement(Z7,zy({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var fk=C.createContext(null),tJ=()=>C.useContext(fk),yv={exports:{}},X1;function nJ(){return X1||(X1=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(f,d,h){this.fn=f,this.context=d,this.once=h||!1}function o(f,d,h,m,y){if(typeof h!="function")throw new TypeError("The listener must be a function");var b=new i(h,m||f,y),w=n?n+d:d;return f._events[w]?f._events[w].fn?f._events[w]=[f._events[w],b]:f._events[w].push(b):(f._events[w]=b,f._eventsCount++),f}function l(f,d){--f._eventsCount===0?f._events=new r:delete f._events[d]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var d=[],h,m;if(this._eventsCount===0)return d;for(m in h=this._events)t.call(h,m)&&d.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},u.prototype.listeners=function(d){var h=n?n+d:d,m=this._events[h];if(!m)return[];if(m.fn)return[m.fn];for(var y=0,b=m.length,w=new Array(b);y<b;y++)w[y]=m[y].fn;return w},u.prototype.listenerCount=function(d){var h=n?n+d:d,m=this._events[h];return m?m.fn?1:m.length:0},u.prototype.emit=function(d,h,m,y,b,w){var E=n?n+d:d;if(!this._events[E])return!1;var T=this._events[E],x=arguments.length,O,R;if(T.fn){switch(T.once&&this.removeListener(d,T.fn,void 0,!0),x){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,h),!0;case 3:return T.fn.call(T.context,h,m),!0;case 4:return T.fn.call(T.context,h,m,y),!0;case 5:return T.fn.call(T.context,h,m,y,b),!0;case 6:return T.fn.call(T.context,h,m,y,b,w),!0}for(R=1,O=new Array(x-1);R<x;R++)O[R-1]=arguments[R];T.fn.apply(T.context,O)}else{var M=T.length,I;for(R=0;R<M;R++)switch(T[R].once&&this.removeListener(d,T[R].fn,void 0,!0),x){case 1:T[R].fn.call(T[R].context);break;case 2:T[R].fn.call(T[R].context,h);break;case 3:T[R].fn.call(T[R].context,h,m);break;case 4:T[R].fn.call(T[R].context,h,m,y);break;default:if(!O)for(I=1,O=new Array(x-1);I<x;I++)O[I-1]=arguments[I];T[R].fn.apply(T[R].context,O)}}return!0},u.prototype.on=function(d,h,m){return o(this,d,h,m,!1)},u.prototype.once=function(d,h,m){return o(this,d,h,m,!0)},u.prototype.removeListener=function(d,h,m,y){var b=n?n+d:d;if(!this._events[b])return this;if(!h)return l(this,b),this;var w=this._events[b];if(w.fn)w.fn===h&&(!y||w.once)&&(!m||w.context===m)&&l(this,b);else{for(var E=0,T=[],x=w.length;E<x;E++)(w[E].fn!==h||y&&!w[E].once||m&&w[E].context!==m)&&T.push(w[E]);T.length?this._events[b]=T.length===1?T[0]:T:l(this,b)}return this},u.prototype.removeAllListeners=function(d){var h;return d?(h=n?n+d:d,this._events[h]&&l(this,h)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,e.exports=u})(yv)),yv.exports}var rJ=nJ();const iJ=wr(rJ);var su=new iJ,$y="recharts.syncEvent.tooltip",Q1="recharts.syncEvent.brush";function aJ(e,t){if(t){var n=Number.parseInt(t,10);if(!_r(n))return e==null?void 0:e[n]}}var oJ={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},dk=An({name:"options",initialState:oJ,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),sJ=dk.reducer,{createEventEmitter:lJ}=dk.actions;function uJ(e){return e.tooltip.syncInteraction}var cJ={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},hk=An({name:"chartData",initialState:cJ,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:Z1,setDataStartEndIndexes:fJ,setComputedData:kre}=hk.actions,dJ=hk.reducer,hJ=["x","y"];function eR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Go(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eR(Object(n),!0).forEach(function(r){pJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pJ(e,t,n){return(t=mJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mJ(e){var t=gJ(e,"string");return typeof t=="symbol"?t:t+""}function gJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vJ(e,t){if(e==null)return{};var n,r,i=yJ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function yJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function _J(){var e=_e(S_),t=_e(w_),n=yt(),r=_e(WM),i=_e(Ci),o=sh(),l=oh(),u=_e(f=>f.rootProps.className);C.useEffect(()=>{if(e==null)return du;var f=(d,h,m)=>{if(t!==m&&e===d){if(r==="index"){var y;if(l&&h!==null&&h!==void 0&&(y=h.payload)!==null&&y!==void 0&&y.coordinate&&h.payload.sourceViewBox){var b=h.payload.coordinate,{x:w,y:E}=b,T=vJ(b,hJ),{x,y:O,width:R,height:M}=h.payload.sourceViewBox,I=Go(Go({},T),{},{x:l.x+(R?(w-x)/R:0)*l.width,y:l.y+(M?(E-O)/M:0)*l.height});n(Go(Go({},h),{},{payload:Go(Go({},h.payload),{},{coordinate:I})}))}else n(h);return}if(i!=null){var N;if(typeof r=="function"){var U={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},X=r(i,U);N=i[X]}else r==="value"&&(N=i.find(z=>String(z.value)===h.payload.label));var{coordinate:G}=h.payload;if(N==null||h.payload.active===!1||G==null||l==null){n(qy({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:ie,y:W}=G,te=Math.min(ie,l.x+l.width),se=Math.min(W,l.y+l.height),he={x:o==="horizontal"?N.coordinate:te,y:o==="horizontal"?se:N.coordinate},Ae=qy({active:h.payload.active,coordinate:he,dataKey:h.payload.dataKey,index:String(N.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox,graphicalItemId:h.payload.graphicalItemId});n(Ae)}}};return su.on($y,f),()=>{su.off($y,f)}},[u,n,t,e,r,i,o,l])}function bJ(){var e=_e(S_),t=_e(w_),n=yt();C.useEffect(()=>{if(e==null)return du;var r=(i,o,l)=>{t!==l&&e===i&&n(fJ(o))};return su.on(Q1,r),()=>{su.off(Q1,r)}},[n,t,e])}function SJ(){var e=yt();C.useEffect(()=>{e(lJ())},[e]),_J(),bJ()}function wJ(e,t,n,r,i,o){var l=_e(b=>R7(b,e,t)),u=_e(w_),f=_e(S_),d=_e(WM),h=_e(uJ),m=h==null?void 0:h.active,y=oh();C.useEffect(()=>{if(!m&&f!=null&&u!=null){var b=qy({active:o,coordinate:n,dataKey:l,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:y,graphicalItemId:void 0});su.emit($y,f,b,u)}},[m,n,l,i,r,u,f,d,o,y])}function tR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tR(Object(n),!0).forEach(function(r){EJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function EJ(e,t,n){return(t=TJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TJ(e){var t=AJ(e,"string");return typeof t=="symbol"?t:t+""}function AJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xJ(e){return e.dataKey}function CJ(e,t){return C.isValidElement(e)?C.cloneElement(e,t):typeof e=="function"?C.createElement(e,t):C.createElement(c6,t)}var rR=[],RJ={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function OJ(e){var t,n,r=jn(e,RJ),{active:i,allowEscapeViewBox:o,animationDuration:l,animationEasing:u,content:f,filterNull:d,isAnimationActive:h,offset:m,payloadUniqBy:y,position:b,reverseDirection:w,useTranslate3d:E,wrapperStyle:T,cursor:x,shared:O,trigger:R,defaultIndex:M,portal:I,axisId:N}=r,U=yt(),X=typeof M=="number"?String(M):M;C.useEffect(()=>{U(T9({shared:O,trigger:R,axisId:N,active:i,defaultIndex:X}))},[U,O,R,N,i,X]);var G=oh(),ie=HI(),W=y9(O),{activeIndex:te,isActive:se}=(t=_e(xe=>I7(xe,W,R,X)))!==null&&t!==void 0?t:{},he=_e(xe=>P7(xe,W,R,X)),Ae=_e(xe=>uk(xe,W,R,X)),z=_e(xe=>O7(xe,W,R,X)),Z=he,oe=tJ(),ue=(n=i??se)!==null&&n!==void 0?n:!1,[Ce,L]=K4([Z,ue]),K=W==="axis"?Ae:void 0;wJ(W,R,z,K,te,ue);var ne=I??oe;if(ne==null||G==null||W==null)return null;var ae=Z??rR;ue||(ae=rR),d&&ae.length&&(ae=_4(ae.filter(xe=>xe.value!=null&&(xe.hide!==!0||r.includeHidden)),y,xJ));var ve=ae.length>0,be=C.createElement(v6,{allowEscapeViewBox:o,animationDuration:l,animationEasing:u,isAnimationActive:h,active:ue,coordinate:z,hasPayload:ve,offset:m,position:b,reverseDirection:w,useTranslate3d:E,viewBox:G,wrapperStyle:T,lastBoundingBox:Ce,innerRef:L,hasPortalFromProps:!!I},CJ(f,nR(nR({},r),{},{payload:ae,label:K,active:ue,activeIndex:te,coordinate:z,accessibilityLayer:ie})));return C.createElement(C.Fragment,null,hP.createPortal(be,ne),ue&&C.createElement(eJ,{cursor:x,tooltipEventType:W,coordinate:z,payload:ae,index:te}))}var pk=e=>null;pk.displayName="Cell";function PJ(e,t,n){return(t=IJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IJ(e){var t=MJ(e,"string");return typeof t=="symbol"?t:t+""}function MJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class NJ{constructor(t){PJ(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function iR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kJ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iR(Object(n),!0).forEach(function(r){DJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function DJ(e,t,n){return(t=UJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UJ(e){var t=LJ(e,"string");return typeof t=="symbol"?t:t+""}function LJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qJ={cacheSize:2e3,enableCache:!0},mk=kJ({},qJ),aR=new NJ(mk.cacheSize),BJ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},oR="recharts_measurement_span";function zJ(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",o=t.fontStyle||"",l=t.letterSpacing||"",u=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(o,"|").concat(l,"|").concat(u)}var sR=(e,t)=>{try{var n=document.getElementById(oR);n||(n=document.createElement("span"),n.setAttribute("id",oR),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,BJ,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Kl=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||yu.isSsr)return{width:0,height:0};if(!mk.enableCache)return sR(t,n);var r=zJ(t,n),i=aR.get(r);if(i)return i;var o=sR(t,n);return aR.set(r,o),o},lR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,uR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,$J=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,HJ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,gk={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},jJ=Object.keys(gk),es="NaN";function GJ(e,t){return e*gk[t]}class Sn{static parse(t){var n,[,r,i]=(n=HJ.exec(t))!==null&&n!==void 0?n:[];return new Sn(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,_r(t)&&(this.unit=""),n!==""&&!$J.test(n)&&(this.num=NaN,this.unit=""),jJ.includes(n)&&(this.num=GJ(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new Sn(NaN,""):new Sn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Sn(NaN,""):new Sn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Sn(NaN,""):new Sn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Sn(NaN,""):new Sn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return _r(this.num)}}function vk(e){if(e.includes(es))return es;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,o]=(n=lR.exec(t))!==null&&n!==void 0?n:[],l=Sn.parse(r??""),u=Sn.parse(o??""),f=i==="*"?l.multiply(u):l.divide(u);if(f.isNaN())return es;t=t.replace(lR,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,[,h,m,y]=(d=uR.exec(t))!==null&&d!==void 0?d:[],b=Sn.parse(h??""),w=Sn.parse(y??""),E=m==="+"?b.add(w):b.subtract(w);if(E.isNaN())return es;t=t.replace(uR,E.toString())}return t}var cR=/\(([^()]*)\)/;function FJ(e){for(var t=e,n;(n=cR.exec(t))!=null;){var[,r]=n;t=t.replace(cR,vk(r))}return t}function VJ(e){var t=e.replace(/\s+/g,"");return t=FJ(t),t=vk(t),t}function KJ(e){try{return VJ(e)}catch{return es}}function _v(e){var t=KJ(e.slice(5,-1));return t===es?"":t}var YJ=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],JJ=["dx","dy","angle","className","breakAll"];function Hy(){return Hy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hy.apply(null,arguments)}function fR(e,t){if(e==null)return{};var n,r,i=WJ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function WJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var yk=/[ \f\n\r\t\v\u2028\u2029]+/,_k=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];qt(t)||(n?i=t.toString().split(""):i=t.toString().split(yk));var o=i.map(u=>({word:u,width:Kl(u,r).width})),l=n?0:Kl("",r).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}};function XJ(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var bk=(e,t,n,r)=>e.reduce((i,o)=>{var{word:l,width:u}=o,f=i[i.length-1];if(f&&u!=null&&(t==null||r||f.width+u+n<Number(t)))f.words.push(l),f.width+=u+n;else{var d={words:[l],width:u};i.push(d)}return i},[]),Sk=e=>e.reduce((t,n)=>t.width>n.width?t:n),QJ="",dR=(e,t,n,r,i,o,l,u)=>{var f=e.slice(0,t),d=_k({breakAll:n,style:r,children:f+QJ});if(!d)return[!1,[]];var h=bk(d.wordsWithComputedWidth,o,l,u),m=h.length>i||Sk(h).width>Number(o);return[m,h]},ZJ=(e,t,n,r,i)=>{var{maxLines:o,children:l,style:u,breakAll:f}=e,d=ge(o),h=String(l),m=bk(t,r,n,i);if(!d||i)return m;var y=m.length>o||Sk(m).width>Number(r);if(!y)return m;for(var b=0,w=h.length-1,E=0,T;b<=w&&E<=h.length-1;){var x=Math.floor((b+w)/2),O=x-1,[R,M]=dR(h,O,f,u,o,r,n,i),[I]=dR(h,x,f,u,o,r,n,i);if(!R&&!I&&(b=x+1),R&&I&&(w=x-1),!R&&I){T=M;break}E++}return T||m},hR=e=>{var t=qt(e)?[]:e.toString().split(yk);return[{words:t,width:void 0}]},eW=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:o,maxLines:l}=e;if((t||n)&&!yu.isSsr){var u,f,d=_k({breakAll:o,children:r,style:i});if(d){var{wordsWithComputedWidth:h,spaceWidth:m}=d;u=h,f=m}else return hR(r);return ZJ({breakAll:o,children:r,maxLines:l,style:i},u,f,t,!!n)}return hR(r)},wk="#808080",tW={angle:0,breakAll:!1,capHeight:"0.71em",fill:wk,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},K_=C.forwardRef((e,t)=>{var n=jn(e,tW),{x:r,y:i,lineHeight:o,capHeight:l,fill:u,scaleToFit:f,textAnchor:d,verticalAnchor:h}=n,m=fR(n,YJ),y=C.useMemo(()=>eW({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:f,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,f,m.style,m.width]),{dx:b,dy:w,angle:E,className:T,breakAll:x}=m,O=fR(m,JJ);if(!Mr(r)||!Mr(i)||y.length===0)return null;var R=Number(r)+(ge(b)?b:0),M=Number(i)+(ge(w)?w:0);if(!vt(R)||!vt(M))return null;var I;switch(h){case"start":I=_v("calc(".concat(l,")"));break;case"middle":I=_v("calc(".concat((y.length-1)/2," * -").concat(o," + (").concat(l," / 2))"));break;default:I=_v("calc(".concat(y.length-1," * -").concat(o,")"));break}var N=[];if(f){var U=y[0].width,{width:X}=m;N.push("scale(".concat(ge(X)&&ge(U)?X/U:1,")"))}return E&&N.push("rotate(".concat(E,", ").concat(R,", ").concat(M,")")),N.length&&(O.transform=N.join(" ")),C.createElement("text",Hy({},ar(O),{ref:t,x:R,y:M,className:ot("recharts-text",T),textAnchor:d,fill:u.includes("url")?wk:u}),y.map((G,ie)=>{var W=G.words.join(x?"":" ");return C.createElement("tspan",{x:R,dy:ie===0?I:o,key:"".concat(W,"-").concat(ie)},W)}))});K_.displayName="Text";var nW=["labelRef"];function rW(e,t){if(e==null)return{};var n,r,i=iW(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function iW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function pR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pR(Object(n),!0).forEach(function(r){aW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aW(e,t,n){return(t=oW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oW(e){var t=sW(e,"string");return typeof t=="symbol"?t:t+""}function sW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ai(){return ai=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ai.apply(null,arguments)}var Ek=C.createContext(null),lW=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:o,height:l,children:u}=e,f=C.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:o,height:l}),[t,n,r,i,o,l]);return C.createElement(Ek.Provider,{value:f},u)},Tk=()=>{var e=C.useContext(Ek),t=oh();return e||II(t)},uW=C.createContext(null),cW=()=>{var e=C.useContext(uW),t=_e(tN);return e||t},fW=e=>{var{value:t,formatter:n}=e,r=qt(e.children)?t:e.children;return typeof n=="function"?n(r):r},Y_=e=>e!=null&&typeof e=="function",dW=(e,t)=>{var n=En(t-e),r=Math.min(Math.abs(t-e),360);return n*r},hW=(e,t,n,r,i)=>{var{offset:o,className:l}=e,{cx:u,cy:f,innerRadius:d,outerRadius:h,startAngle:m,endAngle:y,clockWise:b}=i,w=(d+h)/2,E=dW(m,y),T=E>=0?1:-1,x,O;switch(t){case"insideStart":x=m+T*o,O=b;break;case"insideEnd":x=y-T*o,O=!b;break;case"end":x=y+T*o,O=b;break;default:throw new Error("Unsupported position ".concat(t))}O=E<=0?O:!O;var R=Zt(u,f,w,x),M=Zt(u,f,w,x+(O?1:-1)*359),I="M".concat(R.x,",").concat(R.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(O?0:1,`,
    `).concat(M.x,",").concat(M.y),N=qt(e.id)?Yl("recharts-radial-line-"):e.id;return C.createElement("text",ai({},r,{dominantBaseline:"central",className:ot("recharts-radial-bar-label",l)}),C.createElement("defs",null,C.createElement("path",{id:N,d:I})),C.createElement("textPath",{xlinkHref:"#".concat(N)},n))},pW=(e,t,n)=>{var{cx:r,cy:i,innerRadius:o,outerRadius:l,startAngle:u,endAngle:f}=e,d=(u+f)/2;if(n==="outside"){var{x:h,y:m}=Zt(r,i,l+t,d);return{x:h,y:m,textAnchor:h>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var y=(o+l)/2,{x:b,y:w}=Zt(r,i,y,d);return{x:b,y:w,textAnchor:"middle",verticalAnchor:"middle"}},jy=e=>"cx"in e&&ge(e.cx),mW=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,o;n!=null&&!jy(n)&&(o=n);var{x:l,y:u,upperWidth:f,lowerWidth:d,height:h}=t,m=l,y=l+(f-d)/2,b=(m+y)/2,w=(f+d)/2,E=m+f/2,T=h>=0?1:-1,x=T*r,O=T>0?"end":"start",R=T>0?"start":"end",M=f>=0?1:-1,I=M*r,N=M>0?"end":"start",U=M>0?"start":"end";if(i==="top"){var X={x:m+f/2,y:u-x,textAnchor:"middle",verticalAnchor:O};return gt(gt({},X),o?{height:Math.max(u-o.y,0),width:f}:{})}if(i==="bottom"){var G={x:y+d/2,y:u+h+x,textAnchor:"middle",verticalAnchor:R};return gt(gt({},G),o?{height:Math.max(o.y+o.height-(u+h),0),width:d}:{})}if(i==="left"){var ie={x:b-I,y:u+h/2,textAnchor:N,verticalAnchor:"middle"};return gt(gt({},ie),o?{width:Math.max(ie.x-o.x,0),height:h}:{})}if(i==="right"){var W={x:b+w+I,y:u+h/2,textAnchor:U,verticalAnchor:"middle"};return gt(gt({},W),o?{width:Math.max(o.x+o.width-W.x,0),height:h}:{})}var te=o?{width:w,height:h}:{};return i==="insideLeft"?gt({x:b+I,y:u+h/2,textAnchor:U,verticalAnchor:"middle"},te):i==="insideRight"?gt({x:b+w-I,y:u+h/2,textAnchor:N,verticalAnchor:"middle"},te):i==="insideTop"?gt({x:m+f/2,y:u+x,textAnchor:"middle",verticalAnchor:R},te):i==="insideBottom"?gt({x:y+d/2,y:u+h-x,textAnchor:"middle",verticalAnchor:O},te):i==="insideTopLeft"?gt({x:m+I,y:u+x,textAnchor:U,verticalAnchor:R},te):i==="insideTopRight"?gt({x:m+f-I,y:u+x,textAnchor:N,verticalAnchor:R},te):i==="insideBottomLeft"?gt({x:y+I,y:u+h-x,textAnchor:U,verticalAnchor:O},te):i==="insideBottomRight"?gt({x:y+d-I,y:u+h-x,textAnchor:N,verticalAnchor:O},te):i&&typeof i=="object"&&(ge(i.x)||hi(i.x))&&(ge(i.y)||hi(i.y))?gt({x:l+br(i.x,w),y:u+br(i.y,h),textAnchor:"end",verticalAnchor:"end"},te):gt({x:E,y:u+h/2,textAnchor:"middle",verticalAnchor:"middle"},te)},gW={angle:0,offset:5,zIndex:cn.label,position:"middle",textBreakAll:!1};function na(e){var t=jn(e,gW),{viewBox:n,position:r,value:i,children:o,content:l,className:u="",textBreakAll:f,labelRef:d}=t,h=cW(),m=Tk(),y=r==="center"?m:h??m,b,w,E;if(n==null?b=y:jy(n)?b=n:b=II(n),!b||qt(i)&&qt(o)&&!C.isValidElement(l)&&typeof l!="function")return null;var T=gt(gt({},t),{},{viewBox:b});if(C.isValidElement(l)){var{labelRef:x}=T,O=rW(T,nW);return C.cloneElement(l,O)}if(typeof l=="function"){if(w=C.createElement(l,T),C.isValidElement(w))return w}else w=fW(t);var R=ar(t);if(jy(b)){if(r==="insideStart"||r==="insideEnd"||r==="end")return hW(t,r,w,R,b);E=pW(b,t.offset,t.position)}else E=mW(t,b);return C.createElement(Ri,{zIndex:t.zIndex},C.createElement(K_,ai({ref:d,className:ot("recharts-label",u)},R,E,{textAnchor:XJ(R.textAnchor)?R.textAnchor:E.textAnchor,breakAll:f}),w))}na.displayName="Label";var vW=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?C.createElement(na,ai({key:"label-implicit"},r)):Mr(e)?C.createElement(na,ai({key:"label-implicit",value:e},r)):C.isValidElement(e)?e.type===na?C.cloneElement(e,gt({key:"label-implicit"},r)):C.createElement(na,ai({key:"label-implicit",content:e},r)):Y_(e)?C.createElement(na,ai({key:"label-implicit",content:e},r)):e&&typeof e=="object"?C.createElement(na,ai({},e,{key:"label-implicit"},r)):null};function yW(e){var{label:t,labelRef:n}=e,r=Tk();return vW(t,r,n)||null}var bv={},Sv={},mR;function _W(){return mR||(mR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(Sv)),Sv}var wv={},gR;function bW(){return gR||(gR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(wv)),wv}var vR;function SW(){return vR||(vR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_W(),n=bW(),r=M0();function i(o){if(r.isArrayLike(o))return t.last(n.toArray(o))}e.last=i})(bv)),bv}var Ev,yR;function wW(){return yR||(yR=1,Ev=SW().last),Ev}var EW=wW();const TW=wr(EW);var AW=["valueAccessor"],xW=["dataKey","clockWise","id","textBreakAll","zIndex"];function wd(){return wd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wd.apply(null,arguments)}function _R(e,t){if(e==null)return{};var n,r,i=CW(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function CW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var RW=e=>Array.isArray(e.value)?TW(e.value):e.value,Ak=C.createContext(void 0),OW=Ak.Provider,xk=C.createContext(void 0);xk.Provider;function PW(){return C.useContext(Ak)}function IW(){return C.useContext(xk)}function If(e){var{valueAccessor:t=RW}=e,n=_R(e,AW),{dataKey:r,clockWise:i,id:o,textBreakAll:l,zIndex:u}=n,f=_R(n,xW),d=PW(),h=IW(),m=d||h;return!m||!m.length?null:C.createElement(Ri,{zIndex:u??cn.label},C.createElement(di,{className:"recharts-label-list"},m.map((y,b)=>{var w,E=qt(r)?t(y,b):on(y&&y.payload,r),T=qt(o)?{}:{id:"".concat(o,"-").concat(b)};return C.createElement(na,wd({key:"label-".concat(b)},ar(y),f,T,{fill:(w=n.fill)!==null&&w!==void 0?w:y.fill,parentViewBox:y.parentViewBox,value:E,textBreakAll:l,viewBox:y.viewBox,index:b,zIndex:0}))})))}If.displayName="LabelList";function MW(e){var{label:t}=e;return t?t===!0?C.createElement(If,{key:"labelList-implicit"}):C.isValidElement(t)||Y_(t)?C.createElement(If,{key:"labelList-implicit",content:t}):typeof t=="object"?C.createElement(If,wd({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var NW={radiusAxis:{},angleAxis:{}},Ck=An({name:"polarAxis",initialState:NW,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Dre,removeRadiusAxis:Ure,addAngleAxis:Lre,removeAngleAxis:qre}=Ck.actions,kW=Ck.reducer,Tv={exports:{}},Xe={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bR;function DW(){if(bR)return Xe;bR=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.for("react.view_transition"),b=Symbol.for("react.client.reference");function w(E){if(typeof E=="object"&&E!==null){var T=E.$$typeof;switch(T){case e:switch(E=E.type,E){case n:case i:case r:case f:case d:case y:return E;default:switch(E=E&&E.$$typeof,E){case l:case u:case m:case h:return E;case o:return E;default:return T}}case t:return T}}}return Xe.ContextConsumer=o,Xe.ContextProvider=l,Xe.Element=e,Xe.ForwardRef=u,Xe.Fragment=n,Xe.Lazy=m,Xe.Memo=h,Xe.Portal=t,Xe.Profiler=i,Xe.StrictMode=r,Xe.Suspense=f,Xe.SuspenseList=d,Xe.isContextConsumer=function(E){return w(E)===o},Xe.isContextProvider=function(E){return w(E)===l},Xe.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===e},Xe.isForwardRef=function(E){return w(E)===u},Xe.isFragment=function(E){return w(E)===n},Xe.isLazy=function(E){return w(E)===m},Xe.isMemo=function(E){return w(E)===h},Xe.isPortal=function(E){return w(E)===t},Xe.isProfiler=function(E){return w(E)===i},Xe.isStrictMode=function(E){return w(E)===r},Xe.isSuspense=function(E){return w(E)===f},Xe.isSuspenseList=function(E){return w(E)===d},Xe.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===n||E===i||E===r||E===f||E===d||typeof E=="object"&&E!==null&&(E.$$typeof===m||E.$$typeof===h||E.$$typeof===l||E.$$typeof===o||E.$$typeof===u||E.$$typeof===b||E.getModuleId!==void 0)},Xe.typeOf=w,Xe}var SR;function UW(){return SR||(SR=1,Tv.exports=DW()),Tv.exports}var LW=UW(),wR=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",ER=null,Av=null,Rk=e=>{if(e===ER&&Array.isArray(Av))return Av;var t=[];return C.Children.forEach(e,n=>{qt(n)||(LW.isFragment(n)?t=t.concat(Rk(n.props.children)):t.push(n))}),Av=t,ER=e,t};function qW(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(i=>wR(i)):r=[wR(t)],Rk(e).forEach(i=>{var o=us(i,"type.displayName")||us(i,"type.name");o&&r.indexOf(o)!==-1&&n.push(i)}),n}var xv={},TR;function BW(){return TR||(TR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const o=n[Symbol.toStringTag];return o==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${o}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(xv)),xv}var Cv,AR;function zW(){return AR||(AR=1,Cv=BW().isPlainObject),Cv}var $W=zW();const HW=wr($W);function xR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function CR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xR(Object(n),!0).forEach(function(r){jW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jW(e,t,n){return(t=GW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GW(e){var t=FW(e,"string");return typeof t=="symbol"?t:t+""}function FW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ed(){return Ed=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ed.apply(null,arguments)}var RR=(e,t,n,r,i)=>{var o=n-r,l;return l="M ".concat(e,",").concat(t),l+="L ".concat(e+n,",").concat(t),l+="L ".concat(e+n-o/2,",").concat(t+i),l+="L ".concat(e+n-o/2-r,",").concat(t+i),l+="L ".concat(e,",").concat(t," Z"),l},VW={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},KW=e=>{var t=jn(e,VW),{x:n,y:r,upperWidth:i,lowerWidth:o,height:l,className:u}=t,{animationEasing:f,animationDuration:d,animationBegin:h,isUpdateAnimationActive:m}=t,y=C.useRef(null),[b,w]=C.useState(-1),E=C.useRef(i),T=C.useRef(o),x=C.useRef(l),O=C.useRef(n),R=C.useRef(r),M=K0(e,"trapezoid-");if(C.useEffect(()=>{if(y.current&&y.current.getTotalLength)try{var he=y.current.getTotalLength();he&&w(he)}catch{}},[]),n!==+n||r!==+r||i!==+i||o!==+o||l!==+l||i===0&&o===0||l===0)return null;var I=ot("recharts-trapezoid",u);if(!m)return C.createElement("g",null,C.createElement("path",Ed({},ar(t),{className:I,d:RR(n,r,i,o,l)})));var N=E.current,U=T.current,X=x.current,G=O.current,ie=R.current,W="0px ".concat(b===-1?1:b,"px"),te="".concat(b,"px 0px"),se=GI(["strokeDasharray"],d,f);return C.createElement(V0,{animationId:M,key:M,canBegin:b>0,duration:d,easing:f,isActive:m,begin:h},he=>{var Ae=Qt(N,i,he),z=Qt(U,o,he),Z=Qt(X,l,he),oe=Qt(G,n,he),ue=Qt(ie,r,he);y.current&&(E.current=Ae,T.current=z,x.current=Z,O.current=oe,R.current=ue);var Ce=he>0?{transition:se,strokeDasharray:te}:{strokeDasharray:W};return C.createElement("path",Ed({},ar(t),{className:I,d:RR(oe,ue,Ae,z,Z),ref:y,style:CR(CR({},Ce),t.style)}))})},YW=["option","shapeType","propTransformer","activeClassName"];function JW(e,t){if(e==null)return{};var n,r,i=WW(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function WW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function OR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Td(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OR(Object(n),!0).forEach(function(r){XW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function XW(e,t,n){return(t=QW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QW(e){var t=ZW(e,"string");return typeof t=="symbol"?t:t+""}function ZW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eX(e,t){return Td(Td({},t),e)}function tX(e,t){return e==="symbols"}function PR(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return C.createElement(YI,n);case"trapezoid":return C.createElement(KW,n);case"sector":return C.createElement(XI,n);case"symbols":if(tX(t))return C.createElement(NP,n);break;case"curve":return C.createElement(jI,n);default:return null}}function nX(e){return C.isValidElement(e)?e.props:e}function rX(e){var{option:t,shapeType:n,propTransformer:r=eX,activeClassName:i="recharts-active-shape"}=e,o=JW(e,YW),l;if(C.isValidElement(t))l=C.cloneElement(t,Td(Td({},o),nX(t)));else if(typeof t=="function")l=t(o,o.index);else if(HW(t)&&typeof t!="boolean"){var u=r(t,o);l=C.createElement(PR,{shapeType:n,elementProps:u})}else{var f=o;l=C.createElement(PR,{shapeType:n,elementProps:f})}return o.isActive?C.createElement(di,{className:i},l):l}var Ok=(e,t,n)=>{var r=yt();return(i,o)=>l=>{e==null||e(i,o,l),r(GN({activeIndex:String(o),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},Pk=e=>{var t=yt();return(n,r)=>i=>{e==null||e(n,r,i),t(A9())}},Ik=(e,t,n)=>{var r=yt();return(i,o)=>l=>{e==null||e(i,o,l),r(x9({activeIndex:String(o),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function iX(e){var{tooltipEntrySettings:t}=e,n=yt(),r=xn(),i=C.useRef(null);return C.useLayoutEffect(()=>{r||(i.current===null?n(S9(t)):i.current!==t&&n(w9({prev:i.current,next:t})),i.current=t)},[t,n,r]),C.useLayoutEffect(()=>()=>{i.current&&(n(E9(i.current)),i.current=null)},[n]),null}function aX(e){var{legendPayload:t}=e,n=yt(),r=xn(),i=C.useRef(null);return C.useLayoutEffect(()=>{r||(i.current===null?n(n6(t)):i.current!==t&&n(r6({prev:i.current,next:t})),i.current=t)},[n,r,t]),C.useLayoutEffect(()=>()=>{i.current&&(n(i6(i.current)),i.current=null)},[n]),null}var Rv,oX=()=>{var[e]=C.useState(()=>Yl("uid-"));return e},sX=(Rv=QL.useId)!==null&&Rv!==void 0?Rv:oX;function Mk(e,t){var n=sX();return t||(e?"".concat(e,"-").concat(n):n)}var lX=C.createContext(void 0),uX=e=>{var{id:t,type:n,children:r}=e,i=Mk("recharts-".concat(n),t);return C.createElement(lX.Provider,{value:i},r(i))},cX={cartesianItems:[],polarItems:[]},Nk=An({name:"graphicalItems",initialState:cX,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:ut()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=yr(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:ut()},removeCartesianGraphicalItem:{reducer(e,t){var n=yr(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:ut()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:ut()},removePolarGraphicalItem:{reducer(e,t){var n=yr(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:ut()}}}),{addCartesianGraphicalItem:fX,replaceCartesianGraphicalItem:dX,removeCartesianGraphicalItem:hX,addPolarGraphicalItem:Bre,removePolarGraphicalItem:zre}=Nk.actions,pX=Nk.reducer,mX=e=>{var t=yt(),n=C.useRef(null);return C.useLayoutEffect(()=>{n.current===null?t(fX(e)):n.current!==e&&t(dX({prev:n.current,next:e})),n.current=e},[t,e]),C.useLayoutEffect(()=>()=>{n.current&&(t(hX(n.current)),n.current=null)},[t]),null},gX=C.memo(mX);function IR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function MR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IR(Object(n),!0).forEach(function(r){vX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vX(e,t,n){return(t=yX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yX(e){var t=_X(e,"string");return typeof t=="symbol"?t:t+""}function _X(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bX={xAxis:{},yAxis:{},zAxis:{}},kk=An({name:"cartesianAxis",initialState:bX,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:ut()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:ut()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:ut()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:ut()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:ut()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:ut()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:ut()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:ut()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:ut()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var o=i.widthHistory||[];if(o.length===3&&o[0]===o[2]&&r===o[1]&&r!==i.width&&Math.abs(r-o[0])<=1)return;var l=[...o,r].slice(-3);e.yAxis[n]=MR(MR({},e.yAxis[n]),{},{width:r,widthHistory:l})}}}}),{addXAxis:SX,replaceXAxis:wX,removeXAxis:EX,addYAxis:TX,replaceYAxis:AX,removeYAxis:xX,addZAxis:$re,replaceZAxis:Hre,removeZAxis:jre,updateYAxisWidth:CX}=kk.actions,RX=kk.reducer,OX=V([Bt],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),PX=V([OX,wi,Ei],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),Dk=()=>_e(PX),IX="Invariant failed";function MX(e,t){throw new Error(IX)}var NX=["x","y"];function Gy(){return Gy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gy.apply(null,arguments)}function NR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ql(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NR(Object(n),!0).forEach(function(r){kX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kX(e,t,n){return(t=DX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DX(e){var t=UX(e,"string");return typeof t=="symbol"?t:t+""}function UX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LX(e,t){if(e==null)return{};var n,r,i=qX(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function qX(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function BX(e,t){var{x:n,y:r}=e,i=LX(e,NX),o="".concat(n),l=parseInt(o,10),u="".concat(r),f=parseInt(u,10),d="".concat(t.height||i.height),h=parseInt(d,10),m="".concat(t.width||i.width),y=parseInt(m,10);return ql(ql(ql(ql(ql({},t),i),l?{x:l}:{}),f?{y:f}:{}),{},{height:h,width:y,name:t.name,radius:t.radius})}function Ad(e){return C.createElement(rX,Gy({shapeType:"rectangle",propTransformer:BX,activeClassName:"recharts-active-bar"},e))}var zX=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(ge(t))return t;var o=ge(r)||qt(r);return o?t(r,i):(o||MX(),n)}},$X={},Uk=An({name:"errorBars",initialState:$X,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(o=>o.dataKey===r.dataKey&&o.direction===r.direction?i:o))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Gre,replaceErrorBar:Fre,removeErrorBar:Vre}=Uk.actions,HX=Uk.reducer,jX=["children"];function GX(e,t){if(e==null)return{};var n,r,i=FX(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function FX(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var VX={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},KX=C.createContext(VX);function YX(e){var{children:t}=e,n=GX(e,jX);return C.createElement(KX.Provider,{value:n},t)}function Lk(e,t){var n,r,i=_e(d=>Ai(d,e)),o=_e(d=>xi(d,t)),l=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:Dt.allowDataOverflow,u=(r=o==null?void 0:o.allowDataOverflow)!==null&&r!==void 0?r:Ut.allowDataOverflow,f=l||u;return{needClip:f,needClipX:l,needClipY:u}}function JX(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=Dk(),{needClipX:o,needClipY:l,needClip:u}=Lk(t,n);if(!u||!i)return null;var{x:f,y:d,width:h,height:m}=i;return C.createElement("clipPath",{id:"clipPath-".concat(r)},C.createElement("rect",{x:o?f:f-h/2,y:l?d:d-m/2,width:o?h:h*2,height:l?m:m*2}))}function WX(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&vt(e.zIndex)?e.zIndex:t}var Ov={exports:{}},Pv={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kR;function XX(){if(kR)return Pv;kR=1;var e=Ss();function t(f,d){return f===d&&(f!==0||1/f===1/d)||f!==f&&d!==d}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,o=e.useEffect,l=e.useMemo,u=e.useDebugValue;return Pv.useSyncExternalStoreWithSelector=function(f,d,h,m,y){var b=i(null);if(b.current===null){var w={hasValue:!1,value:null};b.current=w}else w=b.current;b=l(function(){function T(I){if(!x){if(x=!0,O=I,I=m(I),y!==void 0&&w.hasValue){var N=w.value;if(y(N,I))return R=N}return R=I}if(N=R,n(O,I))return N;var U=m(I);return y!==void 0&&y(N,U)?(O=I,N):(O=I,R=U)}var x=!1,O,R,M=h===void 0?null:h;return[function(){return T(d())},M===null?void 0:function(){return T(M())}]},[d,h,m,y]);var E=r(f,b[0],b[1]);return o(function(){w.hasValue=!0,w.value=E},[E]),u(E),E},Pv}var DR;function QX(){return DR||(DR=1,Ov.exports=XX()),Ov.exports}QX();function ZX(e){e()}function eQ(){let e=null,t=null;return{clear(){e=null,t=null},notify(){ZX(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var UR={notify(){},get:()=>[]};function tQ(e,t){let n,r=UR,i=0,o=!1;function l(E){h();const T=r.subscribe(E);let x=!1;return()=>{x||(x=!0,T(),m())}}function u(){r.notify()}function f(){w.onStateChange&&w.onStateChange()}function d(){return o}function h(){i++,n||(n=e.subscribe(f),r=eQ())}function m(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=UR)}function y(){o||(o=!0,h())}function b(){o&&(o=!1,m())}const w={addNestedSub:l,notifyNestedSubs:u,handleChangeWrapper:f,isSubscribed:d,trySubscribe:y,tryUnsubscribe:b,getListeners:()=>r};return w}var nQ=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",rQ=nQ(),iQ=()=>typeof navigator<"u"&&navigator.product==="ReactNative",aQ=iQ(),oQ=()=>rQ||aQ?C.useLayoutEffect:C.useEffect,sQ=oQ();function LR(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function lQ(e,t){if(LR(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!LR(e[n[i]],t[n[i]]))return!1;return!0}var Iv=Symbol.for("react-redux-context"),Mv=typeof globalThis<"u"?globalThis:{};function uQ(){if(!C.createContext)return{};const e=Mv[Iv]??(Mv[Iv]=new Map);let t=e.get(C.createContext);return t||(t=C.createContext(null),e.set(C.createContext,t)),t}var cQ=uQ();function fQ(e){const{children:t,context:n,serverState:r,store:i}=e,o=C.useMemo(()=>{const f=tQ(i);return{store:i,subscription:f,getServerState:r?()=>r:void 0}},[i,r]),l=C.useMemo(()=>i.getState(),[i]);sQ(()=>{const{subscription:f}=o;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),l!==i.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[o,l]);const u=n||cQ;return C.createElement(u.Provider,{value:o},t)}var dQ=fQ,hQ=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function pQ(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function J_(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(hQ.has(r)){if(e[r]==null&&t[r]==null)continue;if(!lQ(e[r],t[r]))return!1}else if(!pQ(e[r],t[r]))return!1;return!0}var mQ=["onMouseEnter","onMouseLeave","onClick"],gQ=["value","background","tooltipPosition"],vQ=["id"],yQ=["onMouseEnter","onClick","onMouseLeave"];function _i(){return _i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_i.apply(null,arguments)}function qR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ln(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qR(Object(n),!0).forEach(function(r){_Q(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _Q(e,t,n){return(t=bQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bQ(e){var t=SQ(e,"string");return typeof t=="symbol"?t:t+""}function SQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xd(e,t){if(e==null)return{};var n,r,i=wQ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function wQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var EQ=e=>{var{dataKey:t,name:n,fill:r,legendType:i,hide:o}=e;return[{inactive:o,dataKey:t,type:i,color:r,value:xI(n,t),payload:e}]},TQ=C.memo(e=>{var{dataKey:t,stroke:n,strokeWidth:r,fill:i,name:o,hide:l,unit:u,tooltipType:f}=e,d={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:t,nameKey:void 0,name:xI(o,t),hide:l,type:f,color:i,unit:u}};return C.createElement(iX,{tooltipEntrySettings:d})});function AQ(e){var t=_e(ys),{data:n,dataKey:r,background:i,allOtherBarProps:o}=e,{onMouseEnter:l,onMouseLeave:u,onClick:f}=o,d=xd(o,mQ),h=Ok(l,r),m=Pk(u),y=Ik(f,r);if(!i||n==null)return null;var b=T0(i);return C.createElement(Ri,{zIndex:WX(i,cn.barBackground)},n.map((w,E)=>{var{value:T,background:x,tooltipPosition:O}=w,R=xd(w,gQ);if(!x)return null;var M=h(w,E),I=m(w,E),N=y(w,E),U=ln(ln(ln(ln(ln({option:i,isActive:String(E)===t},R),{},{fill:"#eee"},x),b),I0(d,w,E)),{},{onMouseEnter:M,onMouseLeave:I,onClick:N,dataKey:r,index:E,className:"recharts-bar-background-rectangle"});return C.createElement(Ad,_i({key:"background-bar-".concat(E)},U))}))}function xQ(e){var{showLabels:t,children:n,rects:r}=e,i=r==null?void 0:r.map(o=>{var l={x:o.x,y:o.y,width:o.width,lowerWidth:o.width,upperWidth:o.width,height:o.height};return ln(ln({},l),{},{value:o.value,payload:o.payload,parentViewBox:o.parentViewBox,viewBox:l,fill:o.fill})});return C.createElement(OW,{value:t?i:void 0},n)}function CQ(e){var{shape:t,activeBar:n,baseProps:r,entry:i,index:o,dataKey:l}=e,u=_e(ys),f=_e(ik),d=n&&String(o)===u&&(f==null||l===f),h=d?n:t;return d?C.createElement(Ri,{zIndex:cn.activeBar},C.createElement(Ad,_i({},r,{name:String(r.name)},i,{isActive:d,option:h,index:o,dataKey:l}))):C.createElement(Ad,_i({},r,{name:String(r.name)},i,{isActive:d,option:h,index:o,dataKey:l}))}function RQ(e){var{shape:t,baseProps:n,entry:r,index:i,dataKey:o}=e;return C.createElement(Ad,_i({},n,{name:String(n.name)},r,{isActive:!1,option:t,index:i,dataKey:o}))}function OQ(e){var t,{data:n,props:r}=e,i=(t=fi(r))!==null&&t!==void 0?t:{},{id:o}=i,l=xd(i,vQ),{shape:u,dataKey:f,activeBar:d}=r,{onMouseEnter:h,onClick:m,onMouseLeave:y}=r,b=xd(r,yQ),w=Ok(h,f),E=Pk(y),T=Ik(m,f);return n?C.createElement(C.Fragment,null,n.map((x,O)=>C.createElement(di,_i({key:"rectangle-".concat(x==null?void 0:x.x,"-").concat(x==null?void 0:x.y,"-").concat(x==null?void 0:x.value,"-").concat(O),className:"recharts-bar-rectangle"},I0(b,x,O),{onMouseEnter:w(x,O),onMouseLeave:E(x,O),onClick:T(x,O)}),d?C.createElement(CQ,{shape:u,activeBar:d,baseProps:l,entry:x,index:O,dataKey:f}):C.createElement(RQ,{shape:u,baseProps:l,entry:x,index:O,dataKey:f})))):null}function PQ(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:i,isAnimationActive:o,animationBegin:l,animationDuration:u,animationEasing:f,onAnimationEnd:d,onAnimationStart:h}=t,m=n.current,y=K0(t,"recharts-bar-"),[b,w]=C.useState(!1),E=!b,T=C.useCallback(()=>{typeof d=="function"&&d(),w(!1)},[d]),x=C.useCallback(()=>{typeof h=="function"&&h(),w(!0)},[h]);return C.createElement(xQ,{showLabels:E,rects:r},C.createElement(V0,{animationId:y,begin:l,duration:u,isActive:o,easing:f,onAnimationEnd:T,onAnimationStart:x,key:y},O=>{var R=O===1?r:r==null?void 0:r.map((M,I)=>{var N=m&&m[I];if(N)return ln(ln({},M),{},{x:Qt(N.x,M.x,O),y:Qt(N.y,M.y,O),width:Qt(N.width,M.width,O),height:Qt(N.height,M.height,O)});if(i==="horizontal"){var U=Qt(0,M.height,O),X=Qt(M.stackedBarStart,M.y,O);return ln(ln({},M),{},{y:X,height:U})}var G=Qt(0,M.width,O),ie=Qt(M.stackedBarStart,M.x,O);return ln(ln({},M),{},{width:G,x:ie})});return O>0&&(n.current=R??null),R==null?null:C.createElement(di,null,C.createElement(OQ,{props:t,data:R}))}),C.createElement(MW,{label:t.label}),t.children)}function IQ(e){var t=C.useRef(null);return C.createElement(PQ,{previousRectanglesRef:t,props:e})}var qk=0,MQ=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:on(e,t)}};class NQ extends C.PureComponent{render(){var{hide:t,data:n,dataKey:r,className:i,xAxisId:o,yAxisId:l,needClip:u,background:f,id:d}=this.props;if(t||n==null)return null;var h=ot("recharts-bar",i),m=d;return C.createElement(di,{className:h,id:d},u&&C.createElement("defs",null,C.createElement(JX,{clipPathId:m,xAxisId:o,yAxisId:l})),C.createElement(di,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(m,")"):void 0},C.createElement(AQ,{data:n,dataKey:r,background:f,allOtherBarProps:this.props}),C.createElement(IQ,this.props)))}}var kQ={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:qk,xAxisId:0,yAxisId:0,zIndex:cn.bar};function DQ(e){var{xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:o,activeBar:l,animationBegin:u,animationDuration:f,animationEasing:d,isAnimationActive:h}=e,{needClip:m}=Lk(t,n),y=sh(),b=xn(),w=qW(e.children,pk),E=_e(O=>uZ(O,t,n,b,e.id,w));if(y!=="vertical"&&y!=="horizontal")return null;var T,x=E==null?void 0:E[0];return x==null||x.height==null||x.width==null?T=0:T=y==="vertical"?x.height/2:x.width/2,C.createElement(YX,{xAxisId:t,yAxisId:n,data:E,dataPointFormatter:MQ,errorBarOffset:T},C.createElement(NQ,_i({},e,{layout:y,needClip:m,data:E,xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:o,activeBar:l,animationBegin:u,animationDuration:f,animationEasing:d,isAnimationActive:h})))}function UQ(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:o,xAxis:l,yAxis:u,xAxisTicks:f,yAxisTicks:d,stackedData:h,displayedData:m,offset:y,cells:b,parentViewBox:w,dataStartIndex:E}=e,T=t==="horizontal"?u:l,x=h?T.scale.domain():null,O=aV({numericAxis:T}),R=T.scale(O);return m.map((M,I)=>{var N,U,X,G,ie,W;h?N=ZF(h[I+E],x):(N=on(M,n),Array.isArray(N)||(N=[O,N]));var te=zX(r,qk)(N[1],I);if(t==="horizontal"){var se,[he,Ae]=[u.scale(N[0]),u.scale(N[1])];U=uC({axis:l,ticks:f,bandSize:o,offset:i.offset,entry:M,index:I}),X=(se=Ae??he)!==null&&se!==void 0?se:void 0,G=i.size;var z=he-Ae;if(ie=_r(z)?0:z,W={x:U,y:y.top,width:G,height:y.height},Math.abs(te)>0&&Math.abs(ie)<Math.abs(te)){var Z=En(ie||te)*(Math.abs(te)-Math.abs(ie));X-=Z,ie+=Z}}else{var[oe,ue]=[l.scale(N[0]),l.scale(N[1])];if(U=oe,X=uC({axis:u,ticks:d,bandSize:o,offset:i.offset,entry:M,index:I}),G=ue-oe,ie=i.size,W={x:y.left,y:X,width:y.width,height:ie},Math.abs(te)>0&&Math.abs(G)<Math.abs(te)){var Ce=En(G||te)*(Math.abs(te)-Math.abs(G));G+=Ce}}if(U==null||X==null||G==null||ie==null)return null;var L=ln(ln({},M),{},{stackedBarStart:R,x:U,y:X,width:G,height:ie,value:h?N:N[1],payload:M,background:W,tooltipPosition:{x:U+G/2,y:X+ie/2},parentViewBox:w},b&&b[I]&&b[I].props);return L}).filter(Boolean)}function LQ(e){var t=jn(e,kQ),n=xn();return C.createElement(uX,{id:t.id,type:"bar"},r=>C.createElement(C.Fragment,null,C.createElement(aX,{legendPayload:EQ(t)}),C.createElement(TQ,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),C.createElement(gX,{type:"bar",id:r,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:iV(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),C.createElement(Ri,{zIndex:t.zIndex},C.createElement(DQ,_i({},t,{id:r})))))}var Bk=C.memo(LQ,J_);Bk.displayName="Bar";function BR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BR(Object(n),!0).forEach(function(r){qQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qQ(e,t,n){return(t=BQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BQ(e){var t=zQ(e,"string");return typeof t=="symbol"?t:t+""}function zQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $Q=(e,t)=>t,HQ=(e,t,n)=>n,jQ=(e,t,n,r)=>r,GQ=(e,t,n,r,i)=>i,Mu=V([R_,GQ],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),FQ=V([Mu],e=>e==null?void 0:e.maxBarSize),VQ=(e,t,n,r,i,o)=>o,zR=(e,t,n)=>{var r=n??e;if(!qt(r))return br(r,t,0)},KQ=V([Ke,R_,$Q,HQ,jQ],(e,t,n,r,i)=>t.filter(o=>e==="horizontal"?o.xAxisId===n:o.yAxisId===r).filter(o=>o.isPanorama===i).filter(o=>o.hide===!1).filter(o=>o.type==="bar")),YQ=(e,t,n,r)=>{var i=Ke(e);return i==="horizontal"?Ly(e,"yAxis",n,r):Ly(e,"xAxis",t,r)},JQ=(e,t,n)=>{var r=Ke(e);return r==="horizontal"?z1(e,"xAxis",t):z1(e,"yAxis",n)},WQ=(e,t,n)=>{var r={},i=e.filter(wh),o=e.filter(d=>d.stackId==null),l=i.reduce((d,h)=>(d[h.stackId]||(d[h.stackId]=[]),d[h.stackId].push(h),d),r),u=Object.entries(l).map(d=>{var[h,m]=d,y=m.map(w=>w.dataKey),b=zR(t,n,m[0].barSize);return{stackId:h,dataKeys:y,barSize:b}}),f=o.map(d=>{var h=[d.dataKey].filter(y=>y!=null),m=zR(t,n,d.barSize);return{stackId:void 0,dataKeys:h,barSize:m}});return[...u,...f]},XQ=V([KQ,pY,JQ],WQ),QQ=(e,t,n,r,i)=>{var o,l,u=Mu(e,t,n,r,i);if(u!=null){var f=Ke(e),d=KM(e),{maxBarSize:h}=u,m=qt(h)?d:h,y,b;return f==="horizontal"?(y=vs(e,"xAxis",t,r),b=gs(e,"xAxis",t,r)):(y=vs(e,"yAxis",n,r),b=gs(e,"yAxis",n,r)),(o=(l=Zf(y,b,!0))!==null&&l!==void 0?l:m)!==null&&o!==void 0?o:0}},zk=(e,t,n,r)=>{var i=Ke(e),o,l;return i==="horizontal"?(o=vs(e,"xAxis",t,r),l=gs(e,"xAxis",t,r)):(o=vs(e,"yAxis",n,r),l=gs(e,"yAxis",n,r)),Zf(o,l)};function ZQ(e,t,n,r,i){var o=r.length;if(!(o<1)){var l=br(e,n,0,!0),u,f=[];if(vt(r[0].barSize)){var d=!1,h=n/o,m=r.reduce((x,O)=>x+(O.barSize||0),0);m+=(o-1)*l,m>=n&&(m-=(o-1)*l,l=0),m>=n&&h>0&&(d=!0,h*=.9,m=o*h);var y=(n-m)/2>>0,b={offset:y-l,size:0};u=r.reduce((x,O)=>{var R,M={stackId:O.stackId,dataKeys:O.dataKeys,position:{offset:b.offset+b.size+l,size:d?h:(R=O.barSize)!==null&&R!==void 0?R:0}},I=[...x,M];return b=I[I.length-1].position,I},f)}else{var w=br(t,n,0,!0);n-2*w-(o-1)*l<=0&&(l=0);var E=(n-2*w-(o-1)*l)/o;E>1&&(E>>=0);var T=vt(i)?Math.min(E,i):E;u=r.reduce((x,O,R)=>[...x,{stackId:O.stackId,dataKeys:O.dataKeys,position:{offset:w+(E+l)*R+(E-T)/2,size:T}}],f)}return u}}var eZ=(e,t,n,r,i,o,l)=>{var u=qt(l)?t:l,f=ZQ(n,r,i!==o?i:o,e,u);return i!==o&&f!=null&&(f=f.map(d=>pf(pf({},d),{},{position:pf(pf({},d.position),{},{offset:d.position.offset-i/2})}))),f},tZ=V([XQ,KM,hY,YM,QQ,zk,FQ],eZ),nZ=(e,t,n,r)=>vs(e,"xAxis",t,r),rZ=(e,t,n,r)=>vs(e,"yAxis",n,r),iZ=(e,t,n,r)=>gs(e,"xAxis",t,r),aZ=(e,t,n,r)=>gs(e,"yAxis",n,r),oZ=V([tZ,Mu],(e,t)=>{if(!(e==null||t==null)){var n=e.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(n!=null)return n.position}}),sZ=(e,t)=>{var n=x_(t);if(!(!e||n==null||t==null)){var{stackId:r}=t;if(r!=null){var i=e[r];if(i){var{stackedData:o}=i;if(o)return o.find(l=>l.key===n)}}}},lZ=V([YQ,Mu],sZ),uZ=V([Bt,H0,nZ,rZ,iZ,aZ,oZ,Ke,v_,zk,lZ,Mu,VQ],(e,t,n,r,i,o,l,u,f,d,h,m,y)=>{var{chartData:b,dataStartIndex:w,dataEndIndex:E}=f;if(!(m==null||l==null||t==null||u!=="horizontal"&&u!=="vertical"||n==null||r==null||i==null||o==null||d==null)){var{data:T}=m,x;if(T!=null&&T.length>0?x=T:x=b==null?void 0:b.slice(w,E+1),x!=null)return UQ({layout:u,barSettings:m,pos:l,parentViewBox:t,bandSize:d,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:o,stackedData:h,displayedData:x,offset:e,cells:y,dataStartIndex:w})}}),cZ=e=>{var{chartData:t}=e,n=yt(),r=xn();return C.useEffect(()=>r?()=>{}:(n(Z1(t)),()=>{n(Z1(void 0))}),[t,n,r]),null},$R={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},$k=An({name:"brush",initialState:$R,reducers:{setBrushSettings(e,t){return t.payload==null?$R:t.payload}}}),{setBrushSettings:Kre}=$k.actions,fZ=$k.reducer;function dZ(e,t,n){return(t=hZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hZ(e){var t=pZ(e,"string");return typeof t=="symbol"?t:t+""}function pZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class W_{static create(t){return new W_(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(t)+o}default:return this.scale(t)}if(n){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}dZ(W_,"EPS",1e-4);function mZ(e){return(e%180+180)%180}var gZ=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=mZ(i),l=o*Math.PI/180,u=Math.atan(r/n),f=l>u&&l<Math.PI-u?r/Math.sin(l):n/Math.cos(l);return Math.abs(f)},vZ={dots:[],areas:[],lines:[]},Hk=An({name:"referenceElements",initialState:vZ,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=yr(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=yr(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=yr(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:Yre,removeDot:Jre,addArea:Wre,removeArea:Xre,addLine:Qre,removeLine:Zre}=Hk.actions,yZ=Hk.reducer,_Z=C.createContext(void 0),bZ=e=>{var{children:t}=e,[n]=C.useState("".concat(Yl("recharts"),"-clip")),r=Dk();if(r==null)return null;var{x:i,y:o,width:l,height:u}=r;return C.createElement(_Z.Provider,{value:n},C.createElement("defs",null,C.createElement("clipPath",{id:n},C.createElement("rect",{x:i,y:o,height:u,width:l}))),t)};function jk(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t)n.push(e[r]);return n}function SZ(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return gZ(r,n)}function wZ(e,t,n){var r=n==="width",{x:i,y:o,width:l,height:u}=e;return t===1?{start:r?i:o,end:r?i+l:o+u}:{start:r?i+l:o+u,end:r?i:o}}function Cd(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var o=n();return e*(t-e*o/2-r)>=0&&e*(t+e*o/2-i)<=0}function EZ(e,t){return jk(e,t+1)}function TZ(e,t,n,r,i){for(var o=(r||[]).slice(),{start:l,end:u}=t,f=0,d=1,h=l,m=function(){var w=r==null?void 0:r[f];if(w===void 0)return{v:jk(r,d)};var E=f,T,x=()=>(T===void 0&&(T=n(w,E)),T),O=w.coordinate,R=f===0||Cd(e,O,x,h,u);R||(f=0,h=l,d+=1),R&&(h=O+e*(x()/2+i),f+=d)},y;d<=o.length;)if(y=m(),y)return y.v;return[]}function HR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HR(Object(n),!0).forEach(function(r){AZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function AZ(e,t,n){return(t=xZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xZ(e){var t=CZ(e,"string");return typeof t=="symbol"?t:t+""}function CZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RZ(e,t,n,r,i){for(var o=(r||[]).slice(),l=o.length,{start:u}=t,{end:f}=t,d=function(y){var b=o[y],w,E=()=>(w===void 0&&(w=n(b,y)),w);if(y===l-1){var T=e*(b.coordinate+e*E()/2-f);o[y]=b=nn(nn({},b),{},{tickCoord:T>0?b.coordinate-T*e:b.coordinate})}else o[y]=b=nn(nn({},b),{},{tickCoord:b.coordinate});if(b.tickCoord!=null){var x=Cd(e,b.tickCoord,E,u,f);x&&(f=b.tickCoord-e*(E()/2+i),o[y]=nn(nn({},b),{},{isShow:!0}))}},h=l-1;h>=0;h--)d(h);return o}function OZ(e,t,n,r,i,o){var l=(r||[]).slice(),u=l.length,{start:f,end:d}=t;if(o){var h=r[u-1],m=n(h,u-1),y=e*(h.coordinate+e*m/2-d);if(l[u-1]=h=nn(nn({},h),{},{tickCoord:y>0?h.coordinate-y*e:h.coordinate}),h.tickCoord!=null){var b=Cd(e,h.tickCoord,()=>m,f,d);b&&(d=h.tickCoord-e*(m/2+i),l[u-1]=nn(nn({},h),{},{isShow:!0}))}}for(var w=o?u-1:u,E=function(O){var R=l[O],M,I=()=>(M===void 0&&(M=n(R,O)),M);if(O===0){var N=e*(R.coordinate-e*I()/2-f);l[O]=R=nn(nn({},R),{},{tickCoord:N<0?R.coordinate-N*e:R.coordinate})}else l[O]=R=nn(nn({},R),{},{tickCoord:R.coordinate});if(R.tickCoord!=null){var U=Cd(e,R.tickCoord,I,f,d);U&&(f=R.tickCoord+e*(I()/2+i),l[O]=nn(nn({},R),{},{isShow:!0}))}},T=0;T<w;T++)E(T);return l}function X_(e,t,n){var{tick:r,ticks:i,viewBox:o,minTickGap:l,orientation:u,interval:f,tickFormatter:d,unit:h,angle:m}=e;if(!i||!i.length||!r)return[];if(ge(f)||yu.isSsr){var y;return(y=EZ(i,ge(f)?f:0))!==null&&y!==void 0?y:[]}var b=[],w=u==="top"||u==="bottom"?"width":"height",E=h&&w==="width"?Kl(h,{fontSize:t,letterSpacing:n}):{width:0,height:0},T=(R,M)=>{var I=typeof d=="function"?d(R.value,M):R.value;return w==="width"?SZ(Kl(I,{fontSize:t,letterSpacing:n}),E,m):Kl(I,{fontSize:t,letterSpacing:n})[w]},x=i.length>=2?En(i[1].coordinate-i[0].coordinate):1,O=wZ(o,x,w);return f==="equidistantPreserveStart"?TZ(x,O,T,i,l):(f==="preserveStart"||f==="preserveStartEnd"?b=OZ(x,O,T,i,l,f==="preserveStartEnd"):b=RZ(x,O,T,i,l),b.filter(R=>R.isShow))}var PZ=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:o=0}=e,l=0;if(t){Array.from(t).forEach(h=>{if(h){var m=h.getBoundingClientRect();m.width>l&&(l=m.width)}});var u=n?n.getBoundingClientRect().width:0,f=i+o,d=l+f+u+(n?r:0);return Math.round(d)}return 0},IZ=["axisLine","width","height","className","hide","ticks","axisType"];function MZ(e,t){if(e==null)return{};var n,r,i=NZ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function NZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Xa(){return Xa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xa.apply(null,arguments)}function jR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function At(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jR(Object(n),!0).forEach(function(r){kZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kZ(e,t,n){return(t=DZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DZ(e){var t=UZ(e,"string");return typeof t=="symbol"?t:t+""}function UZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ui={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:cn.axis};function LZ(e){var{x:t,y:n,width:r,height:i,orientation:o,mirror:l,axisLine:u,otherSvgProps:f}=e;if(!u)return null;var d=At(At(At({},f),fi(u)),{},{fill:"none"});if(o==="top"||o==="bottom"){var h=+(o==="top"&&!l||o==="bottom"&&l);d=At(At({},d),{},{x1:t,y1:n+h*i,x2:t+r,y2:n+h*i})}else{var m=+(o==="left"&&!l||o==="right"&&l);d=At(At({},d),{},{x1:t+m*r,y1:n,x2:t+m*r,y2:n+i})}return C.createElement("line",Xa({},d,{className:ot("recharts-cartesian-axis-line",us(u,"className"))}))}function qZ(e,t,n,r,i,o,l,u,f){var d,h,m,y,b,w,E=u?-1:1,T=e.tickSize||l,x=ge(e.tickCoord)?e.tickCoord:e.coordinate;switch(o){case"top":d=h=e.coordinate,y=n+ +!u*i,m=y-E*T,w=m-E*f,b=x;break;case"left":m=y=e.coordinate,h=t+ +!u*r,d=h-E*T,b=d-E*f,w=x;break;case"right":m=y=e.coordinate,h=t+ +u*r,d=h+E*T,b=d+E*f,w=x;break;default:d=h=e.coordinate,y=n+ +u*i,m=y+E*T,w=m+E*f,b=x;break}return{line:{x1:d,y1:m,x2:h,y2:y},tick:{x:b,y:w}}}function BZ(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function zZ(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function $Z(e){var{option:t,tickProps:n,value:r}=e,i,o=ot(n.className,"recharts-cartesian-axis-tick-value");if(C.isValidElement(t))i=C.cloneElement(t,At(At({},n),{},{className:o}));else if(typeof t=="function")i=t(At(At({},n),{},{className:o}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=ot(l,t==null?void 0:t.className)),i=C.createElement(K_,Xa({},n,{className:l}),r)}return i}var HZ=C.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:o,tickFormatter:l,unit:u,padding:f,tickTextProps:d,orientation:h,mirror:m,x:y,y:b,width:w,height:E,tickSize:T,tickMargin:x,fontSize:O,letterSpacing:R,getTicksConfig:M,events:I,axisType:N}=e,U=X_(At(At({},M),{},{ticks:n}),O,R),X=BZ(h,m),G=zZ(h,m),ie=fi(M),W=T0(r),te={};typeof i=="object"&&(te=i);var se=At(At({},ie),{},{fill:"none"},te),he=U.map(Z=>At({entry:Z},qZ(Z,y,b,w,E,h,T,m,x))),Ae=he.map(Z=>{var{entry:oe,line:ue}=Z;return C.createElement(di,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(oe.value,"-").concat(oe.coordinate,"-").concat(oe.tickCoord)},i&&C.createElement("line",Xa({},se,ue,{className:ot("recharts-cartesian-axis-tick-line",us(i,"className"))})))}),z=he.map((Z,oe)=>{var{entry:ue,tick:Ce}=Z,L=At(At(At(At({textAnchor:X,verticalAnchor:G},ie),{},{stroke:"none",fill:o},W),Ce),{},{index:oe,payload:ue,visibleTicksCount:U.length,tickFormatter:l,padding:f},d);return C.createElement(di,Xa({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(ue.value,"-").concat(ue.coordinate,"-").concat(ue.tickCoord)},I0(I,ue,oe)),r&&C.createElement($Z,{option:r,tickProps:L,value:"".concat(typeof l=="function"?l(ue.value,oe):ue.value).concat(u||"")}))});return C.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(N,"-ticks")},z.length>0&&C.createElement(Ri,{zIndex:cn.label},C.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(N,"-tick-labels"),ref:t},z)),Ae.length>0&&C.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(N,"-tick-lines")},Ae))}),jZ=C.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:o,hide:l,ticks:u,axisType:f}=e,d=MZ(e,IZ),[h,m]=C.useState(""),[y,b]=C.useState(""),w=C.useRef(null);C.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var T;return PZ({ticks:w.current,label:(T=e.labelRef)===null||T===void 0?void 0:T.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var E=C.useCallback(T=>{if(T){var x=T.getElementsByClassName("recharts-cartesian-axis-tick-value");w.current=x;var O=x[0];if(O){var R=window.getComputedStyle(O),M=R.fontSize,I=R.letterSpacing;(M!==h||I!==y)&&(m(M),b(I))}}},[h,y]);return l||r!=null&&r<=0||i!=null&&i<=0?null:C.createElement(Ri,{zIndex:e.zIndex},C.createElement(di,{className:ot("recharts-cartesian-axis",o)},C.createElement(LZ,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:fi(e)}),C.createElement(HZ,{ref:E,axisType:f,events:d,fontSize:h,getTicksConfig:e,height:e.height,letterSpacing:y,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:u,unit:e.unit,width:e.width,x:e.x,y:e.y}),C.createElement(lW,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},C.createElement(yW,{label:e.label,labelRef:e.labelRef}),e.children)))}),Q_=C.forwardRef((e,t)=>{var n=jn(e,ui);return C.createElement(jZ,Xa({},n,{ref:t}))});Q_.displayName="CartesianAxis";var GZ=["x1","y1","x2","y2","key"],FZ=["offset"],VZ=["xAxisId","yAxisId"],KZ=["xAxisId","yAxisId"];function GR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GR(Object(n),!0).forEach(function(r){YZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function YZ(e,t,n){return(t=JZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JZ(e){var t=WZ(e,"string");return typeof t=="symbol"?t:t+""}function WZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ja(){return ja=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ja.apply(null,arguments)}function Rd(e,t){if(e==null)return{};var n,r,i=XZ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function XZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var QZ=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:o,height:l,ry:u}=e;return C.createElement("rect",{x:r,y:i,ry:u,width:o,height:l,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function Gk(e){var{option:t,lineItemProps:n}=e,r;if(C.isValidElement(t))r=C.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var i,{x1:o,y1:l,x2:u,y2:f,key:d}=n,h=Rd(n,GZ),m=(i=fi(h))!==null&&i!==void 0?i:{},{offset:y}=m,b=Rd(m,FZ);r=C.createElement("line",ja({},b,{x1:o,y1:l,x2:u,y2:f,fill:"none",key:d}))}return r}function ZZ(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:l}=e,u=Rd(e,VZ),f=i.map((d,h)=>{var m=rn(rn({},u),{},{x1:t,y1:d,x2:t+n,y2:d,key:"line-".concat(h),index:h});return C.createElement(Gk,{key:"line-".concat(h),option:r,lineItemProps:m})});return C.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function eee(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:l}=e,u=Rd(e,KZ),f=i.map((d,h)=>{var m=rn(rn({},u),{},{x1:d,y1:t,x2:d,y2:t+n,key:"line-".concat(h),index:h});return C.createElement(Gk,{option:r,lineItemProps:m,key:"line-".concat(h)})});return C.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function tee(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:o,height:l,horizontalPoints:u,horizontal:f=!0}=e;if(!f||!t||!t.length||u==null)return null;var d=u.map(m=>Math.round(m+i-i)).sort((m,y)=>m-y);i!==d[0]&&d.unshift(0);var h=d.map((m,y)=>{var b=!d[y+1],w=b?i+l-m:d[y+1]-m;if(w<=0)return null;var E=y%t.length;return C.createElement("rect",{key:"react-".concat(y),y:m,x:r,height:w,width:o,stroke:"none",fill:t[E],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return C.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function nee(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:o,width:l,height:u,verticalPoints:f}=e;if(!t||!n||!n.length)return null;var d=f.map(m=>Math.round(m+i-i)).sort((m,y)=>m-y);i!==d[0]&&d.unshift(0);var h=d.map((m,y)=>{var b=!d[y+1],w=b?i+l-m:d[y+1]-m;if(w<=0)return null;var E=y%n.length;return C.createElement("rect",{key:"react-".concat(y),x:m,y:o,width:w,height:u,stroke:"none",fill:n[E],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return C.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var ree=(e,t)=>{var{xAxis:n,width:r,height:i,offset:o}=e;return TI(X_(rn(rn(rn({},ui),n),{},{ticks:AI(n),viewBox:{x:0,y:0,width:r,height:i}})),o.left,o.left+o.width,t)},iee=(e,t)=>{var{yAxis:n,width:r,height:i,offset:o}=e;return TI(X_(rn(rn(rn({},ui),n),{},{ticks:AI(n),viewBox:{x:0,y:0,width:r,height:i}})),o.top,o.top+o.height,t)},aee={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:cn.grid};function Fk(e){var t=NI(),n=kI(),r=MI(),i=rn(rn({},jn(e,aee)),{},{x:ge(e.x)?e.x:r.left,y:ge(e.y)?e.y:r.top,width:ge(e.width)?e.width:r.width,height:ge(e.height)?e.height:r.height}),{xAxisId:o,yAxisId:l,x:u,y:f,width:d,height:h,syncWithTicks:m,horizontalValues:y,verticalValues:b}=i,w=xn(),E=_e(G=>$1(G,"xAxis",o,w)),T=_e(G=>$1(G,"yAxis",l,w));if(!Nr(d)||!Nr(h)||!ge(u)||!ge(f))return null;var x=i.verticalCoordinatesGenerator||ree,O=i.horizontalCoordinatesGenerator||iee,{horizontalPoints:R,verticalPoints:M}=i;if((!R||!R.length)&&typeof O=="function"){var I=y&&y.length,N=O({yAxis:T?rn(rn({},T),{},{ticks:I?y:T.ticks}):void 0,width:t??d,height:n??h,offset:r},I?!0:m);ed(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(R=N)}if((!M||!M.length)&&typeof x=="function"){var U=b&&b.length,X=x({xAxis:E?rn(rn({},E),{},{ticks:U?b:E.ticks}):void 0,width:t??d,height:n??h,offset:r},U?!0:m);ed(Array.isArray(X),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof X,"]")),Array.isArray(X)&&(M=X)}return C.createElement(Ri,{zIndex:i.zIndex},C.createElement("g",{className:"recharts-cartesian-grid"},C.createElement(QZ,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),C.createElement(tee,ja({},i,{horizontalPoints:R})),C.createElement(nee,ja({},i,{verticalPoints:M})),C.createElement(ZZ,ja({},i,{offset:r,horizontalPoints:R,xAxis:E,yAxis:T})),C.createElement(eee,ja({},i,{offset:r,verticalPoints:M,xAxis:E,yAxis:T}))))}Fk.displayName="CartesianGrid";var oee=["domain","range"],see=["domain","range"];function FR(e,t){if(e==null)return{};var n,r,i=lee(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function lee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function VR(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function Vk(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=FR(e,oee),{domain:o,range:l}=t,u=FR(t,see);return!VR(n,o)||!VR(r,l)?!1:J_(i,u)}var uee=["dangerouslySetInnerHTML","ticks"],cee=["id"];function Fy(){return Fy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fy.apply(null,arguments)}function KR(e,t){if(e==null)return{};var n,r,i=fee(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function fee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function dee(e){var t=yt(),n=C.useRef(null);return C.useLayoutEffect(()=>{n.current===null?t(SX(e)):n.current!==e&&t(wX({prev:n.current,next:e})),n.current=e},[e,t]),C.useLayoutEffect(()=>()=>{n.current&&(t(EX(n.current)),n.current=null)},[t]),null}var hee=e=>{var{xAxisId:t,className:n}=e,r=_e(H0),i=xn(),o="xAxis",l=_e(T=>Ps(T,o,t,i)),u=_e(T=>qN(T,o,t,i)),f=_e(T=>kN(T,t)),d=_e(T=>f9(T,t)),h=_e(T=>rN(T,t));if(f==null||d==null||h==null)return null;var{dangerouslySetInnerHTML:m,ticks:y}=e,b=KR(e,uee),{id:w}=h,E=KR(h,cee);return C.createElement(Q_,Fy({},b,E,{scale:l,x:d.x,y:d.y,width:f.width,height:f.height,className:ot("recharts-".concat(o," ").concat(o),n),viewBox:r,ticks:u,axisType:o}))},pee={allowDataOverflow:Dt.allowDataOverflow,allowDecimals:Dt.allowDecimals,allowDuplicatedCategory:Dt.allowDuplicatedCategory,angle:Dt.angle,axisLine:ui.axisLine,height:Dt.height,hide:!1,includeHidden:Dt.includeHidden,interval:Dt.interval,minTickGap:Dt.minTickGap,mirror:Dt.mirror,orientation:Dt.orientation,padding:Dt.padding,reversed:Dt.reversed,scale:Dt.scale,tick:Dt.tick,tickCount:Dt.tickCount,tickLine:ui.tickLine,tickSize:ui.tickSize,type:Dt.type,xAxisId:0},mee=e=>{var t=jn(e,pee);return C.createElement(C.Fragment,null,C.createElement(dee,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),C.createElement(hee,t))},Kk=C.memo(mee,Vk);Kk.displayName="XAxis";var gee=["dangerouslySetInnerHTML","ticks"],vee=["id"];function Vy(){return Vy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vy.apply(null,arguments)}function YR(e,t){if(e==null)return{};var n,r,i=yee(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function yee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function _ee(e){var t=yt(),n=C.useRef(null);return C.useLayoutEffect(()=>{n.current===null?t(TX(e)):n.current!==e&&t(AX({prev:n.current,next:e})),n.current=e},[e,t]),C.useLayoutEffect(()=>()=>{n.current&&(t(xX(n.current)),n.current=null)},[t]),null}var bee=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,o=C.useRef(null),l=C.useRef(null),u=_e(H0),f=xn(),d=yt(),h="yAxis",m=_e(I=>Ps(I,h,t,f)),y=_e(I=>DN(I,t)),b=_e(I=>h9(I,t)),w=_e(I=>qN(I,h,t,f)),E=_e(I=>iN(I,t));if(C.useLayoutEffect(()=>{if(!(r!=="auto"||!y||Y_(i)||C.isValidElement(i)||E==null)){var I=o.current;if(I){var N=I.getCalculatedWidth();Math.round(y.width)!==Math.round(N)&&d(CX({id:t,width:N}))}}},[w,y,d,i,t,r,E]),y==null||b==null||E==null)return null;var{dangerouslySetInnerHTML:T,ticks:x}=e,O=YR(e,gee),{id:R}=E,M=YR(E,vee);return C.createElement(Q_,Vy({},O,M,{ref:o,labelRef:l,scale:m,x:b.x,y:b.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:y.width,height:y.height,className:ot("recharts-".concat(h," ").concat(h),n),viewBox:u,ticks:w,axisType:h}))},See={allowDataOverflow:Ut.allowDataOverflow,allowDecimals:Ut.allowDecimals,allowDuplicatedCategory:Ut.allowDuplicatedCategory,angle:Ut.angle,axisLine:ui.axisLine,hide:!1,includeHidden:Ut.includeHidden,interval:Ut.interval,minTickGap:Ut.minTickGap,mirror:Ut.mirror,orientation:Ut.orientation,padding:Ut.padding,reversed:Ut.reversed,scale:Ut.scale,tick:Ut.tick,tickCount:Ut.tickCount,tickLine:ui.tickLine,tickSize:ui.tickSize,type:Ut.type,width:Ut.width,yAxisId:0},wee=e=>{var t=jn(e,See);return C.createElement(C.Fragment,null,C.createElement(_ee,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),C.createElement(bee,t))},Yk=C.memo(wee,Vk);Yk.displayName="YAxis";var Eee=(e,t)=>t,Z_=V([Eee,Ke,tN,It,ek,Ci,C7,Bt],k7),eb=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},Jk=or("mouseClick"),Wk=mu();Wk.startListening({actionCreator:Jk,effect:(e,t)=>{var n=e.payload,r=Z_(t.getState(),eb(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(C9({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Ky=or("mouseMove"),Xk=mu(),mf=null;Xk.startListening({actionCreator:Ky,effect:(e,t)=>{var n=e.payload;mf!==null&&cancelAnimationFrame(mf);var r=eb(n);mf=requestAnimationFrame(()=>{var i=t.getState(),o=L_(i,i.tooltip.settings.shared);if(o==="axis"){var l=Z_(i,r);(l==null?void 0:l.activeIndex)!=null?t.dispatch(VN({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):t.dispatch(FN())}mf=null})}});var JR={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},Qk=An({name:"rootProps",initialState:JR,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:JR.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),Tee=Qk.reducer,{updateOptions:Aee}=Qk.actions,Zk=An({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:eie}=Zk.actions,xee=Zk.reducer,eD=or("keyDown"),tD=or("focus"),tb=mu();tb.startListening({actionCreator:eD,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,o=e.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var l=q_(i,Ms(n),Au(n),Pu(n)),u=l==null?-1:Number(l);if(!(!Number.isFinite(u)||u<0)){var f=Ci(n);if(o==="Enter"){var d=Sd(n,"axis","hover",String(i.index));t.dispatch(By({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:d}));return}var h=v9(n),m=h==="left-to-right"?1:-1,y=o==="ArrowRight"?1:-1,b=u+y*m;if(!(f==null||b>=f.length||b<0)){var w=Sd(n,"axis","hover",String(b));t.dispatch(By({active:!0,activeIndex:b.toString(),activeDataKey:void 0,activeCoordinate:w}))}}}}}});tb.startListening({actionCreator:tD,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var o="0",l=Sd(n,"axis","hover",String(o));t.dispatch(By({activeDataKey:void 0,active:!0,activeIndex:o,activeCoordinate:l}))}}}});var nr=or("externalEvent"),nD=mu(),Nv=new Map;nD.startListening({actionCreator:nr,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,o=Nv.get(i);o!==void 0&&cancelAnimationFrame(o);var l=requestAnimationFrame(()=>{try{var u=t.getState(),f={activeCoordinate:d7(u),activeDataKey:ik(u),activeIndex:ys(u),activeLabel:rk(u),activeTooltipIndex:ys(u),isTooltipActive:h7(u)};n(f,r)}finally{Nv.delete(i)}});Nv.set(i,l)}}});var Cee=V([Is],e=>e.tooltipItemPayloads),Ree=V([Cee,Ru,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(u=>u.settings.dataKey===r);if(i!=null){var{positions:o}=i;if(o!=null){var l=t(o,n);return l}}}),rD=or("touchMove"),iD=mu();iD.startListening({actionCreator:rD,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=L_(r,r.tooltip.settings.shared);if(i==="axis"){var o=Z_(r,eb({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&t.dispatch(VN({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(i==="item"){var l,u=n.touches[0];if(document.elementFromPoint==null)return;var f=document.elementFromPoint(u.clientX,u.clientY);if(!f||!f.getAttribute)return;var d=f.getAttribute(dV),h=(l=f.getAttribute(hV))!==null&&l!==void 0?l:void 0,m=Ree(t.getState(),d,h);t.dispatch(GN({activeDataKey:h,activeIndex:d,activeCoordinate:m}))}}}});var Oee=JP({brush:fZ,cartesianAxis:RX,chartData:dJ,errorBars:HX,graphicalItems:pX,layout:KF,legend:a6,options:sJ,polarAxis:kW,polarOptions:xee,referenceElements:yZ,rootProps:Tee,tooltip:R9,zIndex:Y7}),Pee=function(t){return yF({reducer:Oee,preloadedState:t,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([Wk.middleware,Xk.middleware,tb.middleware,nD.middleware,iD.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(cI({type:"raf"}))},devTools:yu.devToolsEnabled})};function Iee(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=xn(),o=C.useRef(null);if(i)return n;o.current==null&&(o.current=Pee(t));var l=N0;return C.createElement(dQ,{context:l,store:o.current},n)}function Mee(e){var{layout:t,margin:n}=e,r=yt(),i=xn();return C.useEffect(()=>{i||(r(GF(t)),r(jF(n)))},[r,i,t,n]),null}var Nee=C.memo(Mee,J_);function kee(e){var t=yt();return C.useEffect(()=>{t(Aee(e))},[t,e]),null}function WR(e){var{zIndex:t,isPanorama:n}=e,r=n?"recharts-zindex-panorama-":"recharts-zindex-",i=Mk("".concat(r).concat(t)),o=yt();return C.useLayoutEffect(()=>(o(V7({zIndex:t,elementId:i,isPanorama:n})),()=>{o(K7({zIndex:t,isPanorama:n}))}),[o,t,i,n]),C.createElement("g",{tabIndex:-1,id:i})}function XR(e){var{children:t,isPanorama:n}=e,r=_e(U7);if(!r||r.length===0)return t;var i=r.filter(l=>l<0),o=r.filter(l=>l>0);return C.createElement(C.Fragment,null,i.map(l=>C.createElement(WR,{key:l,zIndex:l,isPanorama:n})),t,o.map(l=>C.createElement(WR,{key:l,zIndex:l,isPanorama:n})))}var Dee=["children"];function Uee(e,t){if(e==null)return{};var n,r,i=Lee(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Lee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Od(){return Od=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Od.apply(null,arguments)}var qee={width:"100%",height:"100%",display:"block"},Bee=C.forwardRef((e,t)=>{var n=NI(),r=kI(),i=HI();if(!Nr(n)||!Nr(r))return null;var{children:o,otherAttributes:l,title:u,desc:f}=e,d,h;return l!=null&&(typeof l.tabIndex=="number"?d=l.tabIndex:d=i?0:void 0,typeof l.role=="string"?h=l.role:h=i?"application":void 0),C.createElement(dP,Od({},l,{title:u,desc:f,role:h,tabIndex:d,width:n,height:r,style:qee,ref:t}),o)}),zee=e=>{var{children:t}=e,n=_e(ah);if(!n)return null;var{width:r,height:i,y:o,x:l}=n;return C.createElement(dP,{width:r,height:i,x:l,y:o},t)},QR=C.forwardRef((e,t)=>{var{children:n}=e,r=Uee(e,Dee),i=xn();return i?C.createElement(zee,null,C.createElement(XR,{isPanorama:!0},n)):C.createElement(Bee,Od({ref:t},r),C.createElement(XR,{isPanorama:!1},n))});function $ee(){var e=yt(),[t,n]=C.useState(null),r=_e(fV);return C.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),o=i.width/t.offsetWidth;vt(o)&&o!==r&&e(VF(o))}},[t,e,r]),n}function ZR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Hee(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZR(Object(n),!0).forEach(function(r){jee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jee(e,t,n){return(t=Gee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gee(e){var t=Fee(e,"string");return typeof t=="symbol"?t:t+""}function Fee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qa(){return Qa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qa.apply(null,arguments)}var Vee=()=>(SJ(),null);function Pd(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Kee=C.forwardRef((e,t)=>{var n,r,i=C.useRef(null),[o,l]=C.useState({containerWidth:Pd((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:Pd((r=e.style)===null||r===void 0?void 0:r.height)}),u=C.useCallback((d,h)=>{l(m=>{var y=Math.round(d),b=Math.round(h);return m.containerWidth===y&&m.containerHeight===b?m:{containerWidth:y,containerHeight:b}})},[]),f=C.useCallback(d=>{if(typeof t=="function"&&t(d),d!=null&&typeof ResizeObserver<"u"){var{width:h,height:m}=d.getBoundingClientRect();u(h,m);var y=w=>{var{width:E,height:T}=w[0].contentRect;u(E,T)},b=new ResizeObserver(y);b.observe(d),i.current=b}},[t,u]);return C.useEffect(()=>()=>{var d=i.current;d!=null&&d.disconnect()},[u]),C.createElement(C.Fragment,null,C.createElement(lh,{width:o.containerWidth,height:o.containerHeight}),C.createElement("div",Qa({ref:f},e)))}),Yee=C.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,o]=C.useState({containerWidth:Pd(n),containerHeight:Pd(r)}),l=C.useCallback((f,d)=>{o(h=>{var m=Math.round(f),y=Math.round(d);return h.containerWidth===m&&h.containerHeight===y?h:{containerWidth:m,containerHeight:y}})},[]),u=C.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null){var{width:d,height:h}=f.getBoundingClientRect();l(d,h)}},[t,l]);return C.createElement(C.Fragment,null,C.createElement(lh,{width:i.containerWidth,height:i.containerHeight}),C.createElement("div",Qa({ref:u},e)))}),Jee=C.forwardRef((e,t)=>{var{width:n,height:r}=e;return C.createElement(C.Fragment,null,C.createElement(lh,{width:n,height:r}),C.createElement("div",Qa({ref:t},e)))}),Wee=C.forwardRef((e,t)=>{var{width:n,height:r}=e;return hi(n)||hi(r)?C.createElement(Yee,Qa({},e,{ref:t})):C.createElement(Jee,Qa({},e,{ref:t}))});function Xee(e){return e===!0?Kee:Wee}var Qee=C.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:o,onContextMenu:l,onDoubleClick:u,onMouseDown:f,onMouseEnter:d,onMouseLeave:h,onMouseMove:m,onMouseUp:y,onTouchEnd:b,onTouchMove:w,onTouchStart:E,style:T,width:x,responsive:O,dispatchTouchEvents:R=!0}=e,M=C.useRef(null),I=yt(),[N,U]=C.useState(null),[X,G]=C.useState(null),ie=$ee(),W=j0(),te=(W==null?void 0:W.width)>0?W.width:x,se=(W==null?void 0:W.height)>0?W.height:i,he=C.useCallback(Y=>{ie(Y),typeof t=="function"&&t(Y),U(Y),G(Y),Y!=null&&(M.current=Y)},[ie,t,U,G]),Ae=C.useCallback(Y=>{I(Jk(Y)),I(nr({handler:o,reactEvent:Y}))},[I,o]),z=C.useCallback(Y=>{I(Ky(Y)),I(nr({handler:d,reactEvent:Y}))},[I,d]),Z=C.useCallback(Y=>{I(FN()),I(nr({handler:h,reactEvent:Y}))},[I,h]),oe=C.useCallback(Y=>{I(Ky(Y)),I(nr({handler:m,reactEvent:Y}))},[I,m]),ue=C.useCallback(()=>{I(tD())},[I]),Ce=C.useCallback(Y=>{I(eD(Y.key))},[I]),L=C.useCallback(Y=>{I(nr({handler:l,reactEvent:Y}))},[I,l]),K=C.useCallback(Y=>{I(nr({handler:u,reactEvent:Y}))},[I,u]),ne=C.useCallback(Y=>{I(nr({handler:f,reactEvent:Y}))},[I,f]),ae=C.useCallback(Y=>{I(nr({handler:y,reactEvent:Y}))},[I,y]),ve=C.useCallback(Y=>{I(nr({handler:E,reactEvent:Y}))},[I,E]),be=C.useCallback(Y=>{R&&I(rD(Y)),I(nr({handler:w,reactEvent:Y}))},[I,R,w]),xe=C.useCallback(Y=>{I(nr({handler:b,reactEvent:Y}))},[I,b]),He=Xee(O);return C.createElement(fk.Provider,{value:N},C.createElement(Xj.Provider,{value:X},C.createElement(He,{width:te??(T==null?void 0:T.width),height:se??(T==null?void 0:T.height),className:ot("recharts-wrapper",r),style:Hee({position:"relative",cursor:"default",width:te,height:se},T),onClick:Ae,onContextMenu:L,onDoubleClick:K,onFocus:ue,onKeyDown:Ce,onMouseDown:ne,onMouseEnter:z,onMouseLeave:Z,onMouseMove:oe,onMouseUp:ae,onTouchEnd:xe,onTouchMove:be,onTouchStart:ve,ref:he},C.createElement(Vee,null),n)))}),Zee=["width","height","responsive","children","className","style","compact","title","desc"];function ete(e,t){if(e==null)return{};var n,r,i=tte(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function tte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var nte=C.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:o,className:l,style:u,compact:f,title:d,desc:h}=e,m=ete(e,Zee),y=fi(m);return f?C.createElement(C.Fragment,null,C.createElement(lh,{width:n,height:r}),C.createElement(QR,{otherAttributes:y,title:d,desc:h},o)):C.createElement(Qee,{className:l,style:u,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},C.createElement(QR,{otherAttributes:y,title:d,desc:h,ref:t},C.createElement(bZ,null,o)))});function Yy(){return Yy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yy.apply(null,arguments)}var rte={top:5,right:5,bottom:5,left:5},ite={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:rte,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},ate=C.forwardRef(function(t,n){var r,i=jn(t.categoricalChartProps,ite),{chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,categoricalChartProps:d}=t,h={chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,eventEmitter:void 0};return C.createElement(Iee,{preloadedState:{options:h},reduxStoreName:(r=d.id)!==null&&r!==void 0?r:o},C.createElement(cZ,{chartData:d.data}),C.createElement(Nee,{layout:i.layout,margin:i.margin}),C.createElement(kee,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),C.createElement(nte,Yy({},i,{ref:n})))}),ote=["axis","item"],ste=C.forwardRef((e,t)=>C.createElement(ate,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:ote,tooltipPayloadSearcher:aJ,categoricalChartProps:e,ref:t}));const lte=({logs:e,inventoryValue:t,onAddLogClick:n})=>{const r=u=>{switch(u){case"cooked":return"Matlagning";case"expired":return"Utgnget";default:return"Annat"}},o=(()=>{const u={},f=new Date;for(let d=6;d>=0;d--){const h=new Date(f);h.setDate(f.getDate()-d);const m=h.toISOString().split("T")[0];u[m]=0}return e.forEach(d=>{const h=d.date.split("T")[0];u[h]!==void 0&&(u[h]+=d.cost)}),Object.keys(u).map(d=>({name:d.slice(5),kostnad:Math.round(u[d])}))})(),l=e.reduce((u,f)=>u+f.cost,0);return k.jsxs("div",{className:"p-4 pb-24 space-y-6",children:[k.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[k.jsxs("div",{className:"bg-white p-4 rounded-2xl shadow-sm border border-emerald-100",children:[k.jsx("p",{className:"text-gray-500 text-sm mb-1",children:"Totalt lagervrde"}),k.jsxs("p",{className:"text-2xl font-bold text-emerald-800",children:[Math.round(t)," kr"]})]}),k.jsxs("div",{className:"bg-white p-4 rounded-2xl shadow-sm border border-blue-100",children:[k.jsx("p",{className:"text-gray-500 text-sm mb-1",children:"Frbrukad mat"}),k.jsxs("p",{className:"text-2xl font-bold text-blue-800",children:[Math.round(l)," kr"]})]})]}),k.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow-sm border border-gray-100 h-80",children:[k.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Kostnad per dag (Senaste veckan)"}),k.jsx($V,{width:"100%",height:"100%",children:k.jsxs(ste,{data:o,children:[k.jsx(Fk,{strokeDasharray:"3 3",vertical:!1}),k.jsx(Kk,{dataKey:"name",fontSize:12,tickLine:!1,axisLine:!1}),k.jsx(Yk,{fontSize:12,tickLine:!1,axisLine:!1,tickFormatter:u=>`${u} kr`}),k.jsx(OJ,{cursor:{fill:"#f0fdf4"},contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}}),k.jsx(Bk,{dataKey:"kostnad",fill:"#059669",radius:[4,4,0,0],barSize:20})]})})]}),k.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow-sm border border-gray-100",children:[k.jsxs("div",{className:"flex items-center justify-between mb-4",children:[k.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Senaste hndelser"}),n&&k.jsx("button",{onClick:n,className:"text-sm font-medium text-emerald-600 hover:text-emerald-500",children:"Lgg till logg"})]}),k.jsxs("div",{className:"space-y-4",children:[e.slice().reverse().slice(0,5).map(u=>k.jsxs("div",{className:"flex justify-between items-center text-sm border-b border-gray-50 pb-2 last:border-0 last:pb-0",children:[k.jsxs("div",{children:[k.jsx("p",{className:"font-medium text-gray-800",children:u.dishName||u.itemName}),k.jsxs("p",{className:"text-gray-500 text-xs",children:[new Date(u.date).toLocaleDateString()," - ",r(u.reason)]})]}),k.jsxs("span",{className:"font-medium text-gray-600",children:["-",Math.round(u.cost)," kr"]})]},u.id)),e.length===0&&k.jsx("p",{className:"text-gray-400 text-sm",children:"Ingen historik n."})]})]})]})},ute=({inventory:e})=>{const[t,n]=C.useState(!1),[r,i]=C.useState(null),[o,l]=C.useState(null),u=async()=>{n(!0);try{const d=await qj(e);i(d),d.length>0&&l(d[0].id)}catch(d){console.error(d),alert("Kunde inte hmta recept just nu.")}finally{n(!1)}},f=d=>{l(o===d?null:d)};return k.jsxs("div",{className:"p-4 pb-24 max-w-lg mx-auto",children:[k.jsxs("div",{className:"text-center mb-6",children:[k.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Middagsfrslag"}),k.jsx("p",{className:"text-gray-500 text-sm",children:"Lt AI:n fresl recept baserat p vad du har hemma. Vi prioriterar varor som snart gr ut!"})]}),!r&&!t&&k.jsxs("button",{onClick:u,className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white font-bold py-4 px-6 rounded-xl flex items-center justify-center gap-2 shadow-lg transition-transform active:scale-95",children:[k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),"Hmta smarta recept"]}),t&&k.jsxs("div",{className:"space-y-4",children:[[1,2,3].map(d=>k.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 animate-pulse",children:[k.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4 mb-4"}),k.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-2"}),k.jsx("div",{className:"h-20 bg-gray-100 rounded w-full"})]},d)),k.jsx("p",{className:"text-center text-gray-500 mt-4",children:"Kock-AI funderar..."})]}),r&&k.jsxs("div",{className:"space-y-4",children:[k.jsxs("div",{className:"flex justify-between items-center mb-2",children:[k.jsx("h3",{className:"font-semibold text-gray-700",children:"Frslag"}),k.jsx("button",{onClick:u,className:"text-emerald-600 text-sm font-medium hover:underline",children:"Hmta nya"})]}),r.length===0&&k.jsx("p",{children:"Inga recept hittades."}),r.map(d=>{const h=o===d.id||r.length===1;return k.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[k.jsxs("button",{onClick:()=>f(d.id),className:"w-full p-4 flex justify-between items-center text-left bg-white hover:bg-gray-50 transition-colors",children:[k.jsxs("div",{children:[k.jsx("h4",{className:"font-bold text-gray-800 text-lg",children:d.title}),k.jsxs("p",{className:"text-gray-500 text-sm flex items-center gap-1",children:[k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),d.cookTime]})]}),k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-5 w-5 text-gray-400 transform transition-transform ${h?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),h&&k.jsxs("div",{className:"p-4 pt-0 border-t border-gray-100",children:[k.jsx("p",{className:"text-gray-600 mb-4 italic text-sm mt-3",children:d.description}),k.jsxs("div",{className:"mb-4",children:[k.jsx("h5",{className:"font-semibold text-sm text-gray-800 mb-2 uppercase tracking-wide",children:"Ingredienser"}),k.jsx("ul",{className:"text-sm space-y-1 text-gray-700",children:d.ingredients.map((m,y)=>k.jsxs("li",{className:"flex items-start gap-2",children:[k.jsx("span",{className:"text-emerald-500 mt-1",children:""}),m]},y))}),d.missingIngredients&&d.missingIngredients.length>0&&k.jsxs("div",{className:"mt-2 bg-yellow-50 p-2 rounded text-xs text-yellow-800",children:[k.jsx("strong",{children:"Saknas kanske:"})," ",d.missingIngredients.join(", ")]})]}),k.jsxs("div",{children:[k.jsx("h5",{className:"font-semibold text-sm text-gray-800 mb-2 uppercase tracking-wide",children:"Gr s hr"}),k.jsx("ol",{className:"text-sm space-y-3 text-gray-700",children:d.instructions.map((m,y)=>k.jsxs("li",{className:"flex gap-3",children:[k.jsx("span",{className:"flex-shrink-0 bg-gray-100 text-gray-500 h-6 w-6 rounded-full flex items-center justify-center text-xs font-bold",children:y+1}),k.jsx("span",{children:m})]},y))})]})]})]},d.id)})]})]})};var ei={},gf={},Jy=function(e,t){return Jy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Jy(e,t)};function aD(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Jy(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Id=function(){return Id=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Id.apply(this,arguments)};function Ns(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function oD(e,t,n,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(l=e[u])&&(o=(i<3?l(o):i>3?l(t,n,o):l(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o}function sD(e,t){return function(n,r){t(n,r,e)}}function lD(e,t,n,r,i,o){function l(x){if(x!==void 0&&typeof x!="function")throw new TypeError("Function expected");return x}for(var u=r.kind,f=u==="getter"?"get":u==="setter"?"set":"value",d=!t&&e?r.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,r.name):{}),m,y=!1,b=n.length-1;b>=0;b--){var w={};for(var E in r)w[E]=E==="access"?{}:r[E];for(var E in r.access)w.access[E]=r.access[E];w.addInitializer=function(x){if(y)throw new TypeError("Cannot add initializers after decoration has completed");o.push(l(x||null))};var T=(0,n[b])(u==="accessor"?{get:h.get,set:h.set}:h[f],w);if(u==="accessor"){if(T===void 0)continue;if(T===null||typeof T!="object")throw new TypeError("Object expected");(m=l(T.get))&&(h.get=m),(m=l(T.set))&&(h.set=m),(m=l(T.init))&&i.unshift(m)}else(m=l(T))&&(u==="field"?i.unshift(m):h[f]=m)}d&&Object.defineProperty(d,r.name,h),y=!0}function uD(e,t,n){for(var r=arguments.length>2,i=0;i<t.length;i++)n=r?t[i].call(e,n):t[i].call(e);return r?n:void 0}function cD(e){return typeof e=="symbol"?e:"".concat(e)}function fD(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function dD(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function ce(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(h){try{d(r.next(h))}catch(m){l(m)}}function f(h){try{d(r.throw(h))}catch(m){l(m)}}function d(h){h.done?o(h.value):i(h.value).then(u,f)}d((r=r.apply(e,t||[])).next())})}function hD(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,l=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return l.next=u(0),l.throw=u(1),l.return=u(2),typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(d){return function(h){return f([d,h])}}function f(d){if(r)throw new TypeError("Generator is already executing.");for(;l&&(l=0,d[0]&&(n=0)),n;)try{if(r=1,i&&(o=d[0]&2?i.return:d[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,d[1])).done)return o;switch(i=0,o&&(d=[d[0]&2,o.value]),d[0]){case 0:case 1:o=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,i=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!o||d[1]>o[0]&&d[1]<o[3])){n.label=d[1];break}if(d[0]===6&&n.label<o[1]){n.label=o[1],o=d;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(d);break}o[2]&&n.ops.pop(),n.trys.pop();continue}d=t.call(e,n)}catch(h){d=[6,h],i=0}finally{r=o=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}var Rh=Object.create?(function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}):(function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]});function pD(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Rh(t,e,n)}function Md(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function nb(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],l;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(u){l={error:u}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(l)throw l.error}}return o}function mD(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(nb(arguments[t]));return e}function gD(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var o=arguments[t],l=0,u=o.length;l<u;l++,i++)r[i]=o[l];return r}function vD(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}function _s(e){return this instanceof _s?(this.v=e,this):new _s(e)}function yD(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",l),i[Symbol.asyncIterator]=function(){return this},i;function l(b){return function(w){return Promise.resolve(w).then(b,m)}}function u(b,w){r[b]&&(i[b]=function(E){return new Promise(function(T,x){o.push([b,E,T,x])>1||f(b,E)})},w&&(i[b]=w(i[b])))}function f(b,w){try{d(r[b](w))}catch(E){y(o[0][3],E)}}function d(b){b.value instanceof _s?Promise.resolve(b.value.v).then(h,m):y(o[0][2],b)}function h(b){f("next",b)}function m(b){f("throw",b)}function y(b,w){b(w),o.shift(),o.length&&f(o[0][0],o[0][1])}}function _D(e){var t,n;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,o){t[i]=e[i]?function(l){return(n=!n)?{value:_s(e[i](l)),done:!1}:o?o(l):l}:o}}function bD(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Md=="function"?Md(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(l){return new Promise(function(u,f){l=e[o](l),i(u,f,l.done,l.value)})}}function i(o,l,u,f){Promise.resolve(f).then(function(d){o({value:d,done:u})},l)}}function SD(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var cte=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},Wy=function(e){return Wy=Object.getOwnPropertyNames||function(t){var n=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[n.length]=r);return n},Wy(e)};function wD(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=Wy(e),r=0;r<n.length;r++)n[r]!=="default"&&Rh(t,e,n[r]);return cte(t,e),t}function ED(e){return e&&e.__esModule?e:{default:e}}function TD(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}function AD(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n}function xD(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function CD(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],n&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(o){return Promise.reject(o)}}),e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var fte=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function RD(e){function t(o){e.error=e.hasError?new fte(o,e.error,"An error was suppressed during disposal."):o,e.hasError=!0}var n,r=0;function i(){for(;n=e.stack.pop();)try{if(!n.async&&r===1)return r=0,e.stack.push(n),Promise.resolve().then(i);if(n.dispose){var o=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(o).then(i,function(l){return t(l),i()})}else r|=1}catch(l){t(l)}if(r===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function OD(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,i,o,l){return r?t?".jsx":".js":i&&(!o||!l)?n:i+o+"."+l.toLowerCase()+"js"}):e}const dte={__extends:aD,__assign:Id,__rest:Ns,__decorate:oD,__param:sD,__esDecorate:lD,__runInitializers:uD,__propKey:cD,__setFunctionName:fD,__metadata:dD,__awaiter:ce,__generator:hD,__createBinding:Rh,__exportStar:pD,__values:Md,__read:nb,__spread:mD,__spreadArrays:gD,__spreadArray:vD,__await:_s,__asyncGenerator:yD,__asyncDelegator:_D,__asyncValues:bD,__makeTemplateObject:SD,__importStar:wD,__importDefault:ED,__classPrivateFieldGet:TD,__classPrivateFieldSet:AD,__classPrivateFieldIn:xD,__addDisposableResource:CD,__disposeResources:RD,__rewriteRelativeImportExtension:OD},hte=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:CD,get __assign(){return Id},__asyncDelegator:_D,__asyncGenerator:yD,__asyncValues:bD,__await:_s,__awaiter:ce,__classPrivateFieldGet:TD,__classPrivateFieldIn:xD,__classPrivateFieldSet:AD,__createBinding:Rh,__decorate:oD,__disposeResources:RD,__esDecorate:lD,__exportStar:pD,__extends:aD,__generator:hD,__importDefault:ED,__importStar:wD,__makeTemplateObject:SD,__metadata:dD,__param:sD,__propKey:cD,__read:nb,__rest:Ns,__rewriteRelativeImportExtension:OD,__runInitializers:uD,__setFunctionName:fD,__spread:mD,__spreadArray:vD,__spreadArrays:gD,__values:Md,default:dte},Symbol.toStringTag,{value:"Module"})),pte=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);let Oh=class extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}},PD=class extends Oh{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},Xy=class extends Oh{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},Qy=class extends Oh{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}};var Nd;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Nd||(Nd={}));class mte{constructor(t,{headers:n={},customFetch:r,region:i=Nd.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=pte(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return ce(this,arguments,void 0,function*(n,r={}){var i;let o,l;try{const{headers:u,method:f,body:d,signal:h,timeout:m}=r;let y={},{region:b}=r;b||(b=this.region);const w=new URL(`${this.url}/${n}`);b&&b!=="any"&&(y["x-region"]=b,w.searchParams.set("forceFunctionRegion",b));let E;d&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)?typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(y["Content-Type"]="application/octet-stream",E=d):typeof d=="string"?(y["Content-Type"]="text/plain",E=d):typeof FormData<"u"&&d instanceof FormData?E=d:(y["Content-Type"]="application/json",E=JSON.stringify(d)):E=d;let T=h;m&&(l=new AbortController,o=setTimeout(()=>l.abort(),m),h?(T=l.signal,h.addEventListener("abort",()=>l.abort())):T=l.signal);const x=yield this.fetch(w.toString(),{method:f||"POST",headers:Object.assign(Object.assign(Object.assign({},y),this.headers),u),body:E,signal:T}).catch(I=>{throw new PD(I)}),O=x.headers.get("x-relay-error");if(O&&O==="true")throw new Xy(x);if(!x.ok)throw new Qy(x);let R=((i=x.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),M;return R==="application/json"?M=yield x.json():R==="application/octet-stream"||R==="application/pdf"?M=yield x.blob():R==="text/event-stream"?M=x:R==="multipart/form-data"?M=yield x.formData():M=yield x.text(),{data:M,error:null,response:x}}catch(u){return{data:null,error:u,response:u instanceof Qy||u instanceof Xy?u.context:void 0}}finally{o&&clearTimeout(o)}})}}const gte=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return Nd},FunctionsClient:mte,FunctionsError:Oh,FunctionsFetchError:PD,FunctionsHttpError:Qy,FunctionsRelayError:Xy},Symbol.toStringTag,{value:"Module"})),ID=cu(gte);var tn={};const ks=cu(hte);var vf={},yf={},_f={},bf={},Sf={},wf={},eO;function MD(){if(eO)return wf;eO=1,Object.defineProperty(wf,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return wf.default=e,wf}var tO;function ND(){if(tO)return Sf;tO=1,Object.defineProperty(Sf,"__esModule",{value:!0});const t=ks.__importDefault(MD());let n=class{constructor(i){var o,l;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(o=i.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=i.signal,this.isMaybeSingle=(l=i.isMaybeSingle)!==null&&l!==void 0?l:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=new Headers(this.headers),this.headers.set(i,o),this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let u=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{var d,h,m,y;let b=null,w=null,E=null,T=f.status,x=f.statusText;if(f.ok){if(this.method!=="HEAD"){const I=await f.text();I===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?w=I:w=JSON.parse(I))}const R=(h=this.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),M=(m=f.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");R&&M&&M.length>1&&(E=parseInt(M[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(b={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,E=null,T=406,x="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const R=await f.text();try{b=JSON.parse(R),Array.isArray(b)&&f.status===404&&(w=[],b=null,T=200,x="OK")}catch{f.status===404&&R===""?(T=204,x="No Content"):b={message:R}}if(b&&this.isMaybeSingle&&(!((y=b==null?void 0:b.details)===null||y===void 0)&&y.includes("0 rows"))&&(b=null,T=200,x="OK"),b&&this.shouldThrowOnError)throw new t.default(b)}return{error:b,data:w,count:E,status:T,statusText:x}});return this.shouldThrowOnError||(u=u.catch(f=>{var d,h,m,y,b,w;let E="";const T=f==null?void 0:f.cause;if(T){const x=(d=T==null?void 0:T.message)!==null&&d!==void 0?d:"",O=(h=T==null?void 0:T.code)!==null&&h!==void 0?h:"";E=`${(m=f==null?void 0:f.name)!==null&&m!==void 0?m:"FetchError"}: ${f==null?void 0:f.message}`,E+=`

Caused by: ${(y=T==null?void 0:T.name)!==null&&y!==void 0?y:"Error"}: ${x}`,O&&(E+=` (${O})`),T!=null&&T.stack&&(E+=`
${T.stack}`)}else E=(b=f==null?void 0:f.stack)!==null&&b!==void 0?b:"";return{error:{message:`${(w=f==null?void 0:f.name)!==null&&w!==void 0?w:"FetchError"}: ${f==null?void 0:f.message}`,details:E,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),u.then(i,o)}returns(){return this}overrideTypes(){return this}};return Sf.default=n,Sf}var nO;function kD(){if(nO)return bf;nO=1,Object.defineProperty(bf,"__esModule",{value:!0});const t=ks.__importDefault(ND());let n=class extends t.default{select(i){let o=!1;const l=(i??"*").split("").map(u=>/\s/.test(u)&&!o?"":(u==='"'&&(o=!o),u)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:o=!0,nullsFirst:l,foreignTable:u,referencedTable:f=u}={}){const d=f?`${f}.order`:"order",h=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${h?`${h},`:""}${i}.${o?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:o,referencedTable:l=o}={}){const u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${i}`),this}range(i,o,{foreignTable:l,referencedTable:u=l}={}){const f=typeof u>"u"?"offset":`${u}.offset`,d=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(f,`${i}`),this.url.searchParams.set(d,`${o-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:o=!1,settings:l=!1,buffers:u=!1,wal:f=!1,format:d="text"}={}){var h;const m=[i?"analyze":null,o?"verbose":null,l?"settings":null,u?"buffers":null,f?"wal":null].filter(Boolean).join("|"),y=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${y}"; options=${m};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};return bf.default=n,bf}var rO;function rb(){if(rO)return _f;rO=1,Object.defineProperty(_f,"__esModule",{value:!0});const t=ks.__importDefault(kD()),n=new RegExp("[,()]");let r=class extends t.default{eq(o,l){return this.url.searchParams.append(o,`eq.${l}`),this}neq(o,l){return this.url.searchParams.append(o,`neq.${l}`),this}gt(o,l){return this.url.searchParams.append(o,`gt.${l}`),this}gte(o,l){return this.url.searchParams.append(o,`gte.${l}`),this}lt(o,l){return this.url.searchParams.append(o,`lt.${l}`),this}lte(o,l){return this.url.searchParams.append(o,`lte.${l}`),this}like(o,l){return this.url.searchParams.append(o,`like.${l}`),this}likeAllOf(o,l){return this.url.searchParams.append(o,`like(all).{${l.join(",")}}`),this}likeAnyOf(o,l){return this.url.searchParams.append(o,`like(any).{${l.join(",")}}`),this}ilike(o,l){return this.url.searchParams.append(o,`ilike.${l}`),this}ilikeAllOf(o,l){return this.url.searchParams.append(o,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(o,l){return this.url.searchParams.append(o,`ilike(any).{${l.join(",")}}`),this}regexMatch(o,l){return this.url.searchParams.append(o,`match.${l}`),this}regexIMatch(o,l){return this.url.searchParams.append(o,`imatch.${l}`),this}is(o,l){return this.url.searchParams.append(o,`is.${l}`),this}isDistinct(o,l){return this.url.searchParams.append(o,`isdistinct.${l}`),this}in(o,l){const u=Array.from(new Set(l)).map(f=>typeof f=="string"&&n.test(f)?`"${f}"`:`${f}`).join(",");return this.url.searchParams.append(o,`in.(${u})`),this}contains(o,l){return typeof l=="string"?this.url.searchParams.append(o,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(o,`cs.{${l.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(l)}`),this}containedBy(o,l){return typeof l=="string"?this.url.searchParams.append(o,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(o,`cd.{${l.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(l)}`),this}rangeGt(o,l){return this.url.searchParams.append(o,`sr.${l}`),this}rangeGte(o,l){return this.url.searchParams.append(o,`nxl.${l}`),this}rangeLt(o,l){return this.url.searchParams.append(o,`sl.${l}`),this}rangeLte(o,l){return this.url.searchParams.append(o,`nxr.${l}`),this}rangeAdjacent(o,l){return this.url.searchParams.append(o,`adj.${l}`),this}overlaps(o,l){return typeof l=="string"?this.url.searchParams.append(o,`ov.${l}`):this.url.searchParams.append(o,`ov.{${l.join(",")}}`),this}textSearch(o,l,{config:u,type:f}={}){let d="";f==="plain"?d="pl":f==="phrase"?d="ph":f==="websearch"&&(d="w");const h=u===void 0?"":`(${u})`;return this.url.searchParams.append(o,`${d}fts${h}.${l}`),this}match(o){return Object.entries(o).forEach(([l,u])=>{this.url.searchParams.append(l,`eq.${u}`)}),this}not(o,l,u){return this.url.searchParams.append(o,`not.${l}.${u}`),this}or(o,{foreignTable:l,referencedTable:u=l}={}){const f=u?`${u}.or`:"or";return this.url.searchParams.append(f,`(${o})`),this}filter(o,l,u){return this.url.searchParams.append(o,`${l}.${u}`),this}};return _f.default=r,_f}var iO;function DD(){if(iO)return yf;iO=1,Object.defineProperty(yf,"__esModule",{value:!0});const t=ks.__importDefault(rb());let n=class{constructor(i,{headers:o={},schema:l,fetch:u}){this.url=i,this.headers=new Headers(o),this.schema=l,this.fetch=u}select(i,o){const{head:l=!1,count:u}=o??{},f=l?"HEAD":"GET";let d=!1;const h=(i??"*").split("").map(m=>/\s/.test(m)&&!d?"":(m==='"'&&(d=!d),m)).join("");return this.url.searchParams.set("select",h),u&&this.headers.append("Prefer",`count=${u}`),new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:o,defaultToNull:l=!0}={}){var u;const f="POST";if(o&&this.headers.append("Prefer",`count=${o}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const d=i.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(d.length>0){const h=[...new Set(d)].map(m=>`"${m}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}upsert(i,{onConflict:o,ignoreDuplicates:l=!1,count:u,defaultToNull:f=!0}={}){var d;const h="POST";if(this.headers.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),u&&this.headers.append("Prefer",`count=${u}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const m=i.reduce((y,b)=>y.concat(Object.keys(b)),[]);if(m.length>0){const y=[...new Set(m)].map(b=>`"${b}"`);this.url.searchParams.set("columns",y.join(","))}}return new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(i,{count:o}={}){var l;const u="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:i}={}){var o;const l="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};return yf.default=n,yf}var aO;function vte(){if(aO)return vf;aO=1,Object.defineProperty(vf,"__esModule",{value:!0});const e=ks,t=e.__importDefault(DD()),n=e.__importDefault(rb());let r=class UD{constructor(o,{headers:l={},schema:u,fetch:f}={}){this.url=o,this.headers=new Headers(l),this.schemaName=u,this.fetch=f}from(o){if(!o||typeof o!="string"||o.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const l=new URL(`${this.url}/${o}`);return new t.default(l,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new UD(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,l={},{head:u=!1,get:f=!1,count:d}={}){var h;let m;const y=new URL(`${this.url}/rpc/${o}`);let b;u||f?(m=u?"HEAD":"GET",Object.entries(l).filter(([E,T])=>T!==void 0).map(([E,T])=>[E,Array.isArray(T)?`{${T.join(",")}}`:`${T}`]).forEach(([E,T])=>{y.searchParams.append(E,T)})):(m="POST",b=l);const w=new Headers(this.headers);return d&&w.set("Prefer",`count=${d}`),new n.default({method:m,url:y,headers:w,schema:this.schemaName,body:b,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}};return vf.default=r,vf}var oO;function LD(){if(oO)return tn;oO=1,Object.defineProperty(tn,"__esModule",{value:!0}),tn.PostgrestError=tn.PostgrestBuilder=tn.PostgrestTransformBuilder=tn.PostgrestFilterBuilder=tn.PostgrestQueryBuilder=tn.PostgrestClient=void 0;const e=ks,t=e.__importDefault(vte());tn.PostgrestClient=t.default;const n=e.__importDefault(DD());tn.PostgrestQueryBuilder=n.default;const r=e.__importDefault(rb());tn.PostgrestFilterBuilder=r.default;const i=e.__importDefault(kD());tn.PostgrestTransformBuilder=i.default;const o=e.__importDefault(ND());tn.PostgrestBuilder=o.default;const l=e.__importDefault(MD());return tn.PostgrestError=l.default,tn.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:o.default,PostgrestError:l.default},tn}class qD{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const yte="2.87.1",_te=`realtime-js/${yte}`,BD="1.0.0",bte="2.0.0",sO=BD,Zy=1e4,Ste=1e3,wte=100;var Ba;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ba||(Ba={}));var Et;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Et||(Et={}));var pr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(pr||(pr={}));var e0;(function(e){e.websocket="websocket"})(e0||(e0={}));var za;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(za||(za={}));class Ete{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},l=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,l)}_encodeUserBroadcastPush(t,n,r){var i,o;const l=t.topic,u=(i=t.ref)!==null&&i!==void 0?i:"",f=(o=t.join_ref)!==null&&o!==void 0?o:"",d=t.payload.event,h=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},m=Object.keys(h).length===0?"":JSON.stringify(h);if(f.length>255)throw new Error(`joinRef length ${f.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`ref length ${u.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`topic length ${l.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`userEvent length ${d.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`metadata length ${m.length} exceeds maximum of 255`);const y=this.USER_BROADCAST_PUSH_META_LENGTH+f.length+u.length+l.length+d.length+m.length,b=new ArrayBuffer(this.HEADER_LENGTH+y);let w=new DataView(b),E=0;w.setUint8(E++,this.KINDS.userBroadcastPush),w.setUint8(E++,f.length),w.setUint8(E++,u.length),w.setUint8(E++,l.length),w.setUint8(E++,d.length),w.setUint8(E++,m.length),w.setUint8(E++,n),Array.from(f,x=>w.setUint8(E++,x.charCodeAt(0))),Array.from(u,x=>w.setUint8(E++,x.charCodeAt(0))),Array.from(l,x=>w.setUint8(E++,x.charCodeAt(0))),Array.from(d,x=>w.setUint8(E++,x.charCodeAt(0))),Array.from(m,x=>w.setUint8(E++,x.charCodeAt(0)));var T=new Uint8Array(b.byteLength+r.byteLength);return T.set(new Uint8Array(b),0),T.set(new Uint8Array(r),b.byteLength),T.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[i,o,l,u,f]=r;return n({join_ref:i,ref:o,topic:l,event:u,payload:f})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,i)}}_decodeUserBroadcast(t,n,r){const i=n.getUint8(1),o=n.getUint8(2),l=n.getUint8(3),u=n.getUint8(4);let f=this.HEADER_LENGTH+4;const d=r.decode(t.slice(f,f+i));f=f+i;const h=r.decode(t.slice(f,f+o));f=f+o;const m=r.decode(t.slice(f,f+l));f=f+l;const y=t.slice(f,t.byteLength),b=u===this.JSON_ENCODING?JSON.parse(r.decode(y)):y,w={type:this.BROADCAST_EVENT,event:h,payload:b};return l>0&&(w.meta=JSON.parse(m)),{join_ref:null,ref:null,topic:d,event:this.BROADCAST_EVENT,payload:w}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class zD{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var et;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(et||(et={}));const lO=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((o,l)=>(o[l]=Tte(l,e,t,i),o),{}):{}},Tte=(e,t,n,r)=>{const i=t.find(u=>u.name===e),o=i==null?void 0:i.type,l=n[e];return o&&!r.includes(o)?$D(o,l):t0(l)},$D=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return Rte(t,n)}switch(e){case et.bool:return Ate(t);case et.float4:case et.float8:case et.int2:case et.int4:case et.int8:case et.numeric:case et.oid:return xte(t);case et.json:case et.jsonb:return Cte(t);case et.timestamp:return Ote(t);case et.abstime:case et.date:case et.daterange:case et.int4range:case et.int8range:case et.money:case et.reltime:case et.text:case et.time:case et.timestamptz:case et.timetz:case et.tsrange:case et.tstzrange:return t0(t);default:return t0(t)}},t0=e=>e,Ate=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},xte=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Cte=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Rte=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const l=e.slice(1,n);try{o=JSON.parse("["+l+"]")}catch{o=l?l.split(","):[]}return o.map(u=>$D(t,u))}return e},Ote=e=>typeof e=="string"?e.replace(" ","T"):e,HD=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class kv{constructor(t,n,r={},i=Zy){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var n0;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(n0||(n0={}));let jD=class Mf{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:o,onLeave:l,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Mf.syncState(this.state,i,o,l),this.pendingDiffs.forEach(f=>{this.state=Mf.syncDiff(this.state,f,o,l)}),this.pendingDiffs=[],u()}),this.channel._on(r.diff,{},i=>{const{onJoin:o,onLeave:l,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Mf.syncDiff(this.state,i,o,l),u())}),this.onJoin((i,o,l)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:l})}),this.onLeave((i,o,l)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const o=this.cloneDeep(t),l=this.transformState(n),u={},f={};return this.map(o,(d,h)=>{l[d]||(f[d]=h)}),this.map(l,(d,h)=>{const m=o[d];if(m){const y=h.map(T=>T.presence_ref),b=m.map(T=>T.presence_ref),w=h.filter(T=>b.indexOf(T.presence_ref)<0),E=m.filter(T=>y.indexOf(T.presence_ref)<0);w.length>0&&(u[d]=w),E.length>0&&(f[d]=E)}else u[d]=h}),this.syncDiff(o,{joins:u,leaves:f},r,i)}static syncDiff(t,n,r,i){const{joins:o,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(u,f)=>{var d;const h=(d=t[u])!==null&&d!==void 0?d:[];if(t[u]=this.cloneDeep(f),h.length>0){const m=t[u].map(b=>b.presence_ref),y=h.filter(b=>m.indexOf(b.presence_ref)<0);t[u].unshift(...y)}r(u,h,f)}),this.map(l,(u,f)=>{let d=t[u];if(!d)return;const h=f.map(m=>m.presence_ref);d=d.filter(m=>h.indexOf(m.presence_ref)<0),t[u]=d,i(u,d,f),d.length===0&&delete t[u]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var r0;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(r0||(r0={}));var os;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(os||(os={}));var Or;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Or||(Or={}));const Pte=Et;let GD=class jl{constructor(t,n={config:{}},r){var i,o;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Et.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new kv(this,pr.join,this.params,this.timeout),this.rejoinTimer=new zD(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Et.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Et.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Et.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Et.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Et.errored,this.rejoinTimer.scheduleTimeout())}),this._on(pr.reply,{},(l,u)=>{this._trigger(this._replyEventName(u),l)}),this.presence=new jD(this),this.broadcastEndpointURL=HD(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Et.closed){const{config:{broadcast:l,presence:u,private:f}}=this.params,d=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(b=>b.filter))!==null&&i!==void 0?i:[],h=!!this.bindings[os.PRESENCE]&&this.bindings[os.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,m={},y={broadcast:l,presence:Object.assign(Object.assign({},u),{enabled:h}),postgres_changes:d,private:f};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(b=>t==null?void 0:t(Or.CHANNEL_ERROR,b)),this._onClose(()=>t==null?void 0:t(Or.CLOSED)),this.updateJoinPayload(Object.assign({config:y},m)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:b})=>{var w;if(this.socket._isManualToken()||this.socket.setAuth(),b===void 0){t==null||t(Or.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,T=(w=E==null?void 0:E.length)!==null&&w!==void 0?w:0,x=[];for(let O=0;O<T;O++){const R=E[O],{filter:{event:M,schema:I,table:N,filter:U}}=R,X=b&&b[O];if(X&&X.event===M&&jl.isFilterValueEqual(X.schema,I)&&jl.isFilterValueEqual(X.table,N)&&jl.isFilterValueEqual(X.filter,U))x.push(Object.assign(Object.assign({},R),{id:X.id}));else{this.unsubscribe(),this.state=Et.errored,t==null||t(Or.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(Or.SUBSCRIBED);return}}).receive("error",b=>{this.state=Et.errored,t==null||t(Or.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Or.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Et.joined&&t===os.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var i;const o=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const l={method:"POST",headers:{Authorization:o,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(u.status===202)return{success:!0};let f=u.statusText;try{const d=await u.json();f=d.error||d.message||f}catch{}return Promise.reject(new Error(f))}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:l}=t,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:l,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=d.body)===null||i===void 0?void 0:i.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var l,u,f;const d=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((f=(u=(l=this.params)===null||l===void 0?void 0:l.config)===null||u===void 0?void 0:u.broadcast)===null||f===void 0)&&f.ack)&&o("ok"),d.receive("ok",()=>o("ok")),d.receive("error",()=>o("error")),d.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Et.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(pr.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new kv(this,pr.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Et.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,o=setTimeout(()=>i.abort(),r),l=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),l}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new kv(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>wte){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,o;const l=t.toLocaleLowerCase(),{close:u,error:f,leave:d,join:h}=pr;if(r&&[u,f,d,h].indexOf(l)>=0&&r!==this._joinRef())return;let y=this._onMessage(l,n,r);if(n&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(b=>{var w,E,T;return((w=b.filter)===null||w===void 0?void 0:w.event)==="*"||((T=(E=b.filter)===null||E===void 0?void 0:E.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===l}).map(b=>b.callback(y,r)):(o=this.bindings[l])===null||o===void 0||o.filter(b=>{var w,E,T,x,O,R;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in b){const M=b.id,I=(w=b.filter)===null||w===void 0?void 0:w.event;return M&&((E=n.ids)===null||E===void 0?void 0:E.includes(M))&&(I==="*"||(I==null?void 0:I.toLocaleLowerCase())===((T=n.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const M=(O=(x=b==null?void 0:b.filter)===null||x===void 0?void 0:x.event)===null||O===void 0?void 0:O.toLocaleLowerCase();return M==="*"||M===((R=n==null?void 0:n.event)===null||R===void 0?void 0:R.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===l}).map(b=>{if(typeof y=="object"&&"ids"in y){const w=y.data,{schema:E,table:T,commit_timestamp:x,type:O,errors:R}=w;y=Object.assign(Object.assign({},{schema:E,table:T,commit_timestamp:x,eventType:O,new:{},old:{},errors:R}),this._getPayloadRecords(w))}b.callback(y,r)})}_isClosed(){return this.state===Et.closed}_isJoined(){return this.state===Et.joined}_isJoining(){return this.state===Et.joining}_isLeaving(){return this.state===Et.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&jl.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(pr.close,{},t)}_onError(t){this._on(pr.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Et.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=lO(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=lO(t.columns,t.old_record)),n}};const Dv=()=>{},Ef={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Ite=[1e3,2e3,5e3,1e4],Mte=1e4,Nte=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let kte=class{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Zy,this.transport=null,this.heartbeatIntervalMs=Ef.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Dv,this.ref=0,this.reconnectTimer=null,this.vsn=sO,this.logger=Dv,this.conn=null,this.sendBuffer=[],this.serializer=new Ete,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${e0.websocket}`,this.httpEndpoint=HD(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=qD.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ba.connecting:return za.Connecting;case Ba.open:return za.Open;case Ba.closing:return za.Closing;default:return za.Closed}}isConnected(){return this.connectionState()===za.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{const o=new GD(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:r,payload:i,ref:o}=t,l=()=>{this.encode(t,u=>{var f;(f=this.conn)===null||f===void 0||f.send(u)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Ste,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Ef.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:o,ref:l}=n,u=l?`(${l})`:"",f=o.status||"";this.log("receive",`${f} ${r} ${i} ${u}`.trim(),o),this.channels.filter(d=>d._isMember(r)).forEach(d=>d._trigger(i,o,l)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ba.open||this.conn.readyState===Ba.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(pr.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([Nte],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const o={access_token:n,version:_te};n&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(pr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new zD(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ef.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,o,l,u,f,d,h,m,y,b;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:Zy,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:Ef.HEARTBEAT_INTERVAL,this.worker=(o=t==null?void 0:t.worker)!==null&&o!==void 0?o:!1,this.accessToken=(l=t==null?void 0:t.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(u=t==null?void 0:t.heartbeatCallback)!==null&&u!==void 0?u:Dv,this.vsn=(f=t==null?void 0:t.vsn)!==null&&f!==void 0?f:sO,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=t==null?void 0:t.reconnectAfterMs)!==null&&d!==void 0?d:(w=>Ite[w-1]||Mte),this.vsn){case BD:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:((w,E)=>E(JSON.stringify(w))),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:((w,E)=>E(JSON.parse(w)));break;case bte:this.encode=(y=t==null?void 0:t.encode)!==null&&y!==void 0?y:this.serializer.encode.bind(this.serializer),this.decode=(b=t==null?void 0:t.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}};const Dte=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:Pte,get REALTIME_LISTEN_TYPES(){return os},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return r0},get REALTIME_PRESENCE_LISTEN_EVENTS(){return n0},get REALTIME_SUBSCRIBE_STATES(){return Or},RealtimeChannel:GD,RealtimeClient:kte,RealtimePresence:jD,WebSocketFactory:qD},Symbol.toStringTag,{value:"Module"})),FD=cu(Dte);class Nu extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function lt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class VD extends Nu{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class kd extends Nu{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}const ib=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Ute=()=>Response,i0=e=>{if(Array.isArray(e))return e.map(n=>i0(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[i]=i0(r)}),t},Lte=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},qte=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e),Uv=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},Bte=(e,t,n)=>ce(void 0,void 0,void 0,function*(){const r=yield Ute();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{const o=e.status||500,l=(i==null?void 0:i.statusCode)||o+"";t(new VD(Uv(i),o,l))}).catch(i=>{t(new kd(Uv(i),i))}):t(new kd(Uv(e),e))}),zte=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?i:(Lte(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function ku(e,t,n,r,i,o){return ce(this,void 0,void 0,function*(){return new Promise((l,u)=>{e(n,zte(t,r,i,o)).then(f=>{if(!f.ok)throw f;return r!=null&&r.noResolveJson?f:f.json()}).then(f=>l(f)).catch(f=>Bte(f,u,r))})})}function lu(e,t,n,r){return ce(this,void 0,void 0,function*(){return ku(e,"GET",t,n,r)})}function hr(e,t,n,r,i){return ce(this,void 0,void 0,function*(){return ku(e,"POST",t,r,i,n)})}function a0(e,t,n,r,i){return ce(this,void 0,void 0,function*(){return ku(e,"PUT",t,r,i,n)})}function $te(e,t,n,r){return ce(this,void 0,void 0,function*(){return ku(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function ab(e,t,n,r,i){return ce(this,void 0,void 0,function*(){return ku(e,"DELETE",t,r,i,n)})}class Hte{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return ce(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(lt(t))return{data:null,error:t};throw t}})}}var KD;class jte{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[KD]="BlobDownloadBuilder",this.promise=null}asStream(){return new Hte(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ce(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(lt(t))return{data:null,error:t};throw t}})}}KD=Symbol.toStringTag;const Gte={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},uO={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Fte{constructor(t,n={},r,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=ib(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,i){return ce(this,void 0,void 0,function*(){try{let o;const l=Object.assign(Object.assign({},uO),i);let u=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const f=l.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",l.cacheControl),f&&o.append("metadata",this.encodeMetadata(f)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.has("cacheControl")||o.append("cacheControl",l.cacheControl),f&&!o.has("metadata")&&o.append("metadata",this.encodeMetadata(f))):(o=r,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType,f&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(f))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!l.duplex&&(l.duplex="half")),i!=null&&i.headers&&(u=Object.assign(Object.assign({},u),i.headers));const d=this._removeEmptyFolders(n),h=this._getFinalPath(d),m=yield(t=="PUT"?a0:hr)(this.fetch,`${this.url}/object/${h}`,o,Object.assign({headers:u},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:d,id:m.Id,fullPath:m.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(lt(o))return{data:null,error:o};throw o}})}upload(t,n,r){return ce(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return ce(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),l=this._getFinalPath(o),u=new URL(this.url+`/object/upload/sign/${l}`);u.searchParams.set("token",n);try{let f;const d=Object.assign({upsert:uO.upsert},i),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&r instanceof Blob?(f=new FormData,f.append("cacheControl",d.cacheControl),f.append("",r)):typeof FormData<"u"&&r instanceof FormData?(f=r,f.append("cacheControl",d.cacheControl)):(f=r,h["cache-control"]=`max-age=${d.cacheControl}`,h["content-type"]=d.contentType);const m=yield a0(this.fetch,u.toString(),f,{headers:h});return{data:{path:o,fullPath:m.Key},error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(lt(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(t,n){return ce(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const o=yield hr(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),l=new URL(this.url+o.url),u=l.searchParams.get("token");if(!u)throw new Nu("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:u},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}update(t,n,r){return ce(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return ce(this,void 0,void 0,function*(){try{return{data:yield hr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(lt(i))return{data:null,error:i};throw i}})}copy(t,n,r){return ce(this,void 0,void 0,function*(){try{return{data:{path:(yield hr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(lt(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return ce(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),o=yield hr(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${l}`)},{data:o,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(lt(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return ce(this,void 0,void 0,function*(){try{const i=yield hr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${o}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(lt(i))return{data:null,error:i};throw i}})}download(t,n){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),l=o?`?${o}`:"",u=this._getFinalPath(t),f=()=>lu(this.fetch,`${this.url}/${i}/${u}${l}`,{headers:this.headers,noResolveJson:!0});return new jte(f,this.shouldThrowOnError)}info(t){return ce(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield lu(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:i0(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}exists(t){return ce(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield $te(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r)&&r instanceof kd){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&i.push(o);const u=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",f=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});f!==""&&i.push(f);let d=i.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${r}${d}`)}}}remove(t){return ce(this,void 0,void 0,function*(){try{return{data:yield ab(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lt(n))return{data:null,error:n};throw n}})}list(t,n,r){return ce(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},Gte),n),{prefix:t||""});return{data:yield hr(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(lt(i))return{data:null,error:i};throw i}})}listV2(t,n){return ce(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield hr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const YD="2.87.1",JD={"X-Client-Info":`storage-js/${YD}`};class Vte{constructor(t,n={},r,i){this.shouldThrowOnError=!1;const o=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},JD),n),this.fetch=ib(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return ce(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(t);return{data:yield lu(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lt(n))return{data:null,error:n};throw n}})}getBucket(t){return ce(this,void 0,void 0,function*(){try{return{data:yield lu(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lt(n))return{data:null,error:n};throw n}})}createBucket(t){return ce(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield hr(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(lt(i))return{data:null,error:i};throw i}})}updateBucket(t,n){return ce(this,void 0,void 0,function*(){try{return{data:yield a0(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}emptyBucket(t){return ce(this,void 0,void 0,function*(){try{return{data:yield hr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return ce(this,void 0,void 0,function*(){try{return{data:yield ab(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lt(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(t){const n={};return t&&("limit"in t&&(n.limit=String(t.limit)),"offset"in t&&(n.offset=String(t.offset)),t.search&&(n.search=t.search),t.sortColumn&&(n.sortColumn=t.sortColumn),t.sortOrder&&(n.sortOrder=t.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}var uu=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((n=t.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Kte(e,t,n){const r=new URL(t,e);if(n)for(const[i,o]of Object.entries(n))o!==void 0&&r.searchParams.set(i,o);return r.toString()}async function Yte(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function Jte(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:o,headers:l}){const u=Kte(e.baseUrl,r,i),f=await Yte(e.auth),d=await t(u,{method:n,headers:{...o?{"Content-Type":"application/json"}:{},...f,...l},body:o?JSON.stringify(o):void 0}),h=await d.text(),m=(d.headers.get("content-type")||"").includes("application/json"),y=m&&h?JSON.parse(h):h;if(!d.ok){const b=m?y:void 0,w=b==null?void 0:b.error;throw new uu((w==null?void 0:w.message)??`Request failed with status ${d.status}`,{status:d.status,icebergType:w==null?void 0:w.type,icebergCode:w==null?void 0:w.code,details:b})}return{status:d.status,headers:d.headers,data:y}}}}function Tf(e){return e.join("")}var Wte=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Tf(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Tf(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Tf(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Tf(e.namespace)}`}),!0}catch(t){if(t instanceof uu&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof uu&&n.status===409)return;throw n}}};function Fo(e){return e.join("")}var Xte=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Fo(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Fo(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Fo(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Fo(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Fo(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Fo(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof uu&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof uu&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},Qte=class{constructor(e){var r;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=Jte({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(r=e.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new Wte(this.client,t),this.tableOps=new Xte(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};class WD{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},JD),n),this.fetch=ib(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return ce(this,void 0,void 0,function*(){try{return{data:yield hr(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lt(n))return{data:null,error:n};throw n}})}listBuckets(t){return ce(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const r=n.toString(),i=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield lu(this.fetch,i,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return ce(this,void 0,void 0,function*(){try{return{data:yield ab(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lt(n))return{data:null,error:n};throw n}})}from(t){if(!qte(t))throw new Nu("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new Qte({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>ce(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(o,l){const u=o[l];return typeof u!="function"?u:(...f)=>ce(this,void 0,void 0,function*(){try{return{data:yield u.apply(o,f),error:null}}catch(d){if(r)throw d;return{data:null,error:d}}})}})}}const ob={"X-Client-Info":`storage-js/${YD}`,"Content-Type":"application/json"};class sb extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function wn(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Nf extends sb{constructor(t,n,r){super(t),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class XD extends sb{constructor(t,n){super(t),this.name="StorageVectorsUnknownError",this.originalError=n}}var o0;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(o0||(o0={}));const Ph=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Zte=()=>Response,QD=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},ene=e=>Array.from(new Float32Array(e)),tne=(e,t)=>{if(t!==void 0&&e.float32.length!==t)throw new Error(`Vector dimension mismatch: expected ${t}, got ${e.float32.length}`)},cO=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),nne=(e,t,n)=>ce(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const i=e.status||500,o=e;if(typeof o.json=="function")o.json().then(l=>{const u=(l==null?void 0:l.statusCode)||(l==null?void 0:l.code)||i+"";t(new Nf(cO(l),i,u))}).catch(()=>{const l=i+"",u=o.statusText||`HTTP ${i} error`;t(new Nf(u,i,l))});else{const l=i+"",u=o.statusText||`HTTP ${i} error`;t(new Nf(u,i,l))}}else t(new XD(cO(e),e))}),rne=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return r?(QD(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n)):i};function ine(e,t,n,r,i,o){return ce(this,void 0,void 0,function*(){return new Promise((l,u)=>{e(n,rne(t,r,i,o)).then(f=>{if(!f.ok)throw f;if(r!=null&&r.noResolveJson)return f;const d=f.headers.get("content-type");return!d||!d.includes("application/json")?{}:f.json()}).then(f=>l(f)).catch(f=>nne(f,u,r))})})}function Bn(e,t,n,r,i){return ce(this,void 0,void 0,function*(){return ine(e,"POST",t,r,i,n)})}class ZD{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ob),n),this.fetch=Ph(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return ce(this,void 0,void 0,function*(){try{return{data:(yield Bn(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wn(n))return{data:null,error:n};throw n}})}getIndex(t,n){return ce(this,void 0,void 0,function*(){try{return{data:yield Bn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wn(r))return{data:null,error:r};throw r}})}listIndexes(t){return ce(this,void 0,void 0,function*(){try{return{data:yield Bn(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wn(n))return{data:null,error:n};throw n}})}deleteIndex(t,n){return ce(this,void 0,void 0,function*(){try{return{data:(yield Bn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wn(r))return{data:null,error:r};throw r}})}}class e2{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ob),n),this.fetch=Ph(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return ce(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Bn(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wn(n))return{data:null,error:n};throw n}})}getVectors(t){return ce(this,void 0,void 0,function*(){try{return{data:yield Bn(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wn(n))return{data:null,error:n};throw n}})}listVectors(t){return ce(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Bn(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wn(n))return{data:null,error:n};throw n}})}queryVectors(t){return ce(this,void 0,void 0,function*(){try{return{data:yield Bn(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wn(n))return{data:null,error:n};throw n}})}deleteVectors(t){return ce(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Bn(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wn(n))return{data:null,error:n};throw n}})}}class t2{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ob),n),this.fetch=Ph(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return ce(this,void 0,void 0,function*(){try{return{data:(yield Bn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wn(n))return{data:null,error:n};throw n}})}getBucket(t){return ce(this,void 0,void 0,function*(){try{return{data:yield Bn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wn(n))return{data:null,error:n};throw n}})}listBuckets(){return ce(this,arguments,void 0,function*(t={}){try{return{data:yield Bn(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wn(n))return{data:null,error:n};throw n}})}deleteBucket(t){return ce(this,void 0,void 0,function*(){try{return{data:(yield Bn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wn(n))return{data:null,error:n};throw n}})}}class n2 extends t2{constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new r2(this.url,this.headers,t,this.fetch)}createBucket(t){const n=Object.create(null,{createBucket:{get:()=>super.createBucket}});return ce(this,void 0,void 0,function*(){return n.createBucket.call(this,t)})}getBucket(t){const n=Object.create(null,{getBucket:{get:()=>super.getBucket}});return ce(this,void 0,void 0,function*(){return n.getBucket.call(this,t)})}listBuckets(){const t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return ce(this,arguments,void 0,function*(n={}){return t.listBuckets.call(this,n)})}deleteBucket(t){const n=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return ce(this,void 0,void 0,function*(){return n.deleteBucket.call(this,t)})}}class r2 extends ZD{constructor(t,n,r,i){super(t,n,i),this.vectorBucketName=r}createIndex(t){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ce(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ce(this,arguments,void 0,function*(n={}){return t.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ce(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ce(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new i2(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class i2 extends e2{constructor(t,n,r,i,o){super(t,n,o),this.vectorBucketName=r,this.indexName=i}putVectors(t){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ce(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ce(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ce(this,arguments,void 0,function*(n={}){return t.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ce(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ce(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class ane extends Vte{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new Fte(this.url,this.headers,t,this.fetch)}get vectors(){return new n2(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new WD(this.url+"/iceberg",this.headers,this.fetch)}}const one=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:WD,StorageApiError:VD,StorageClient:ane,StorageError:Nu,StorageUnknownError:kd,StorageVectorsApiError:Nf,StorageVectorsClient:n2,StorageVectorsError:sb,get StorageVectorsErrorCode(){return o0},StorageVectorsUnknownError:XD,VectorBucketApi:t2,VectorBucketScope:r2,VectorDataApi:e2,VectorIndexApi:ZD,VectorIndexScope:i2,isPlainObject:QD,isStorageError:lt,isStorageVectorsError:wn,normalizeToFloat32:ene,resolveFetch:Ph,resolveResponse:Zte,validateVectorDimension:tne},Symbol.toStringTag,{value:"Module"})),sne=cu(one);var Lv={},Bl={},fO;function lne(){return fO||(fO=1,Object.defineProperty(Bl,"__esModule",{value:!0}),Bl.version=void 0,Bl.version="2.87.1"),Bl}var dO;function une(){return dO||(dO=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_REALTIME_OPTIONS=e.DEFAULT_AUTH_OPTIONS=e.DEFAULT_DB_OPTIONS=e.DEFAULT_GLOBAL_OPTIONS=e.DEFAULT_HEADERS=void 0;const t=lne();let n="";typeof Deno<"u"?n="deno":typeof document<"u"?n="web":typeof navigator<"u"&&navigator.product==="ReactNative"?n="react-native":n="node",e.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${n}/${t.version}`},e.DEFAULT_GLOBAL_OPTIONS={headers:e.DEFAULT_HEADERS},e.DEFAULT_DB_OPTIONS={schema:"public"},e.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},e.DEFAULT_REALTIME_OPTIONS={}})(Lv)),Lv}var qv={},hO;function cne(){return hO||(hO=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fetchWithAuth=e.resolveHeadersConstructor=e.resolveFetch=void 0;const t=i=>i?(...o)=>i(...o):(...o)=>fetch(...o);e.resolveFetch=t;const n=()=>Headers;e.resolveHeadersConstructor=n;const r=(i,o,l)=>{const u=(0,e.resolveFetch)(l),f=(0,e.resolveHeadersConstructor)();return async(d,h)=>{var m;const y=(m=await o())!==null&&m!==void 0?m:i;let b=new f(h==null?void 0:h.headers);return b.has("apikey")||b.set("apikey",i),b.has("Authorization")||b.set("Authorization",`Bearer ${y}`),u(d,Object.assign(Object.assign({},h),{headers:b}))}};e.fetchWithAuth=r})(qv)),qv}var ti={},pO;function fne(){if(pO)return ti;pO=1,Object.defineProperty(ti,"__esModule",{value:!0}),ti.isBrowser=void 0,ti.uuid=e,ti.ensureTrailingSlash=t,ti.applySettingDefaults=r,ti.validateSupabaseUrl=i;function e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(o){var l=Math.random()*16|0,u=o=="x"?l:l&3|8;return u.toString(16)})}function t(o){return o.endsWith("/")?o:o+"/"}const n=()=>typeof window<"u";ti.isBrowser=n;function r(o,l){var u,f;const{db:d,auth:h,realtime:m,global:y}=o,{db:b,auth:w,realtime:E,global:T}=l,x={db:Object.assign(Object.assign({},b),d),auth:Object.assign(Object.assign({},w),h),realtime:Object.assign(Object.assign({},E),m),storage:{},global:Object.assign(Object.assign(Object.assign({},T),y),{headers:Object.assign(Object.assign({},(u=T==null?void 0:T.headers)!==null&&u!==void 0?u:{}),(f=y==null?void 0:y.headers)!==null&&f!==void 0?f:{})}),accessToken:async()=>""};return o.accessToken?x.accessToken=o.accessToken:delete x.accessToken,x}function i(o){const l=o==null?void 0:o.trim();if(!l)throw new Error("supabaseUrl is required.");if(!l.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(t(l))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return ti}var zl={};const a2="2.87.1",Wo=30*1e3,s0=3,Bv=s0*Wo,dne="http://localhost:9999",hne="supabase.auth.token",pne={"X-Client-Info":`gotrue-js/${a2}`},l0="X-Supabase-Api-Version",o2={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},mne=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,gne=600*1e3;let bs=class extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}};function me(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}let s2=class extends bs{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}};function l2(e){return me(e)&&e.name==="AuthApiError"}let ia=class extends bs{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}},Oi=class extends bs{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}},bn=class extends Oi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function u2(e){return me(e)&&e.name==="AuthSessionMissingError"}let Da=class extends Oi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Gl=class extends Oi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},Fl=class extends Oi{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function c2(e){return me(e)&&e.name==="AuthImplicitGrantRedirectError"}let u0=class extends Oi{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Dd=class extends Oi{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}};function kf(e){return me(e)&&e.name==="AuthRetryableFetchError"}let c0=class extends Oi{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}};function vne(e){return me(e)&&e.name==="AuthWeakPasswordError"}let Ud=class extends Oi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};const Ld="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),mO=` 	
\r=`.split(""),yne=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<mO.length;t+=1)e[mO[t].charCodeAt(0)]=-2;for(let t=0;t<Ld.length;t+=1)e[Ld[t].charCodeAt(0)]=t;return e})();function gO(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Ld[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Ld[r]),t.queuedBits-=6}}function f2(e,t,n){const r=yne[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function vO(e){const t=[],n=l=>{t.push(String.fromCodePoint(l))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=l=>{Sne(l,r,n)};for(let l=0;l<e.length;l+=1)f2(e.charCodeAt(l),i,o);return t.join("")}function _ne(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function bne(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}_ne(r,t)}}function Sne(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function ss(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)f2(e.charCodeAt(i),n,r);return new Uint8Array(t)}function wne(e){const t=[];return bne(e,n=>t.push(n)),new Uint8Array(t)}function Ga(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>gO(i,n,r)),gO(null,n,r),t.join("")}function Ene(e){return Math.round(Date.now()/1e3)+e}function Tne(){return Symbol("auth-callback")}const Wt=()=>typeof window<"u"&&typeof document<"u",Pa={tested:!1,writable:!1},d2=()=>{if(!Wt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Pa.tested)return Pa.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Pa.tested=!0,Pa.writable=!0}catch{Pa.tested=!0,Pa.writable=!1}return Pa.writable};function Ane(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{t[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const h2=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),xne=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Xo=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Ia=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Jt=async(e,t)=>{await e.removeItem(t)};class Ih{constructor(){this.promise=new Ih.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Ih.promiseConstructor=Promise;function zv(e){const t=e.split(".");if(t.length!==3)throw new Ud("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!mne.test(t[r]))throw new Ud("JWT not in base64url format");return{header:JSON.parse(vO(t[0])),payload:JSON.parse(vO(t[1])),signature:ss(t[2]),raw:{header:t[0],payload:t[1]}}}async function Cne(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Rne(e,t){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const l=await e(o);if(!t(o,null,l)){r(l);return}}catch(l){if(!t(o,l)){i(l);return}}})()})}function One(e){return("0"+e.toString(16)).substr(-2)}function Pne(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,One).join("")}async function Ine(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function Mne(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await Ine(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Vo(e,t,n=!1){const r=Pne();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Xo(e,`${t}-code-verifier`,i);const o=await Mne(r);return[o,r===o?"plain":"s256"]}const Nne=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function kne(e){const t=e.headers.get(l0);if(!t||!t.match(Nne))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Dne(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Une(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Lne=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ko(e){if(!Lne.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function $v(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function qne(e,t){return new Proxy(e,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,i)}})}function yO(e){return JSON.parse(JSON.stringify(e))}const Ua=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Bne=[502,503,504];async function _O(e){var t;if(!xne(e))throw new Dd(Ua(e),0);if(Bne.includes(e.status))throw new Dd(Ua(e),e.status);let n;try{n=await e.json()}catch(o){throw new ia(Ua(o),o)}let r;const i=kne(e);if(i&&i.getTime()>=o2["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new c0(Ua(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new bn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,l)=>o&&typeof l=="string",!0))throw new c0(Ua(n),e.status,n.weak_password.reasons);throw new s2(Ua(n),e.status||500,r)}const zne=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Ee(e,t,n,r){var i;const o=Object.assign({},r==null?void 0:r.headers);o[l0]||(o[l0]=o2["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const l=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(l.redirect_to=r.redirectTo);const u=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",f=await $ne(e,t,n+u,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(f):{data:Object.assign({},f),error:null}}async function $ne(e,t,n,r,i,o){const l=zne(t,r,i,o);let u;try{u=await e(n,Object.assign({},l))}catch(f){throw console.error(f),new Dd(Ua(f),0)}if(u.ok||await _O(u),r!=null&&r.noResolveJson)return u;try{return await u.json()}catch(f){await _O(f)}}function dr(e){var t;let n=null;Gne(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Ene(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function bO(e){const t=dr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function aa(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Hne(e){return{data:e,error:null}}function jne(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=e,l=Ns(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},f=Object.assign({},l);return{data:{properties:u,user:f},error:null}}function SO(e){return e}function Gne(e){return e.access_token&&e.refresh_token&&e.expires_in}const Df=["global","local","others"];let lb=class{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=h2(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Df[0]){if(Df.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Df.join(", ")}`);try{return await Ee(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Ee(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:aa})}catch(r){if(me(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=Ns(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await Ee(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:jne,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(me(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Ee(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:aa})}catch(n){if(me(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,o,l,u,f;try{const d={nextPage:null,lastPage:0,total:0},h=await Ee(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:SO});if(h.error)throw h.error;const m=await h.json(),y=(l=h.headers.get("x-total-count"))!==null&&l!==void 0?l:0,b=(f=(u=h.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&f!==void 0?f:[];return b.length>0&&(b.forEach(w=>{const E=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(w.split(";")[1].split("=")[1]);d[`${T}Page`]=E}),d.total=parseInt(y)),{data:Object.assign(Object.assign({},m),d),error:null}}catch(d){if(me(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){Ko(t);try{return await Ee(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:aa})}catch(n){if(me(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Ko(t);try{return await Ee(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:aa})}catch(r){if(me(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Ko(t);try{return await Ee(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:aa})}catch(r){if(me(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Ko(t.userId);try{const{data:n,error:r}=await Ee(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(me(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Ko(t.userId),Ko(t.id);try{return{data:await Ee(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,o,l,u,f;try{const d={nextPage:null,lastPage:0,total:0},h=await Ee(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:SO});if(h.error)throw h.error;const m=await h.json(),y=(l=h.headers.get("x-total-count"))!==null&&l!==void 0?l:0,b=(f=(u=h.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&f!==void 0?f:[];return b.length>0&&(b.forEach(w=>{const E=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(w.split(";")[1].split("=")[1]);d[`${T}Page`]=E}),d.total=parseInt(y)),{data:Object.assign(Object.assign({},m),d),error:null}}catch(d){if(me(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(t){try{return await Ee(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(me(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await Ee(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(me(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await Ee(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(me(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await Ee(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await Ee(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(me(n))return{data:null,error:n};throw n}}};function wO(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const La={debug:!!(globalThis&&d2()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ub extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}let p2=class extends ub{};class Fne extends ub{}async function m2(e,t,n){La.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),La.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){La.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{La.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw La.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new p2(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(La.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}const EO={};async function Vne(e,t,n){var r;const i=(r=EO[e])!==null&&r!==void 0?r:Promise.resolve(),o=Promise.race([i.catch(()=>null),t>=0?new Promise((l,u)=>{setTimeout(()=>{u(new Fne(`Acquring process lock with name "${e}" timed out`))},t)}):null].filter(l=>l)).catch(l=>{if(l&&l.isAcquireTimeout)throw l;return null}).then(async()=>await n());return EO[e]=o.catch(async l=>{if(l&&l.isAcquireTimeout)return await i,null;throw l}),await o}function Kne(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function g2(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Yne(e){return parseInt(e,16)}function Jne(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function Wne(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:l,notBefore:u,requestId:f,resources:d,scheme:h,uri:m,version:y}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const b=g2(e.address),w=h?`${h}://${r}`:r,E=e.statement?`${e.statement}
`:"",T=`${w} wants you to sign in with your Ethereum account:
${b}

${E}`;let x=`URI: ${m}
Version: ${y}
Chain ID: ${n}${l?`
Nonce: ${l}`:""}
Issued At: ${o.toISOString()}`;if(i&&(x+=`
Expiration Time: ${i.toISOString()}`),u&&(x+=`
Not Before: ${u.toISOString()}`),f&&(x+=`
Request ID: ${f}`),d){let O=`
Resources:`;for(const R of d){if(!R||typeof R!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${R}`);O+=`
- ${R}`}x+=O}return`${T}
${x}`}class Tt extends Error{constructor({message:t,code:n,cause:r,name:i}){var o;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class qd extends Tt{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function Xne({error:e,options:t}){var n,r,i;const{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Tt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Tt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Tt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Tt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Tt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Tt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return o.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new Tt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Tt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const l=window.location.hostname;if(v2(l)){if(o.rp.id!==l)return new Tt({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Tt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new Tt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Tt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Tt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function Qne({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Tt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Tt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(v2(r)){if(n.rpId!==r)return new Tt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Tt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Tt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Tt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class Zne{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const ere=new Zne;function tre(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=Ns(e,["challenge","user","excludeCredentials"]),o=ss(t).buffer,l=Object.assign(Object.assign({},n),{id:ss(n.id).buffer}),u=Object.assign(Object.assign({},i),{challenge:o,user:l});if(r&&r.length>0){u.excludeCredentials=new Array(r.length);for(let f=0;f<r.length;f++){const d=r[f];u.excludeCredentials[f]=Object.assign(Object.assign({},d),{id:ss(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return u}function nre(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=Ns(e,["challenge","allowCredentials"]),i=ss(t).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];o.allowCredentials[l]=Object.assign(Object.assign({},u),{id:ss(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function rre(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Ga(new Uint8Array(e.response.attestationObject)),clientDataJSON:Ga(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function ire(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Ga(new Uint8Array(i.authenticatorData)),clientDataJSON:Ga(new Uint8Array(i.clientDataJSON)),signature:Ga(new Uint8Array(i.signature)),userHandle:i.userHandle?Ga(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function v2(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function TO(){var e,t;return!!(Wt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function are(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new qd("Browser returned unexpected credential type",t)}:{data:null,error:new qd("Empty credential response",t)}}catch(t){return{data:null,error:Xne({error:t,options:e})}}}async function ore(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new qd("Browser returned unexpected credential type",t)}:{data:null,error:new qd("Empty credential response",t)}}catch(t){return{data:null,error:Qne({error:t,options:e})}}}const sre={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},lre={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Bd(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const o in i){const l=i[o];if(l!==void 0)if(Array.isArray(l))r[o]=l;else if(n(l))r[o]=l;else if(t(l)){const u=r[o];t(u)?r[o]=Bd(u,l):r[o]=Bd(l)}else r[o]=l}return r}function ure(e,t){return Bd(sre,e,t||{})}function cre(e,t){return Bd(lre,e,t||{})}class fre{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},o){try{const{data:l,error:u}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!l)return{data:null,error:u};const f=i??ere.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:d}=l.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${r}`),d.displayName||(d.displayName=d.name)}switch(l.webauthn.type){case"create":{const d=ure(l.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:h,error:m}=await are({publicKey:d,signal:f});return h?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:h}},error:null}:{data:null,error:m}}case"request":{const d=cre(l.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:h,error:m}=await ore(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:d,signal:f}));return h?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:h}},error:null}:{data:null,error:m}}}}catch(l){return me(l)?{data:null,error:l}:{data:null,error:new ia("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new bs("rpId is required for WebAuthn authentication")};try{if(!TO())return{data:null,error:new ia("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:o});if(!l)return{data:null,error:u};const{webauthn:f}=l;return this._verify({factorId:t,challengeId:l.challengeId,webauthn:{type:f.type,rpId:n,rpOrigins:r,credential_response:f.credential_response}})}catch(l){return me(l)?{data:null,error:l}:{data:null,error:new ia("Unexpected error in authenticate",l)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new bs("rpId is required for WebAuthn registration")};try{if(!TO())return{data:null,error:new ia("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this._enroll({friendlyName:t});if(!l)return await this.client.mfa.listFactors().then(h=>{var m;return(m=h.data)===null||m===void 0?void 0:m.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===t&&y.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h==null?void 0:h.id}):void 0),{data:null,error:u};const{data:f,error:d}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:o});return f?this._verify({factorId:l.id,challengeId:f.challengeId,webauthn:{rpId:n,rpOrigins:r,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:d}}catch(l){return me(l)?{data:null,error:l}:{data:null,error:new ia("Unexpected error in register",l)}}}}Kne();const dre={url:dne,storageKey:hne,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:pne,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function AO(e,t,n){return await n()}const Yo={};let cb=class f0{get jwks(){var t,n;return(n=(t=Yo[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Yo[this.storageKey]=Object.assign(Object.assign({},Yo[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Yo[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Yo[this.storageKey]=Object.assign(Object.assign({},Yo[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},dre),t);if(this.storageKey=o.storageKey,this.instanceID=(n=f0.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,f0.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&Wt()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new lb({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=h2(o.fetch),this.lock=o.lock||AO,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,o.lock?this.lock=o.lock:this.persistSession&&Wt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=m2:this.lock=AO,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new fre(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:d2()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=wO(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=wO(this.memoryStorage)),Wt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${a2}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(Wt()&&(n=Ane(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),Wt()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),c2(o)){const f=(t=o.details)===null||t===void 0?void 0:t.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:l,redirectType:u}=i;return this._debug("#_initialize()","detected session in URL",l,"redirect type",u),await this._saveSession(l),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return me(n)?this._returnResult({error:n}):this._returnResult({error:new ia("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const o=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:dr}),{data:l,error:u}=o;if(u||!l)return this._returnResult({data:{user:null,session:null},error:u});const f=l.session,d=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:d,session:f},error:null})}catch(o){if(me(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(t){var n,r,i;try{let o;if("email"in t){const{email:h,password:m,options:y}=t;let b=null,w=null;this.flowType==="pkce"&&([b,w]=await Vo(this.storage,this.storageKey)),o=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y==null?void 0:y.emailRedirectTo,body:{email:h,password:m,data:(n=y==null?void 0:y.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:b,code_challenge_method:w},xform:dr})}else if("phone"in t){const{phone:h,password:m,options:y}=t;o=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:m,data:(r=y==null?void 0:y.data)!==null&&r!==void 0?r:{},channel:(i=y==null?void 0:y.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken}},xform:dr})}else throw new Gl("You must provide either an email or phone number and a password");const{data:l,error:u}=o;if(u||!l)return await Jt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:u});const f=l.session,d=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:d,session:f},error:null})}catch(o){if(await Jt(this.storage,`${this.storageKey}-code-verifier`),me(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:l,options:u}=t;n=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:bO})}else if("phone"in t){const{phone:o,password:l,options:u}=t;n=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:bO})}else throw new Gl("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const o=new Da;return this._returnResult({data:{user:null,session:null},error:o})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(me(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,i,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,o,l,u,f,d,h,m,y;let b,w;if("message"in t)b=t.message,w=t.signature;else{const{chain:E,wallet:T,statement:x,options:O}=t;let R;if(Wt())if(typeof T=="object")R=T;else{const G=window;if("ethereum"in G&&typeof G.ethereum=="object"&&"request"in G.ethereum&&typeof G.ethereum.request=="function")R=G.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!(O!=null&&O.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=T}const M=new URL((n=O==null?void 0:O.url)!==null&&n!==void 0?n:window.location.href),I=await R.request({method:"eth_requestAccounts"}).then(G=>G).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!I||I.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const N=g2(I[0]);let U=(r=O==null?void 0:O.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!U){const G=await R.request({method:"eth_chainId"});U=Yne(G)}const X={domain:M.host,address:N,statement:x,uri:M.href,version:"1",chainId:U,nonce:(i=O==null?void 0:O.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(l=(o=O==null?void 0:O.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(u=O==null?void 0:O.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(f=O==null?void 0:O.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(d=O==null?void 0:O.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(h=O==null?void 0:O.signInWithEthereum)===null||h===void 0?void 0:h.resources};b=Wne(X),w=await R.request({method:"personal_sign",params:[Jne(b),N]})}try{const{data:E,error:T}=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:w},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:dr});if(T)throw T;if(!E||!E.session||!E.user){const x=new Da;return this._returnResult({data:{user:null,session:null},error:x})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:T})}catch(E){if(me(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async signInWithSolana(t){var n,r,i,o,l,u,f,d,h,m,y,b;let w,E;if("message"in t)w=t.message,E=t.signature;else{const{chain:T,wallet:x,statement:O,options:R}=t;let M;if(Wt())if(typeof x=="object")M=x;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))M=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(R!=null&&R.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=x}const I=new URL((n=R==null?void 0:R.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in M&&M.signIn){const N=await M.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},R==null?void 0:R.signInWithSolana),{version:"1",domain:I.host,uri:I.href}),O?{statement:O}:null));let U;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")U=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)U=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in U&&"signature"in U&&(typeof U.signedMessage=="string"||U.signedMessage instanceof Uint8Array)&&U.signature instanceof Uint8Array)w=typeof U.signedMessage=="string"?U.signedMessage:new TextDecoder().decode(U.signedMessage),E=U.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in M)||typeof M.signMessage!="function"||!("publicKey"in M)||typeof M!="object"||!M.publicKey||!("toBase58"in M.publicKey)||typeof M.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${I.host} wants you to sign in with your Solana account:`,M.publicKey.toBase58(),...O?["",O,""]:[""],"Version: 1",`URI: ${I.href}`,`Issued At: ${(i=(r=R==null?void 0:R.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=R==null?void 0:R.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${R.signInWithSolana.notBefore}`]:[],...!((l=R==null?void 0:R.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${R.signInWithSolana.expirationTime}`]:[],...!((u=R==null?void 0:R.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${R.signInWithSolana.chainId}`]:[],...!((f=R==null?void 0:R.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${R.signInWithSolana.nonce}`]:[],...!((d=R==null?void 0:R.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${R.signInWithSolana.requestId}`]:[],...!((m=(h=R==null?void 0:R.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||m===void 0)&&m.length?["Resources",...R.signInWithSolana.resources.map(U=>`- ${U}`)]:[]].join(`
`);const N=await M.signMessage(new TextEncoder().encode(w),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=N}}try{const{data:T,error:x}=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:Ga(E)},!((y=t.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(b=t.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:dr});if(x)throw x;if(!T||!T.session||!T.user){const O=new Da;return this._returnResult({data:{user:null,session:null},error:O})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:x})}catch(T){if(me(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async _exchangeCodeForSession(t){const n=await Ia(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:o,error:l}=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:dr});if(await Jt(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!o||!o.session||!o.user){const u=new Da;return this._returnResult({data:{user:null,session:null,redirectType:null},error:u})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:l})}catch(o){if(await Jt(this.storage,`${this.storageKey}-code-verifier`),me(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:o,nonce:l}=t,u=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:o,nonce:l,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:dr}),{data:f,error:d}=u;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!f||!f.session||!f.user){const h=new Da;return this._returnResult({data:{user:null,session:null},error:h})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:f,error:d})}catch(n){if(me(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,i,o,l;try{if("email"in t){const{email:u,options:f}=t;let d=null,h=null;this.flowType==="pkce"&&([d,h]=await Vo(this.storage,this.storageKey));const{error:m}=await Ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},create_user:(r=f==null?void 0:f.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:d,code_challenge_method:h},redirectTo:f==null?void 0:f.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}if("phone"in t){const{phone:u,options:f}=t,{data:d,error:h}=await Ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(i=f==null?void 0:f.data)!==null&&i!==void 0?i:{},create_user:(o=f==null?void 0:f.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},channel:(l=f==null?void 0:f.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:h})}throw new Gl("You must provide either an email or phone number.")}catch(u){if(await Jt(this.storage,`${this.storageKey}-code-verifier`),me(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async verifyOtp(t){var n,r;try{let i,o;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:u}=await Ee(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:dr});if(u)throw u;if(!l)throw new Error("An error occurred on token verification.");const f=l.session,d=l.user;return f!=null&&f.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),this._returnResult({data:{user:d,session:f},error:null})}catch(i){if(me(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var n,r,i,o,l;try{let u=null,f=null;this.flowType==="pkce"&&([u,f]=await Vo(this.storage,this.storageKey));const d=await Ee(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:f}),headers:this.headers,xform:Hne});return!((o=d.data)===null||o===void 0)&&o.url&&Wt()&&!(!((l=t.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(d.data.url),this._returnResult(d)}catch(u){if(await Jt(this.storage,`${this.storageKey}-code-verifier`),me(u))return this._returnResult({data:null,error:u});throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new bn;const{error:i}=await Ee(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(me(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:o}=t,{error:l}=await Ee(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in t){const{phone:r,type:i,options:o}=t,{data:l,error:u}=await Ee(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:u})}throw new Gl("You must provide either an email or phone number and a type")}catch(n){if(me(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Ia(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Bv:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const l=await Ia(this.userStorage,this.storageKey+"-user");l!=null&&l.user?t.user=l.user:t.user=$v()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};t.user=qne(t.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await Ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:aa}):await this._useSession(async n=>{var r,i,o;const{data:l,error:u}=n;if(u)throw u;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new bn}:await Ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:aa})})}catch(n){if(me(n))return u2(n)&&(await this._removeSession(),await Jt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:o}=r;if(o)throw o;if(!i.session)throw new bn;const l=i.session;let u=null,f=null;this.flowType==="pkce"&&t.email!=null&&([u,f]=await Vo(this.storage,this.storageKey));const{data:d,error:h}=await Ee(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:u,code_challenge_method:f}),jwt:l.access_token,xform:aa});if(h)throw h;return l.user=d.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(r){if(await Jt(this.storage,`${this.storageKey}-code-verifier`),me(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new bn;const n=Date.now()/1e3;let r=n,i=!0,o=null;const{payload:l}=zv(t.access_token);if(l.exp&&(r=l.exp,i=r<=n),i){const{data:u,error:f}=await this._callRefreshToken(t.refresh_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!u)return{data:{user:null,session:null},error:null};o=u}else{const{data:u,error:f}=await this._getUser(t.access_token);if(f)throw f;o={access_token:t.access_token,refresh_token:t.refresh_token,user:u.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(n){if(me(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:l,error:u}=n;if(u)throw u;t=(r=l.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new bn;const{data:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(me(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!Wt())throw new Fl("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Fl(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new u0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Fl("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new u0("No code detected.");const{data:O,error:R}=await this._exchangeCodeForSession(t.code);if(R)throw R;const M=new URL(window.location.href);return M.searchParams.delete("code"),window.history.replaceState(window.history.state,"",M.toString()),{data:{session:O.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:o,refresh_token:l,expires_in:u,expires_at:f,token_type:d}=t;if(!o||!u||!l||!d)throw new Fl("No session defined in URL");const h=Math.round(Date.now()/1e3),m=parseInt(u);let y=h+m;f&&(y=parseInt(f));const b=y-h;b*1e3<=Wo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${m}s`);const w=y-m;h-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,y,h):h-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,y,h);const{data:E,error:T}=await this._getUser(o);if(T)throw T;const x={provider_token:r,provider_refresh_token:i,access_token:o,expires_in:m,expires_at:y,refresh_token:l,token_type:d,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:x,redirectType:t.type},error:null})}catch(r){if(me(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Ia(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({error:o});const l=(r=i.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:u}=await this.admin.signOut(l,t);if(u&&!(l2(u)&&(u.status===404||u.status===401||u.status===403)))return this._returnResult({error:u})}return t!=="others"&&(await this._removeSession(),await Jt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=Tne(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:o},error:l}=n;if(l)throw l;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Vo(this.storage,this.storageKey,!0));try{return await Ee(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(await Jt(this.storage,`${this.storageKey}-code-verifier`),me(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(me(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async o=>{var l,u,f,d,h;const{data:m,error:y}=o;if(y)throw y;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(u=t.options)===null||u===void 0?void 0:u.scopes,queryParams:(f=t.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await Ee(this.fetch,"GET",b,{headers:this.headers,jwt:(h=(d=m.session)===null||d===void 0?void 0:d.access_token)!==null&&h!==void 0?h:void 0})});if(i)throw i;return Wt()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:t.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(me(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:o}}=n;if(i)throw i;const{options:l,provider:u,token:f,access_token:d,nonce:h}=t,m=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=o==null?void 0:o.access_token)!==null&&r!==void 0?r:void 0,body:{provider:u,id_token:f,access_token:d,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:dr}),{data:y,error:b}=m;return b?this._returnResult({data:{user:null,session:null},error:b}):!y||!y.session||!y.user?this._returnResult({data:{user:null,session:null},error:new Da}):(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("USER_UPDATED",y.session)),this._returnResult({data:y,error:b}))}catch(i){if(await Jt(this.storage,`${this.storageKey}-code-verifier`),me(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:o,error:l}=n;if(l)throw l;return await Ee(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(me(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Rne(async i=>(i>0&&await Cne(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Ee(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:dr})),(i,o)=>{const l=200*Math.pow(2,i);return o&&kf(o)&&Date.now()+l-r<Wo})}catch(r){if(this._debug(n,"error",r),me(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Wt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Ia(this.storage,this.storageKey);if(i&&this.userStorage){let l=await Ia(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:i.user},await Xo(this.userStorage,this.storageKey+"-user",l)),i.user=(t=l==null?void 0:l.user)!==null&&t!==void 0?t:$v()}else if(i&&!i.user&&!i.user){const l=await Ia(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(i.user=l.user,await Jt(this.storage,this.storageKey+"-user"),await Xo(this.storage,this.storageKey,i)):i.user=$v()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const o=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Bv;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${Bv}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:l}=await this._callRefreshToken(i.refresh_token);l&&(console.error(l),kf(l)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:u}=await this._getUser(i.access_token);!u&&(l!=null&&l.user)?(i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(r,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new bn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Ih;const{data:o,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!o.session)throw new bn;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const u={data:o.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(o){if(this._debug(i,"error",o),me(o)){const l={data:null,error:o};return kf(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],l=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(t,n)}catch(f){o.push(f)}});if(await Promise.all(l),o.length>0){for(let u=0;u<o.length;u+=1)console.error(o[u]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Jt(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Xo(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const o=yO(i);await Xo(this.storage,this.storageKey,o)}else{const i=yO(n);await Xo(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Jt(this.storage,this.storageKey),await Jt(this.storage,this.storageKey+"-code-verifier"),await Jt(this.storage,this.storageKey+"-user"),this.userStorage&&await Jt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Wt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Wo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/Wo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Wo}ms, refresh threshold is ${s0} ticks`),i<=s0&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof ub)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Wt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,l]=await Vo(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(l)}`});i.push(u.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);i.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;return o?this._returnResult({data:null,error:o}):await Ee(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(me(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:o,error:l}=n;if(l)return this._returnResult({data:null,error:l});const u=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:f,error:d}=await Ee(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return d?this._returnResult({data:null,error:d}):(t.factorType==="totp"&&f.type==="totp"&&(!((i=f==null?void 0:f.totp)===null||i===void 0)&&i.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),this._returnResult({data:f,error:null}))})}catch(n){if(me(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?rre(t.webauthn.credential_response):ire(t.webauthn.credential_response)})}:{code:t.code}),{data:u,error:f}=await Ee(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return f?this._returnResult({data:null,error:f}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),this._returnResult({data:u,error:f}))})}catch(n){if(me(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const l=await Ee(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(l.error)return l;const{data:u}=l;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:tre(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:nre(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(me(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const o of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])i.all.push(o),o.status==="verified"&&i[o.factor_type].push(o);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=zv(r.access_token);let l=null;o.aal&&(l=o.aal);let u=l;((n=(t=r.user.factors)===null||t===void 0?void 0:t.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(u="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:u,currentAuthenticationMethods:d},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await Ee(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new bn})})}catch(n){if(me(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new bn});const l=await Ee(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:u=>({data:u,error:null})});return l.data&&l.data.redirect_url&&Wt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(r){if(me(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new bn});const l=await Ee(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:u=>({data:u,error:null})});return l.data&&l.data.redirect_url&&Wt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(r){if(me(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await Ee(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new bn})})}catch(t){if(me(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await Ee(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new bn})})}catch(n){if(me(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(u=>u.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(u=>u.kid===t),r&&this.jwks_cached_at+gne>i)return r;const{data:o,error:l}=await Ee(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,r=o.keys.find(u=>u.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:b,error:w}=await this.getSession();if(w||!b.session)return this._returnResult({data:null,error:w});r=b.session.access_token}const{header:i,payload:o,signature:l,raw:{header:u,payload:f}}=zv(r);n!=null&&n.allowExpired||Dne(o.exp);const d=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!d){const{error:b}=await this.getUser(r);if(b)throw b;return{data:{claims:o,header:i,signature:l},error:null}}const h=Une(i.alg),m=await crypto.subtle.importKey("jwk",d,h,!0,["verify"]);if(!await crypto.subtle.verify(h,m,l,wne(`${u}.${f}`)))throw new Ud("Invalid JWT signature");return{data:{claims:o,header:i,signature:l},error:null}}catch(r){if(me(r))return this._returnResult({data:null,error:r});throw r}}};cb.nextInstanceID={};const hre=lb,pre=cb,mre=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:hre,AuthApiError:s2,AuthClient:pre,AuthError:bs,AuthImplicitGrantRedirectError:Fl,AuthInvalidCredentialsError:Gl,AuthInvalidJwtError:Ud,AuthInvalidTokenResponseError:Da,AuthPKCEGrantCodeExchangeError:u0,AuthRetryableFetchError:Dd,AuthSessionMissingError:bn,AuthUnknownError:ia,AuthWeakPasswordError:c0,CustomAuthError:Oi,GoTrueAdminApi:lb,GoTrueClient:cb,NavigatorLockAcquireTimeoutError:p2,SIGN_OUT_SCOPES:Df,isAuthApiError:l2,isAuthError:me,isAuthImplicitGrantRedirectError:c2,isAuthRetryableFetchError:kf,isAuthSessionMissingError:u2,isAuthWeakPasswordError:vne,lockInternals:La,navigatorLock:m2,processLock:Vne},Symbol.toStringTag,{value:"Module"})),y2=cu(mre);var xO;function gre(){if(xO)return zl;xO=1,Object.defineProperty(zl,"__esModule",{value:!0}),zl.SupabaseAuthClient=void 0;const e=y2;let t=class extends e.AuthClient{constructor(r){super(r)}};return zl.SupabaseAuthClient=t,zl}var CO;function RO(){if(CO)return gf;CO=1,Object.defineProperty(gf,"__esModule",{value:!0});const e=ID,t=LD(),n=FD,r=sne,i=une(),o=cne(),l=fne(),u=gre();class f{constructor(h,m,y){var b,w,E;this.supabaseUrl=h,this.supabaseKey=m;const T=(0,l.validateSupabaseUrl)(h);if(!m)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",T),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",T),this.storageUrl=new URL("storage/v1",T),this.functionsUrl=new URL("functions/v1",T);const x=`sb-${T.hostname.split(".")[0]}-auth-token`,O={db:i.DEFAULT_DB_OPTIONS,realtime:i.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},i.DEFAULT_AUTH_OPTIONS),{storageKey:x}),global:i.DEFAULT_GLOBAL_OPTIONS},R=(0,l.applySettingDefaults)(y??{},O);this.storageKey=(b=R.auth.storageKey)!==null&&b!==void 0?b:"",this.headers=(w=R.global.headers)!==null&&w!==void 0?w:{},R.accessToken?(this.accessToken=R.accessToken,this.auth=new Proxy({},{get:(M,I)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(I)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((E=R.auth)!==null&&E!==void 0?E:{},this.headers,R.global.fetch),this.fetch=(0,o.fetchWithAuth)(m,this._getAccessToken.bind(this),R.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},R.realtime)),this.accessToken&&this.accessToken().then(M=>this.realtime.setAuth(M)).catch(M=>console.warn("Failed to set initial Realtime auth token:",M)),this.rest=new t.PostgrestClient(new URL("rest/v1",T).href,{headers:this.headers,schema:R.db.schema,fetch:this.fetch}),this.storage=new r.StorageClient(this.storageUrl.href,this.headers,this.fetch,y==null?void 0:y.storage),R.accessToken||this._listenForAuthEvents()}get functions(){return new e.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(h){return this.rest.from(h)}schema(h){return this.rest.schema(h)}rpc(h,m={},y={head:!1,get:!1,count:void 0}){return this.rest.rpc(h,m,y)}channel(h,m={config:{}}){return this.realtime.channel(h,m)}getChannels(){return this.realtime.getChannels()}removeChannel(h){return this.realtime.removeChannel(h)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var h,m;if(this.accessToken)return await this.accessToken();const{data:y}=await this.auth.getSession();return(m=(h=y.session)===null||h===void 0?void 0:h.access_token)!==null&&m!==void 0?m:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:h,persistSession:m,detectSessionInUrl:y,storage:b,userStorage:w,storageKey:E,flowType:T,lock:x,debug:O,throwOnError:R},M,I){const N={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new u.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},N),M),storageKey:E,autoRefreshToken:h,persistSession:m,detectSessionInUrl:y,storage:b,userStorage:w,flowType:T,lock:x,debug:O,throwOnError:R,fetch:I,hasCustomAuthorizationHeader:Object.keys(this.headers).some(U=>U.toLowerCase()==="authorization")})}_initRealtimeClient(h){return new n.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},h),{params:Object.assign({apikey:this.supabaseKey},h==null?void 0:h.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((m,y)=>{this._handleTokenChanged(m,"CLIENT",y==null?void 0:y.access_token)})}_handleTokenChanged(h,m,y){(h==="TOKEN_REFRESHED"||h==="SIGNED_IN")&&this.changedAccessToken!==y?(this.changedAccessToken=y,this.realtime.setAuth(y)):h==="SIGNED_OUT"&&(this.realtime.setAuth(),m=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return gf.default=f,gf}var OO;function vre(){return OO||(OO=1,(function(e){var t=ei&&ei.__createBinding||(Object.create?(function(h,m,y,b){b===void 0&&(b=y);var w=Object.getOwnPropertyDescriptor(m,y);(!w||("get"in w?!m.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return m[y]}}),Object.defineProperty(h,b,w)}):(function(h,m,y,b){b===void 0&&(b=y),h[b]=m[y]})),n=ei&&ei.__exportStar||function(h,m){for(var y in h)y!=="default"&&!Object.prototype.hasOwnProperty.call(m,y)&&t(m,h,y)},r=ei&&ei.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(e,"__esModule",{value:!0}),e.createClient=e.SupabaseClient=e.FunctionRegion=e.FunctionsError=e.FunctionsRelayError=e.FunctionsFetchError=e.FunctionsHttpError=e.PostgrestError=void 0;const i=r(RO());n(y2,e);var o=LD();Object.defineProperty(e,"PostgrestError",{enumerable:!0,get:function(){return o.PostgrestError}});var l=ID;Object.defineProperty(e,"FunctionsHttpError",{enumerable:!0,get:function(){return l.FunctionsHttpError}}),Object.defineProperty(e,"FunctionsFetchError",{enumerable:!0,get:function(){return l.FunctionsFetchError}}),Object.defineProperty(e,"FunctionsRelayError",{enumerable:!0,get:function(){return l.FunctionsRelayError}}),Object.defineProperty(e,"FunctionsError",{enumerable:!0,get:function(){return l.FunctionsError}}),Object.defineProperty(e,"FunctionRegion",{enumerable:!0,get:function(){return l.FunctionRegion}}),n(FD,e);var u=RO();Object.defineProperty(e,"SupabaseClient",{enumerable:!0,get:function(){return r(u).default}});const f=(h,m,y)=>new i.default(h,m,y);e.createClient=f;function d(){if(typeof window<"u"||typeof process>"u")return!1;const h=process.version;if(h==null)return!1;const m=h.match(/^v(\d+)\./);return m?parseInt(m[1],10)<=18:!1}d()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(ei)),ei}var _2=vre();const b2=wr(_2),yre=MO({__proto__:null,default:b2},[_2]),{PostgrestError:Aie,FunctionsHttpError:xie,FunctionsFetchError:Cie,FunctionsRelayError:Rie,FunctionsError:Oie,FunctionRegion:Pie,SupabaseClient:Iie,createClient:_re,GoTrueAdminApi:Mie,GoTrueClient:Nie,AuthAdminApi:kie,AuthClient:Die,navigatorLock:Uie,NavigatorLockAcquireTimeoutError:Lie,lockInternals:qie,processLock:Bie,SIGN_OUT_SCOPES:zie,AuthError:$ie,AuthApiError:Hie,AuthUnknownError:jie,CustomAuthError:Gie,AuthSessionMissingError:Fie,AuthInvalidTokenResponseError:Vie,AuthInvalidCredentialsError:Kie,AuthImplicitGrantRedirectError:Yie,AuthPKCEGrantCodeExchangeError:Jie,AuthRetryableFetchError:Wie,AuthWeakPasswordError:Xie,AuthInvalidJwtError:Qie,isAuthError:Zie,isAuthApiError:eae,isAuthSessionMissingError:tae,isAuthImplicitGrantRedirectError:nae,isAuthRetryableFetchError:rae,isAuthWeakPasswordError:iae,RealtimePresence:aae,RealtimeChannel:oae,RealtimeClient:sae,REALTIME_LISTEN_TYPES:lae,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:uae,REALTIME_PRESENCE_LISTEN_EVENTS:cae,REALTIME_SUBSCRIBE_STATES:fae,REALTIME_CHANNEL_STATES:dae}=b2||yre,bre="https://vymuqqurruditcjkmvtd.supabase.co",Sre="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZ5bXVxcXVycnVkaXRjamttdnRkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU0OTk4MDAsImV4cCI6MjA4MTA3NTgwMH0.ggkRdTX8LtOjcj-6Qe7TrogxP6M9rpIQjcljXa8Qpg",ft=_re(bre,Sre),wre=e=>({id:e.id,date:e.logged_at??e.created_at,itemName:e.item_name,cost:e.cost??0,quantityUsed:e.quantity_used,reason:e.reason,dishName:e.dish_name??void 0,unit:e.unit??void 0,notes:e.notes??void 0});function S2(e){const[t,n]=C.useState([]),[r,i]=C.useState(!1),[o,l]=C.useState(null),u=C.useCallback(async()=>{if(!e){n([]);return}i(!0),l(null);const{data:m,error:y}=await ft.from("consumption_logs").select("*").eq("user_id",e).order("logged_at",{ascending:!1});y?(l(y.message),n([])):n(m.map(wre)),i(!1)},[e]);C.useEffect(()=>{u()},[u]),C.useEffect(()=>{if(!e)return;const m=ft.channel("consumption_logs_changes").on("postgres_changes",{event:"*",schema:"public",table:"consumption_logs",filter:`user_id=eq.${e}`},()=>{u()}).subscribe();return()=>{ft.removeChannel(m)}},[u,e]);const f=C.useCallback(async m=>{if(!e){const b=new Error("Ingen anvndare inloggad.");throw l(b.message),b}const{error:y}=await ft.from("consumption_logs").insert({user_id:e,logged_at:m.date,item_name:m.itemName,cost:m.cost,quantity_used:m.quantityUsed,unit:m.unit??null,reason:m.reason,dish_name:m.dishName??null,notes:m.notes??null});if(y)throw l(y.message),y;l(null),await u()},[e,u]),d=C.useCallback(async(m,y)=>{if(!e){const E=new Error("Ingen anvndare inloggad.");throw l(E.message),E}const b={...y.date?{logged_at:y.date}:{},...y.itemName?{item_name:y.itemName}:{},...y.cost!==void 0?{cost:y.cost}:{},...y.quantityUsed!==void 0?{quantity_used:y.quantityUsed}:{},...y.unit!==void 0?{unit:y.unit}:{},...y.reason?{reason:y.reason}:{},...y.dishName!==void 0?{dish_name:y.dishName}:{},...y.notes!==void 0?{notes:y.notes}:{}},{error:w}=await ft.from("consumption_logs").update(b).eq("id",m).eq("user_id",e);if(w)throw l(w.message),w;l(null),await u()},[e,u]),h=C.useCallback(async m=>{if(!e){const b=new Error("Ingen anvndare inloggad.");throw l(b.message),b}const{error:y}=await ft.from("consumption_logs").delete().eq("id",m).eq("user_id",e);if(y)throw l(y.message),y;l(null),await u()},[e,u]);return{logs:t,loading:r,error:o,refresh:u,addLog:f,updateLog:d,deleteLog:h}}const PO=e=>({id:e.id,userId:e.user_id,dishName:e.dish_name,createdAt:e.created_at,totalCost:e.total_cost,notes:e.notes??void 0}),IO=e=>({id:e.id,sessionId:e.session_id,itemName:e.item_name,quantityUsed:e.quantity_used,unit:e.unit,cost:e.cost});function w2(e){const[t,n]=C.useState([]),[r,i]=C.useState(!1),[o,l]=C.useState(null),u=C.useCallback(async()=>{if(!e){n([]);return}i(!0),l(null);const{data:m,error:y}=await ft.from("cooking_sessions").select("*").eq("user_id",e).order("created_at",{ascending:!1});if(y){l(y.message),n([]),i(!1);return}const b=await Promise.all(m.map(async w=>{const{data:E,error:T}=await ft.from("cooking_session_items").select("*").eq("session_id",w.id),x=T?[]:E.map(IO);return{...PO(w),items:x}}));n(b),i(!1)},[e]);C.useEffect(()=>{u()},[u]);const f=C.useCallback(async m=>{if(!e)throw new Error("Ingen anvndare inloggad.");const{data:y,error:b}=await ft.from("cooking_sessions").insert({user_id:e,dish_name:m.dishName,total_cost:m.totalCost,notes:m.notes??null}).select("id").single();if(b)throw l(b.message),b;return l(null),await u(),y.id},[e,u]),d=C.useCallback(async m=>{if(!e)throw new Error("Ingen anvndare inloggad.");const{error:y}=await ft.from("cooking_session_items").insert({session_id:m.sessionId,item_name:m.itemName,quantity_used:m.quantityUsed,unit:m.unit,cost:m.cost});if(y)throw l(y.message),y;l(null)},[e]),h=C.useCallback(async m=>{const{data:y,error:b}=await ft.from("cooking_sessions").select("*").eq("id",m).single();if(b)return l(b.message),null;const{data:w,error:E}=await ft.from("cooking_session_items").select("*").eq("session_id",m);if(E)return l(E.message),null;const T=PO(y),x=w.map(IO);return{...T,items:x}},[]);return{sessions:t,loading:r,error:o,refresh:u,createSession:f,addSessionItem:d,getSessionWithItems:h}}const Ere=()=>new Date().toISOString().slice(0,16),E2=({isOpen:e,onClose:t,onSubmit:n,initialValues:r})=>{const[i,o]=C.useState(()=>r?{date:r.date,itemName:r.itemName,cost:r.cost,quantityUsed:r.quantityUsed,reason:r.reason,dishName:r.dishName,unit:r.unit,notes:r.notes}:{date:new Date().toISOString(),itemName:"",cost:0,quantityUsed:0,reason:"snack",dishName:void 0,unit:void 0,notes:void 0}),[l,u]=C.useState(!1),[f,d]=C.useState(null);if(!e)return null;const h=(y,b)=>{o(w=>({...w,[y]:y==="cost"||y==="quantityUsed"?Number(b):b||void 0}))},m=async y=>{if(y.preventDefault(),!i.itemName.trim()){d("Ange ett namn.");return}u(!0),d(null);try{await n({...i,date:i.date||new Date().toISOString()}),t(),o({date:new Date().toISOString(),itemName:"",cost:0,quantityUsed:0,reason:"snack",dishName:void 0,unit:void 0,notes:void 0})}catch(b){d(b instanceof Error?b.message:"Kunde inte spara.")}u(!1)};return k.jsx("div",{className:"fixed inset-0 z-40 bg-black/40 flex items-center justify-center px-4",children:k.jsxs("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-lg p-6 space-y-4",children:[k.jsxs("div",{className:"flex justify-between items-center",children:[k.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:r?"Redigera logg":"Logga frbrukning"}),k.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:""})]}),k.jsxs("form",{className:"space-y-3",onSubmit:m,children:[k.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Datum & tid",k.jsx("input",{type:"datetime-local",defaultValue:r?new Date(r.date).toISOString().slice(0,16):Ere(),onChange:y=>h("date",new Date(y.target.value).toISOString()),className:"mt-1 w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-1 focus:ring-emerald-500",required:!0})]}),k.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Namn p vara eller rtt",k.jsx("input",{type:"text",value:i.itemName,onChange:y=>h("itemName",y.target.value),className:"mt-1 w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-1 focus:ring-emerald-500",placeholder:"Ex. Potatissallad",required:!0})]}),k.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[k.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Kostnad (kr)",k.jsx("input",{type:"number",min:"0",step:"0.1",value:i.cost,onChange:y=>h("cost",y.target.value),className:"mt-1 w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-1 focus:ring-emerald-500"})]}),k.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Mngd",k.jsx("input",{type:"number",min:"0",step:"0.1",value:i.quantityUsed,onChange:y=>h("quantityUsed",y.target.value),className:"mt-1 w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-1 focus:ring-emerald-500"})]})]}),k.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Enhet",k.jsx("input",{type:"text",value:i.unit??"",onChange:y=>h("unit",y.target.value),className:"mt-1 w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-1 focus:ring-emerald-500",placeholder:"Ex. g, st"})]}),k.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Anledning",k.jsxs("select",{value:i.reason,onChange:y=>h("reason",y.target.value),className:"mt-1 w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-1 focus:ring-emerald-500",children:[k.jsx("option",{value:"cooked",children:"Matlagning"}),k.jsx("option",{value:"expired",children:"Utgnget"}),k.jsx("option",{value:"snack",children:"Annat"})]})]}),k.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Rtt",k.jsx("input",{type:"text",value:i.dishName??"",onChange:y=>h("dishName",y.target.value),className:"mt-1 w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-1 focus:ring-emerald-500",placeholder:"Ex. Middag med lax"})]}),k.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Anteckningar",k.jsx("textarea",{value:i.notes??"",onChange:y=>h("notes",y.target.value),className:"mt-1 w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-1 focus:ring-emerald-500",rows:2})]}),f&&k.jsx("p",{className:"text-sm text-red-600",children:f}),k.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[k.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 rounded-md bg-gray-100 text-gray-600 hover:bg-gray-200",children:"Avbryt"}),k.jsx("button",{type:"submit",disabled:l,className:"px-4 py-2 rounded-md bg-emerald-600 text-white font-medium hover:bg-emerald-500 disabled:opacity-60",children:l?"Sparar...":"Spara logg"})]})]})]})})},Tre=({userId:e})=>{const{logs:t,loading:n,error:r,deleteLog:i,updateLog:o}=S2(e),{sessions:l,loading:u,error:f}=w2(e),[d,h]=C.useState(null),[m,y]=C.useState(!1),[b,w]=C.useState(null),E=n||u,T=r||f,x=I=>{h(I),y(!0)},O=async I=>{if(confirm("r du sker p att du vill ta bort denna logg?"))try{await i(I)}catch(N){alert("Kunde inte ta bort loggen: "+N.message)}},R=async I=>{if(d)try{await o(d.id,I),y(!1),h(null)}catch(N){alert("Kunde inte uppdatera loggen: "+N.message)}},M=I=>{switch(I){case"cooked":return"Matlagning";case"expired":return"Utgnget";case"snack":return"Annat";default:return I}};return E?k.jsx("div",{className:"flex items-center justify-center py-16 text-gray-500",children:"Hmtar historik..."}):T?k.jsx("div",{className:"mx-4 my-3 rounded-md bg-red-50 border border-red-200 p-3 text-sm text-red-700",children:T}):k.jsxs("div",{className:"p-4 pb-24 space-y-6",children:[k.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Frbrukningshistorik"}),t.length===0&&l.length===0?k.jsx("p",{className:"text-gray-400 text-sm",children:"Ingen historik n."}):k.jsxs("div",{className:"space-y-4",children:[l.map(I=>k.jsx("div",{className:"bg-blue-50 p-4 rounded-2xl shadow-sm border border-blue-100",children:k.jsx("div",{className:"flex justify-between items-start",children:k.jsxs("div",{className:"flex-1",children:[k.jsx("h3",{className:"font-semibold text-gray-800",children:I.dishName}),k.jsxs("p",{className:"text-sm text-gray-500",children:[new Date(I.createdAt).toLocaleString(),"  Kostnad: ",I.totalCost," kr"]}),I.notes&&k.jsx("p",{className:"text-sm text-gray-500 mt-1",children:I.notes}),k.jsx("button",{onClick:()=>w(b===I.id?null:I.id),className:"text-sm text-blue-600 mt-2",children:b===I.id?"Dlj detaljer":"Visa detaljer"}),b===I.id&&k.jsx("div",{className:"mt-3 space-y-2",children:I.items.map(N=>k.jsxs("div",{className:"text-sm text-gray-600 bg-white p-2 rounded",children:[N.itemName,": ",N.quantityUsed," ",N.unit,"  ",N.cost," kr"]},N.id))})]})})},I.id)),t.map(I=>k.jsx("div",{className:"bg-white p-4 rounded-2xl shadow-sm border border-gray-100",children:k.jsxs("div",{className:"flex justify-between items-start",children:[k.jsxs("div",{className:"flex-1",children:[k.jsx("h3",{className:"font-semibold text-gray-800",children:I.itemName}),I.dishName&&k.jsxs("p",{className:"text-sm text-gray-600",children:["Rtt: ",I.dishName]}),k.jsxs("p",{className:"text-sm text-gray-500",children:[new Date(I.date).toLocaleString(),"  ",M(I.reason)]}),k.jsxs("p",{className:"text-sm text-gray-600",children:[I.quantityUsed," ",I.unit,"  ",I.cost?`${I.cost} kr`:"Ingen kostnad"]}),I.notes&&k.jsx("p",{className:"text-sm text-gray-500 mt-1",children:I.notes})]}),k.jsxs("div",{className:"flex gap-2",children:[k.jsx("button",{onClick:()=>x(I),className:"text-sm text-emerald-600 hover:text-emerald-500",children:"Redigera"}),k.jsx("button",{onClick:()=>O(I.id),className:"text-sm text-red-600 hover:text-red-500",children:"Ta bort"})]})]})},I.id))]}),m&&d&&k.jsx(E2,{isOpen:m,onClose:()=>{y(!1),h(null)},onSubmit:R,initialValues:d})]})};function Are(){const[e,t]=C.useState(null),[n,r]=C.useState(!0);return C.useEffect(()=>{let i=!0;ft.auth.getSession().then(({data:l})=>{i&&(t(l.session??null),r(!1))});const{data:o}=ft.auth.onAuthStateChange((l,u)=>{t(u),r(!1)});return()=>{i=!1,o.subscription.unsubscribe()}},[]),{session:e,initializing:n}}const xre=e=>({id:e.id,name:e.name,quantity:e.quantity,unit:e.unit,category:e.category??"vrigt",expiryDate:e.expiry_date??"",priceInfo:e.price_info??void 0,addedDate:e.added_at,source:e.source});function Cre(e){const[t,n]=C.useState([]),[r,i]=C.useState(!1),[o,l]=C.useState(null),u=C.useCallback(async()=>{if(!e){n([]);return}i(!0),l(null);const{data:f,error:d}=await ft.from("inventory_items").select("*").eq("user_id",e).order("added_at",{ascending:!1});if(d)l(d.message),n([]);else{const h=f.map(xre);n(h)}i(!1)},[e]);return C.useEffect(()=>{u()},[u]),C.useEffect(()=>{if(!e)return;const f=ft.channel("inventory_items_changes").on("postgres_changes",{event:"*",schema:"public",table:"inventory_items",filter:`user_id=eq.${e}`},()=>{u()}).subscribe();return()=>{ft.removeChannel(f)}},[u,e]),{items:t,loading:r,error:o,refresh:u}}const Rre=()=>{var Ce,L;const[e,t]=C.useState("inventory"),[n,r]=C.useState(!1),[i,o]=C.useState(!1),[l,u]=C.useState(null),[f,d]=C.useState(""),[h,m]=C.useState(null),[y,b]=C.useState(null),[w,E]=C.useState(!1),{session:T,initializing:x}=Are(),O=((Ce=T==null?void 0:T.user)==null?void 0:Ce.id)??null,{items:R,loading:M,error:I,refresh:N}=Cre(O),{logs:U,loading:X,error:G,addLog:ie}=S2(O),{createSession:W,addSessionItem:te}=w2(O),se=async K=>{if(K.preventDefault(),b(null),m(null),!f){b("Fyll i en e-postadress.");return}E(!0);const ne="https://mat-lager-fv1cj4uc5-emmatufvessons-projects.vercel.app",{error:ae}=await ft.auth.signInWithOtp({email:f,options:{emailRedirectTo:ne}});E(!1),ae?b(ae.message):m("Kolla din inkorg fr en magisk inloggningslnk.")},he=async()=>{await ft.auth.signOut()},Ae=async K=>{if(!O){u("Du mste vara inloggad fr att lgga till varor.");return}const ne=new Date().toISOString(),ae=K.map(be=>({user_id:O,name:be.name,quantity:be.quantity,unit:be.unit,category:be.category,expiry_date:be.expiryDate||null,price_info:be.priceInfo??null,added_at:ne,source:"scan"})),{error:ve}=await ft.from("inventory_items").insert(ae);ve?u(ve.message):(u(null),await N(),r(!1))},z=async K=>{if(!O)return;const{error:ne}=await ft.from("inventory_items").delete().eq("id",K).eq("user_id",O);ne?u(ne.message):(u(null),await N())},Z=async(K,ne)=>{if(O)try{let ae=0;const ve=[],be=[];for(const He of K){const Y=R.find(Te=>Te.id===He.itemId);if(!Y)continue;let we=0;if(Y.priceInfo){const Te=He.deductAmount/Y.quantity;we=Y.priceInfo*Te}ae+=we,ve.push({sessionId:"",itemName:Y.name,quantityUsed:He.deductAmount,unit:Y.unit,cost:we}),be.push({date:new Date().toISOString(),itemName:Y.name,cost:we,quantityUsed:He.deductAmount,reason:"cooked",dishName:ne,unit:Y.unit})}const xe=await W({userId:O,dishName:ne,totalCost:ae});for(const He of ve)await te({...He,sessionId:xe});for(const He of K){const Y=R.find(Te=>Te.id===He.itemId);if(!Y)continue;const we=Y.quantity-He.deductAmount;if(we<=0){const{error:Te}=await ft.from("inventory_items").delete().eq("id",Y.id).eq("user_id",O);if(Te)throw Te}else{const{error:Te}=await ft.from("inventory_items").update({quantity:we,updated_at:new Date().toISOString()}).eq("id",Y.id).eq("user_id",O);if(Te)throw Te}}for(const He of be)await ie(He);await N(),t("inventory")}catch(ae){u(ae instanceof Error?ae.message:"Kunde inte spara matlagningssession.")}},oe=async K=>{await ie(K)},ue=R.reduce((K,ne)=>K+(ne.priceInfo||0),0);return x?k.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 text-gray-600",children:k.jsx("span",{children:"Laddar..."})}):T?k.jsxs("div",{className:"min-h-screen bg-gray-50 text-gray-900 font-sans",children:[k.jsx("header",{className:"bg-emerald-600 text-white p-4 pt-8 sticky top-0 z-20 shadow-md",children:k.jsxs("div",{className:"flex justify-between items-center max-w-3xl mx-auto",children:[k.jsxs("div",{children:[k.jsx("h1",{className:"text-xl font-bold tracking-tight",children:"MatSmart Lager"}),k.jsxs("p",{className:"text-emerald-100 text-sm",children:["Du har ",R.length," varor hemma"]})]}),k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx("span",{className:"text-emerald-100 text-xs sm:text-sm",children:(L=T.user)==null?void 0:L.email}),k.jsx("button",{onClick:he,className:"bg-white/10 hover:bg-white/20 text-white text-xs font-medium px-3 py-1.5 rounded-full",children:"Logga ut"})]}),k.jsx("button",{onClick:()=>r(!0),className:"bg-white text-emerald-600 rounded-full p-2 shadow-lg active:scale-90 transition-transform",children:k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})]})}),k.jsxs("main",{className:"max-w-3xl mx-auto min-h-[80vh]",children:[l&&k.jsx("div",{className:"mx-4 my-3 rounded-md bg-red-50 border border-red-200 p-3 text-sm text-red-700",children:l}),I&&k.jsx("div",{className:"mx-4 my-3 rounded-md bg-red-50 border border-red-200 p-3 text-sm text-red-700",children:I}),G&&k.jsx("div",{className:"mx-4 my-3 rounded-md bg-red-50 border border-red-200 p-3 text-sm text-red-700",children:G}),M?k.jsx("div",{className:"flex items-center justify-center py-16 text-gray-500",children:"Hmtar lagret..."}):k.jsxs(k.Fragment,{children:[e==="inventory"&&k.jsx(oq,{items:R,onRemove:z}),e==="recipes"&&k.jsx(ute,{inventory:R}),e==="history"&&k.jsx(Tre,{userId:O}),e==="cook"&&k.jsx($j,{inventory:R,onConfirmDeduction:Z}),e==="stats"&&(X?k.jsx("div",{className:"flex items-center justify-center py-16 text-gray-500",children:"Hmtar historik..."}):k.jsx(lte,{logs:U,inventoryValue:ue,onAddLogClick:()=>o(!0)}))]})]}),k.jsx("nav",{className:"fixed bottom-0 w-full bg-white border-t border-gray-200 shadow-lg z-30 pb-safe",children:k.jsxs("div",{className:"max-w-3xl mx-auto flex justify-around",children:[k.jsxs("button",{onClick:()=>t("inventory"),className:`flex flex-col items-center p-3 flex-1 ${e==="inventory"?"text-emerald-600":"text-gray-400"}`,children:[k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mb-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),k.jsx("span",{className:"text-xs font-medium",children:"Lager"})]}),k.jsxs("button",{onClick:()=>t("recipes"),className:`flex flex-col items-center p-3 flex-1 ${e==="recipes"?"text-emerald-600":"text-gray-400"}`,children:[k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mb-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),k.jsx("span",{className:"text-xs font-medium",children:"Recept"})]}),k.jsxs("button",{onClick:()=>t("history"),className:`flex flex-col items-center p-3 flex-1 ${e==="history"?"text-emerald-600":"text-gray-400"}`,children:[k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mb-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),k.jsx("span",{className:"text-xs font-medium",children:"Historik"})]}),k.jsxs("button",{onClick:()=>t("cook"),className:`flex flex-col items-center p-3 flex-1 ${e==="cook"?"text-emerald-600":"text-gray-400"}`,children:[k.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mb-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),k.jsx("span",{className:"text-xs font-medium",children:"Laga mat"})]}),k.jsxs("button",{onClick:()=>t("stats"),className:`flex flex-col items-center p-3 flex-1 ${e==="stats"?"text-emerald-600":"text-gray-400"}`,children:[k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mb-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),k.jsx("span",{className:"text-xs font-medium",children:"Ekonomi"})]})]})}),n&&k.jsx(zj,{onItemsIdentified:Ae,onClose:()=>r(!1)}),k.jsx(E2,{isOpen:i,onClose:()=>o(!1),onSubmit:oe})]}):k.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:k.jsxs("div",{className:"w-full max-w-sm bg-white shadow-lg rounded-2xl p-6 space-y-4",children:[k.jsx("h1",{className:"text-xl font-semibold text-gray-800",children:"Logga in"}),k.jsx("p",{className:"text-sm text-gray-500",children:"Skriv din e-postadress s skickar vi en magisk lnk."}),k.jsxs("form",{className:"space-y-3",onSubmit:se,children:[k.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["E-post",k.jsx("input",{type:"email",value:f,onChange:K=>d(K.target.value),className:"mt-1 w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-1 focus:ring-emerald-500",placeholder:"namn@example.com",required:!0})]}),k.jsx("button",{type:"submit",disabled:w,className:"w-full rounded-md bg-emerald-600 py-2 text-white font-semibold hover:bg-emerald-500 disabled:opacity-60",children:w?"Skickar...":"Skicka magisk lnk"})]}),h&&k.jsx("p",{className:"text-sm text-emerald-600",children:h}),y&&k.jsx("p",{className:"text-sm text-red-600",children:y})]})})},T2=document.getElementById("root");if(!T2)throw new Error("Could not find root element to mount to");const Ore=aq.createRoot(T2);Ore.render(k.jsx(NO.StrictMode,{children:k.jsx(Rre,{})}));
